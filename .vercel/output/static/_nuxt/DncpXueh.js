import{u as A}from"./t-MFjoUR.js";import{_ as D}from"./DNAPM-2u.js";import{_ as R}from"./DlAUqK2U.js";import{t as c,v as d,K as m,x as n,B as u,L as V}from"./D70xjexz.js";const y={props:{showCloseButton:{type:Boolean,default:!0}},setup(){const a=A(),t=()=>{a.showHRVAlert=!1},i=e=>{const[l,r,s]=e.split("/").map(Number);return new Date().getFullYear()-(1911+l)};return{store:a,handleCloseHRVAlert:t,convertAndSaveUserData:async()=>{const e=JSON.parse(localStorage.getItem("userData"));if(!e){alert("尚未登入。"),t();return}const l=v=>Number.isInteger(parseInt(v,10));if(!l(e.Height)||parseInt(e.Height)<=0){alert("您的身高格式不正確，請修改會員資料"),window.location.href="/changeMember";return}if(!l(e.Weight)||parseInt(e.Weight)<=0){alert("您的體重格式不正確，請修改會員資料"),window.location.href="/changeMember";return}const r=e.Birthday.split("/");if(r.length!==3||parseInt(r[0])<=0||parseInt(r[1])<1||parseInt(r[1])>12||parseInt(r[2])<1||parseInt(r[2])>31||isNaN(i(e.Birthday))){alert("生日格式不正確或包含無效日期，請修改會員資料。"),window.location.href="/changeMember";return}let s=parseInt(e.Sex);if(s!==1&&s!==2&&s!==0){alert("性別格式不正確，請修改會員資料。"),window.location.href="/changeMember";return}if(s=="2"&&(s=0),!["normal","prehypertension","hypertension"].includes(e.DSPR)){a.showDSPRSelect=!0,t();return}const f={age:i(e.Birthday),bp_group:e.DSPR,bp_mode:"ternary",facing_mode:"user",height:parseInt(e.Height),sex:s,weight:parseInt(e.Weight),time:parseInt(e.HRVCalTime)||2};sessionStorage.setItem("data",JSON.stringify(f));const I=a.detectUID,p=a.detectFlag,w=a.detectForm;let h="/vital/scan.html";p&&(h+=`?UID=${I}&flag=${p}&form=${w}`),window.location.href=h}}}},H={key:0,class:"cover"},S={key:1,class:"HRVAlert"};function _(a,t,i,o,e,l){return c(),d(V,null,[o.store.showHRVAlert?(c(),d("div",H)):m("",!0),o.store.showHRVAlert?(c(),d("div",S,[i.showCloseButton?(c(),d("img",{key:0,class:"HRVAlertClose",onClick:t[0]||(t[0]=(...r)=>o.handleCloseHRVAlert&&o.handleCloseHRVAlert(...r)),src:D,alt:""})):m("",!0),t[2]||(t[2]=n("h3",null,"智平衡健康集團提醒事項",-1)),t[3]||(t[3]=n("ul",null,[n("li",null,[u(" 測量時間"),n("span",{class:"point"},"約1分鐘"),u("。測量時請保持安靜與穩定，避免晃動、交談、憋氣或深呼吸。 ")]),n("li",null,[u("建議在"),n("span",{class:"point"},"光線充足、安靜無干擾"),u("的獨立空間進行測量，並確保全程臉部位於畫面中。")]),n("li",null,"測量結束後，網頁會自動跳轉至 「檢測結果」頁面。"),n("li",null," 本工具提供的心跳、心率變異率、血壓、血氧、呼吸與壓力指數等資訊，僅供保健參考，不具醫療診斷用途。請勿依據本數據自行診斷或調整藥物，應遵循醫師指示。 "),n("li",null," 本工具不對因測量結果引發的健康或法律問題負責，請於做出任何健康決策前，諮詢醫療專業人員。 ")],-1)),n("button",{class:"HRVAlertBtn",onClick:t[1]||(t[1]=(...r)=>o.convertAndSaveUserData&&o.convertAndSaveUserData(...r))},"確定")])):m("",!0)],64)}const U=R(y,[["render",_],["__scopeId","data-v-bc1c7658"]]);export{U as H};
