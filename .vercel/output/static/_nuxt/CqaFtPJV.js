import{_ as R}from"./W3k4iq7y.js";import{_ as N}from"./1SqYRxzD.js";import{_ as Z}from"./DZ0QEswA.js";import{_ as V}from"./0vb5oUBQ.js";import{P as Y,_ as K}from"./Cyv9YNxQ.js";import{a as W,c as E,s as H,f as X}from"./6FQ55jJ2.js";import{_ as M}from"./DlAUqK2U.js";import{j as f,v as u,x as h,y as n,A as b,z as p,S as A,C as G,J as I,a1 as tt,g as et,H as g,N as C,V as k,O as _,B as ot,M as $,d as st,r as F,F as rt,o as q,L as j,I as nt,_ as Q,$ as it}from"./HfdH-K36.js";import{a as v}from"./xsH4HHeE.js";import{u as L}from"./Bf7E4ooc.js";import{_ as at,i as lt,a as ct}from"./CwLDIuDU.js";import{N as dt}from"./D4NOPrlv.js";import{u as ht}from"./BUsOIeYI.js";/* empty css        */const mt={class:"resultList"},ut={class:"titleGroup"},pt={__name:"SymptomResult2",props:{symptomName:String,symptomRatio:String,symptomScore:String,symptomSerious:String,symptomCheckTime:String,sex:String},setup(t){const o=t;f(()=>o.symptomDifference?Number(o.symptomDifference.replace("%","")):0);function r(e){if(!e)return 0;const i=parseFloat(e.replace("%",""));return isNaN(i)?0:i}return(e,i)=>(h(),u("div",mt,[n("div",ut,[n("h3",null,p(t.symptomName),1)]),n("h5",null,"(本次)"+p(A(W)(t.symptomCheckTime||"")),1),b(Y,{score:r(t.symptomRatio),emojiSrc:A(E)(r(t.symptomRatio))},null,8,["score","emojiSrc"]),n("h4",null,[i[0]||(i[0]=G(" 嚴重程度 : ")),n("span",{style:I({color:A(H)(r(t.symptomRatio),t.sex)})},p(t.symptomRatio)+"("+p(t.symptomSerious)+") ",5)])]))}},O=M(pt,[["__scopeId","data-v-5705f5e6"]]),T=tt("weeklyQA2",{state:()=>({weeklyQA:[],currentStep:1,totalStep:0,timesStep:1,totalTimesStep:0,questionsPerPage:7,nowState:"",preDisabled:!0,nextDisabled:!1,theLatestData:{},babyScrollProgress:0,selectQuestionPerPage:7,totalQuestions:0,childResultData:{}}),getters:{sortedByScore:t=>[...t.weeklyQA].filter(o=>o.selectScore>0).sort((o,r)=>r.selectScore-o.selectScore),currentPageQuestions:t=>{const o=(t.currentStep-1)*t.questionsPerPage;return t.weeklyQA.slice(o,o+t.questionsPerPage)},nextText:t=>{if(t.nowState==="score")return t.currentStep>=t.totalStep?"下一步":`下一頁(${t.currentStep}/${t.totalStep})`;if(t.nowState==="times")return t.timesStep>=t.totalTimesStep?"下一步":`下一頁(${t.timesStep}/${t.totalTimesStep})`;if(t.nowState==="choose")return"看報告"},preText:t=>{if(t.nowState==="score")return t.currentStep>1?`上一頁(${t.currentStep}/${t.totalStep})`:"上一步";if(t.nowState==="times")return t.timesStep>1?`上一頁(${t.timesStep}/${t.totalTimesStep})`:"上一步";if(t.nowState==="choose")return"上一步"}},actions:{async getQues(){var o;const t=L();t.startLoading();try{const r=JSON.parse(localStorage.getItem("userData")||"{}"),{MID:e,Token:i,MAID:d,Mobile:s}=r;if(!e||!i||!d||!s)throw new Error("缺少用户凭据");const l=await v.post("https://23700999.com:8081/HMA/API_BB_GrowthRec2.jsp",{MID:e,Token:i,MAID:d,Mobile:s});if((o=l.data)!=null&&o.ChildQues){const{ChildQues:c}=l.data;this.totalQuestions=c.length,this.weeklyQA=c.map((m,a)=>({id:a,question:m.Question,selectScore:0,times:-1,active:!1})),this.totalStep=Math.ceil(this.weeklyQA.length/this.questionsPerPage),this.updateProgress()}else throw new Error("ChildQues 或 ChildInfo 数据为空")}catch(r){console.error("Error fetching questions:",r)}finally{t.stopLoading()}},toggleActive(t){const o=this.weeklyQA.find(r=>r.id===t);o&&(o.active=!o.active)},async saveChildAnswers(){const t=L();t.startLoading();const o=JSON.parse(localStorage.getItem("userData")||"{}"),{MID:r,Token:e,MAID:i,Mobile:d,ChildInfo:s}=o;if(!r||!e||!i||!d)throw new Error("Missing authentication data (MID, Token, MAID, or Mobile)");try{if(console.log("保存答案时 Total Questions:",this.totalQuestions),this.totalQuestions===0){console.error("总问题数为 0，无法保存答案");return}const l=this.weeklyQA.map(a=>({QueSeq:String(a.id+1),QueAns:String(a.selectScore)})),c={MID:r,Token:e,MAID:i,Mobile:d,CID:String(s[0].CID),MaxQ:String(this.totalQuestions),ChildAns:l};console.log("保存答案的 Payload:",c);const m=await v.post("https://23700999.com:8081/HMA/API_BB_ChildAnsSave.jsp",c);if(m.data){const a=m.data.ChildInfo[0].AID;console.log("Received AID:",a),this.theLatestData.AID=a}else console.warn("AID 未在响应中返回")}catch(l){console.error("Error saving answers:",l)}finally{t.stopLoading()}},async saveChildTimes(){try{const t=JSON.parse(localStorage.getItem("userData")||"{}"),{MID:o,Token:r,MAID:e,Mobile:i,ChildInfo:d}=t;if(!o||!r||!e||!i)throw new Error("Missing authentication data (MID, Token, MAID, or Mobile)");const s=this.weeklyQA.map(l=>({QSeq:String(l.id+1),QTimes:String(l.times||0)}));await v.post("https://23700999.com:8081/HMA/API_BB_GrowthRecTimes.jsp",{MID:o,Token:r,MAID:e,Mobile:i,CID:d[0].CID,AID:this.theLatestData.AID||"",TimesData:s})}catch(t){console.error("Error saving times:",t)}},async saveChildSolutions(){try{const t=JSON.parse(localStorage.getItem("userData")||"{}"),{MID:o,Token:r,MAID:e,Mobile:i,ChildInfo:d}=t;if(!o||!r||!e||!i)throw new Error("Missing authentication data (MID, Token, MAID, or Mobile)");const s=this.weeklyQA.filter(c=>c.active).map(c=>({QSeq:String(c.id+1),QAns:"1"}));if(s.length===0){console.warn("No active solutions to save");return}const l={MID:o,Token:r,MAID:e,Mobile:i,AID:this.theLatestData.AID||"",CID:d[0].CID,SolveData:s};console.log("Saving solutions payload:",l),await v.post("https://23700999.com:8081/HMA/API_BB_GrowthSolve.jsp",l),console.log("Solutions saved successfully")}catch(t){console.error("Error saving solutions:",t)}},async fetchResultAnalysis(t){var r;if(this.sortedByScore.length>0)return;const o=L();o.startLoading();try{const e=JSON.parse(localStorage.getItem("userData")||"{}"),{MID:i,Token:d,MAID:s,Mobile:l,ChildInfo:c}=e;if(!i||!d||!s||!l)throw new Error("Missing required data for result analysis");const m={MID:i,Token:d,MAID:s,Mobile:l,CID:c[0].CID,AID:t};console.log("Result Analysis Payload:",m);const a=await v.post("https://23700999.com:8081/HMA/API_BB_GrowthFirst.jsp",m);if(a.data){if(console.log("Result Analysis Response:",a.data),Number(a.data.ChildInfo[0].diffDaysFromToday)<0)this.getQues(),this.nowState="score";else{this.nowState="result",this.babyScrollProgress=100;const S=(r=a.data.ChildInfo[0])==null?void 0:r.AID;S&&S!==t?await this.fetchResultAnalysis(S):this.childResultData=a.data}this.theLatestData.resultAnalysis=a.data}else console.warn("结果分析 API 返回数据为空")}catch(e){console.error("Error fetching result analysis:",e)}finally{o.stopLoading()}},async saveAllData(){const t=L();t.startLoading();try{await this.saveChildAnswers(),await this.saveChildTimes(),await this.saveChildSolutions()}catch(o){console.error("保存數據時發生錯誤：",o)}finally{t.stopLoading()}},async handleNextStep(){if(this.nowState==="score")if(this.currentStep<this.totalStep)this.currentStep+=1;else{if(this.sortedByScore.length<3){alert("请至少选择3题目！");return}this.nowState="times",this.totalTimesStep=Math.ceil(this.sortedByScore.length/this.selectQuestionPerPage),this.timesStep=1}else if(this.nowState==="times")this.timesStep<this.totalTimesStep?this.timesStep+=1:this.nowState="choose";else if(this.nowState==="choose"){await this.saveAllData(),await this.resetStateAndFetchResult();return}this.updateProgress()},async resetStateAndFetchResult(){var o;const t=L();t.startLoading();try{const r=JSON.parse(localStorage.getItem("userData")||"{}"),{MID:e,Token:i,MAID:d,Mobile:s,ChildInfo:l}=r;if(!e||!i||!d||!s||!l)throw new Error("Missing required user data");const c={MID:e,Token:i,MAID:d,Mobile:s,CID:l[0].CID,AID:this.theLatestData.AID||""};console.log("Calling API with payload:",c);const m=await v.post("https://23700999.com:8081/HMA/API_BB_GrowthFirst.jsp",c);if((o=m.data)!=null&&o.ChildInfo)Number(m.data.ChildInfo[0].diffDaysFromToday)<0?(await this.getQues(),this.nowState="score"):(this.nowState="result",this.childResultData=m.data,this.babyScrollProgress=100);else throw new Error("API response missing required data")}catch(r){console.error("Error during result analysis:",r)}finally{t.stopLoading()}},handlePrevStep(){this.nowState==="times"?this.timesStep>1?this.timesStep-=1:(this.nowState="score",this.currentStep=this.totalStep):this.nowState==="score"?this.currentStep>1&&(this.currentStep-=1):this.nowState==="choose"&&(this.nowState="times",this.timesStep=this.totalTimesStep),this.updateProgress()},updateButtonState(){this.preDisabled=this.nowState==="score"&&this.currentStep===1||this.nowState==="times"&&this.timesStep===1,this.nextDisabled=this.nowState==="score"&&this.currentStep===this.totalStep||this.nowState==="times"&&this.timesStep===this.totalTimesStep||this.nowState==="choose"},updateProgress(){let i=0;this.nowState==="score"?i=this.currentStep/this.totalStep*60/100:this.nowState==="times"?i=60/100:this.nowState==="choose"&&(i=90/100),this.babyScrollProgress=Math.round(i*100),console.log("Progress updated:",this.babyScrollProgress,this.nowState)}}}),St={components:{SymptomResult2:O},setup(){const t=T(),o=$(),r=localStorage.getItem("userData");let e={};try{e=r?JSON.parse(r):{}}catch(l){console.error("Error parsing localStorage data:",l)}const i=e.ChildInfo||[];return{store:t,backToUser:()=>{o.push({name:"user"})},computedScore:l=>parseFloat(l.replace("%",""))||0,ChildInfo:i,formatTimestamp3:X,scoreColorFn:H,computedEmoji2:E,formatTimestamp:W}}},gt={class:"resultWrap"},_t={class:"resultTopGroup"},ft={class:"resultInfo"},yt={class:"resultListGroup"},Ct={key:0,class:"textResultText"},wt={class:"detectionWrap"},vt={class:"detectionDate"},Lt={class:"detectionGroup"},It={class:"scroeTotal"},kt={class:"seriousDegreeGroup"},Mt={class:"backToUserBtnGroupWeekly"};function Tt(t,o,r,e,i,d){var c,m;const s=O,l=et("router-link");return h(),u("div",gt,[n("div",_t,[n("div",ft,[n("h4",null," 感謝您的使用！以下是"+p(((m=(c=e.ChildInfo)==null?void 0:c[0])==null?void 0:m.Name)||"寶貝")+"的最新測量結果 ",1)]),o[1]||(o[1]=n("img",{class:"doctorImg",src:K,alt:""},null,-1))]),o[4]||(o[4]=n("h4",{class:"textResultText"},"以下為兒童指標的綜合分析結果",-1)),n("div",yt,[(h(!0),u(C,null,k(e.store.childResultData.ChildScore,(a,S)=>(h(),_(s,{key:S,symptomName:a.TypeName,symptomCheckTime:a.CheckTime,symptomRatio:a.Ratio,symptomScore:a.Score,symptomSerious:a.Serious,sex:e.ChildInfo[0].Sex},null,8,["symptomName","symptomCheckTime","symptomRatio","symptomScore","symptomSerious","sex"]))),128))]),e.store.childResultData.ChildHistoryScore.length>0?(h(),u("h4",Ct," 檢測紀錄 ")):g("",!0),n("div",wt,[(h(!0),u(C,null,k(e.store.childResultData.ChildHistoryScore,(a,S)=>(h(),_(l,{class:"detection",key:S,to:`/weeklyResultDetail2/${a[0].AID}`},{default:ot(()=>{var y,D,w,x,P,B;return[o[3]||(o[3]=n("div",{class:"cGroup"},[n("img",{class:"img",src:at,alt:""})],-1)),n("h3",vt,p(e.formatTimestamp3((y=a[0])==null?void 0:y.CheckTime)),1),n("div",Lt,[n("div",It,[n("h5",null,p((D=a[3])==null?void 0:D.TypeName),1),n("div",{style:I({color:e.scoreColorFn(e.computedScore((w=a[3])==null?void 0:w.Score),e.ChildInfo[0].sex)}),class:"totalScore"},p((x=a[3])==null?void 0:x.Score),5)]),n("div",kt,[n("h5",null,p((P=a[0])==null?void 0:P.TypeName),1),n("div",{style:I({color:e.scoreColorFn(e.computedScore((B=a[0])==null?void 0:B.Score),e.ChildInfo[0].sex)}),class:"seriousScore"},p(a[0].Ratio),5)]),o[2]||(o[2]=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none"},[n("path",{d:"M5.99159 3.37719L11.4726 8.99994L5.99159 14.6227C5.89346 14.7232 5.83853 14.858 5.83853 14.9984C5.83853 15.1389 5.89346 15.2737 5.99159 15.3742C6.03925 15.4228 6.09613 15.4615 6.15891 15.4879C6.2217 15.5142 6.28911 15.5278 6.35721 15.5278C6.42531 15.5278 6.49273 15.5142 6.55551 15.4879C6.61829 15.4615 6.67518 15.4228 6.72284 15.3742L12.5548 9.39257C12.6572 9.28752 12.7145 9.14664 12.7145 8.99994C12.7145 8.85325 12.6572 8.71236 12.5548 8.60732L6.72396 2.62569C6.67627 2.57671 6.61924 2.53777 6.55625 2.51119C6.49326 2.4846 6.42558 2.4709 6.35721 2.4709C6.28884 2.4709 6.22116 2.4846 6.15817 2.51119C6.09518 2.53777 6.03816 2.57671 5.99046 2.62569C5.89234 2.72615 5.8374 2.86101 5.8374 3.00144C5.8374 3.14187 5.89234 3.27673 5.99046 3.37719L5.99159 3.37719Z",fill:"#666666"})],-1))])]}),_:2},1032,["to"]))),128))]),n("div",Mt,[n("button",{class:"backToUserBtnWeekly",onClick:o[0]||(o[0]=(...a)=>e.backToUser&&e.backToUser(...a))}," 返回會員中心 ")])])}const Dt=M(St,[["render",Tt]]),At=st({setup(){const t=T(),o=F(null),r=f(()=>t.currentStep),e=7,i=f(()=>{const m=(r.value-1)*e,a=r.value*e;return t.weeklyQA.slice(m,a)}),d=f(()=>(r.value-1)*e),s=(m,a)=>{const S=t.weeklyQA.indexOf(m);S!==-1&&(t.weeklyQA[S]={...t.weeklyQA[S],selectScore:a,score:a})},l=m=>["無","輕微","中等","嚴重"][m]||"",c=()=>{if(o.value){o.value.scrollTop=0;const a=o.value.getBoundingClientRect().top+window.scrollY;window.scrollTo({top:a,behavior:"smooth"})}};return rt(r,()=>{c()}),q(()=>{c()}),{store:t,setScore:s,getLabel:l,paginatedQuestions:i,currentPage:r,startIndex:d,qaList:o}}}),bt={class:"QAList",ref:"qaList"},xt={class:"scrollBarTitle"},Pt={class:"scoreText"},Bt={class:"scoreBarGroup"},Qt={class:"numberGroup"},Rt=["onClick"];function Nt(t,o,r,e,i,d){return h(),u("div",bt,[(h(!0),u(C,null,k(t.paginatedQuestions,(s,l)=>(h(),u("div",{class:"scoreBarGroupWrap",key:s.question},[n("div",xt,p(t.startIndex+l+1)+". "+p(s.question),1),n("div",Pt,p(t.getLabel(s.selectScore)),1),n("div",Bt,[n("div",{class:"scoreBar",style:I({width:s.selectScore!==void 0?`${s.selectScore*33.33}%`:"0%",backgroundColor:"#74bc1f"})},null,4),n("div",{class:"remainingBar",style:I({width:s.selectScore!==void 0?`${(3-s.selectScore)*33.33}%`:"100%",backgroundColor:"#ccc"})},null,4),n("div",Qt,[(h(),u(C,null,k(4,c=>n("div",{key:c,class:j(["number",{selected:s.selectScore>=c-1}]),onClick:m=>t.setScore(s,c-1)},p(c-1),11,Rt)),64))])])]))),128))],512)}const J=M(At,[["render",Nt],["__scopeId","data-v-b708ac9d"]]),Zt={setup(){const t=T(),o=f(()=>t.timesStep),r=t.selectQuestionPerPage,e=f(()=>{const s=(o.value-1)*r,l=o.value*r;return t.sortedByScore.slice(s,l)}),i=f(()=>(o.value-1)*r);return{paginatedQuestions:e,updateTimes:(s,l)=>{const c=t.weeklyQA.find(m=>m.id===s);c&&(c.times=Number(l))},startIndex:i,store:t}}},Vt={class:"tagTimesList"},Wt=["onChange","onUpdate:modelValue"];function Et(t,o,r,e,i,d){return h(),u("div",Vt,[(h(!0),u(C,null,k(e.paginatedQuestions,(s,l)=>(h(),u("div",{class:"timesList",key:s.id},[n("h3",null,p(e.startIndex+l+1)+". "+p(s.question),1),nt(n("select",{onChange:c=>e.updateTimes(s.id,c.target.value),class:"timesList","onUpdate:modelValue":c=>s.times=c},o[0]||(o[0]=[Q('<option value="-1" data-v-b0e6d139>0</option><option value="1" data-v-b0e6d139>1</option><option value="2" data-v-b0e6d139>2</option><option value="3" data-v-b0e6d139>3~4</option><option value="6" data-v-b0e6d139>&gt;5</option>',5)]),40,Wt),[[it,s.times]]),o[1]||(o[1]=Q('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 16 17" fill="none" data-v-b0e6d139><mask id="path-1-inside-1_9840_178092" fill="white" data-v-b0e6d139><path d="M12.9978 5.99252L7.99983 10.8645L3.00183 5.99252C2.91253 5.9053 2.79266 5.85647 2.66783 5.85647C2.543 5.85647 2.42313 5.9053 2.33383 5.99252C2.29059 6.03489 2.25624 6.08545 2.23279 6.14126C2.20934 6.19706 2.19727 6.25699 2.19727 6.31752C2.19727 6.37805 2.20934 6.43798 2.23279 6.49378C2.25624 6.54959 2.29059 6.60016 2.33383 6.64252L7.65083 11.8265C7.74421 11.9175 7.86944 11.9685 7.99983 11.9685C8.13023 11.9685 8.25546 11.9175 8.34883 11.8265L13.6658 6.64352C13.7094 6.60113 13.744 6.55044 13.7676 6.49444C13.7912 6.43845 13.8034 6.3783 13.8034 6.31752C13.8034 6.25675 13.7912 6.19659 13.7676 6.1406C13.744 6.08461 13.7094 6.03392 13.6658 5.99152C13.5765 5.9043 13.4567 5.85547 13.3318 5.85547C13.207 5.85547 13.0871 5.9043 12.9978 5.99152V5.99252Z" data-v-b0e6d139></path></mask><path d="M12.9978 5.99252L7.99983 10.8645L3.00183 5.99252C2.91253 5.9053 2.79266 5.85647 2.66783 5.85647C2.543 5.85647 2.42313 5.9053 2.33383 5.99252C2.29059 6.03489 2.25624 6.08545 2.23279 6.14126C2.20934 6.19706 2.19727 6.25699 2.19727 6.31752C2.19727 6.37805 2.20934 6.43798 2.23279 6.49378C2.25624 6.54959 2.29059 6.60016 2.33383 6.64252L7.65083 11.8265C7.74421 11.9175 7.86944 11.9685 7.99983 11.9685C8.13023 11.9685 8.25546 11.9175 8.34883 11.8265L13.6658 6.64352C13.7094 6.60113 13.744 6.55044 13.7676 6.49444C13.7912 6.43845 13.8034 6.3783 13.8034 6.31752C13.8034 6.25675 13.7912 6.19659 13.7676 6.1406C13.744 6.08461 13.7094 6.03392 13.6658 5.99152C13.5765 5.9043 13.4567 5.85547 13.3318 5.85547C13.207 5.85547 13.0871 5.9043 12.9978 5.99152V5.99252Z" fill="#1E1E1E" data-v-b0e6d139></path><path d="M12.9978 5.99252L13.6959 6.7086L13.9978 6.41423V5.99252H12.9978ZM7.99983 10.8645L7.30181 11.5806L7.99983 12.261L8.69786 11.5806L7.99983 10.8645ZM3.00183 5.99252L2.30309 6.70789L2.30381 6.7086L3.00183 5.99252ZM2.66783 5.85647V4.85647V5.85647ZM2.33383 5.99252L1.63509 5.27715L1.63398 5.27824L2.33383 5.99252ZM2.19727 6.31752H3.19727H2.19727ZM2.33383 6.64252L1.63398 7.35681L1.63574 7.35853L2.33383 6.64252ZM7.65083 11.8265L6.95274 12.5425L6.95283 12.5426L7.65083 11.8265ZM8.34883 11.8265L9.04683 12.5426L9.04686 12.5426L8.34883 11.8265ZM13.6658 6.64352L12.9682 5.92704L12.9678 5.92745L13.6658 6.64352ZM13.6658 5.99152L12.9671 6.70689L12.9682 6.708L13.6658 5.99152ZM13.3318 5.85547V6.85547V5.85547ZM12.9978 5.99152L12.2991 5.27615L11.9978 5.5704V5.99152H12.9978ZM12.2998 5.27645L7.30181 10.1484L8.69786 11.5806L13.6959 6.7086L12.2998 5.27645ZM8.69786 10.1484L3.69986 5.27645L2.30381 6.7086L7.30181 11.5806L8.69786 10.1484ZM3.70058 5.27715C3.42447 5.00746 3.05381 4.85647 2.66783 4.85647V6.85647C2.53151 6.85647 2.4006 6.80314 2.30309 6.70789L3.70058 5.27715ZM2.66783 4.85647C2.28186 4.85647 1.9112 5.00746 1.63509 5.27715L3.03258 6.70789C2.93506 6.80314 2.80415 6.85647 2.66783 6.85647V4.85647ZM1.63398 5.27824C1.49571 5.41371 1.38587 5.5754 1.31088 5.75387L3.15471 6.52865C3.12662 6.5955 3.08547 6.65607 3.03369 6.70681L1.63398 5.27824ZM1.31088 5.75387C1.23589 5.93232 1.19727 6.12395 1.19727 6.31752H3.19727C3.19727 6.39003 3.1828 6.4618 3.15471 6.52865L1.31088 5.75387ZM1.19727 6.31752C1.19727 6.51109 1.23589 6.70272 1.31088 6.88118L3.15471 6.10639C3.1828 6.17324 3.19727 6.24502 3.19727 6.31752H1.19727ZM1.31088 6.88118C1.38587 7.05964 1.49571 7.22134 1.63398 7.35681L3.03369 5.92824C3.08548 5.97898 3.12662 6.03955 3.15471 6.10639L1.31088 6.88118ZM1.63574 7.35853L6.95274 12.5425L8.34893 11.1105L3.03193 5.92652L1.63574 7.35853ZM6.95283 12.5426C7.23295 12.8157 7.60865 12.9685 7.99983 12.9685V10.9685C8.13023 10.9685 8.25546 11.0194 8.34883 11.1104L6.95283 12.5426ZM7.99983 12.9685C8.39101 12.9685 8.76671 12.8157 9.04683 12.5426L7.65083 11.1104C7.7442 11.0194 7.86944 10.9685 7.99983 10.9685V12.9685ZM9.04686 12.5426L14.3639 7.35959L12.9678 5.92745L7.65081 11.1104L9.04686 12.5426ZM14.3634 7.36001C14.5027 7.22443 14.6134 7.06233 14.6889 6.88329L12.8463 6.1056C12.8746 6.03854 12.9161 5.97782 12.9682 5.92704L14.3634 7.36001ZM14.6889 6.88329C14.7645 6.70423 14.8034 6.51186 14.8034 6.31752H12.8034C12.8034 6.24473 12.818 6.17268 12.8463 6.1056L14.6889 6.88329ZM14.8034 6.31752C14.8034 6.12319 14.7645 5.93081 14.6889 5.75176L12.8463 6.52944C12.818 6.46237 12.8034 6.39031 12.8034 6.31752H14.8034ZM14.6889 5.75176C14.6134 5.57271 14.5027 5.41061 14.3634 5.27504L12.9682 6.708C12.9161 6.65722 12.8746 6.59651 12.8463 6.52944L14.6889 5.75176ZM14.3646 5.27615C14.0885 5.00645 13.7178 4.85547 13.3318 4.85547V6.85547C13.1955 6.85547 13.0646 6.80214 12.9671 6.70689L14.3646 5.27615ZM13.3318 4.85547C12.9459 4.85547 12.5752 5.00645 12.2991 5.27615L13.6966 6.70689C13.5991 6.80214 13.4682 6.85547 13.3318 6.85547V4.85547ZM11.9978 5.99152V5.99252H13.9978V5.99152H11.9978Z" fill="#74BC1F" mask="url(#path-1-inside-1_9840_178092)" data-v-b0e6d139></path></svg>',1))]))),128))])}const U=M(Zt,[["render",Et],["__scopeId","data-v-b0e6d139"]]),Ht={setup(){const t=T(),o=f(()=>!t.weeklyQA.length||!t.sortedByScore.length?[]:t.weeklyQA.filter(e=>t.sortedByScore.some(i=>i.id===e.id)).sort((e,i)=>i.times-e.times));return{store:t,activeImage:ct,inactiveImage:lt,toggleActive:e=>{t.weeklyQA.filter(d=>d.active).length>=10&&!t.weeklyQA.find(d=>d.id===e).active?alert("已選擇10個最想解決的症狀了"):t.toggleActive(e)},sortedSymptoms:o}}},Gt={class:"symptomChooseBox"},$t=["onClick"],Ft=["src"];function qt(t,o,r,e,i,d){return h(),u("div",Gt,[(h(!0),u(C,null,k(e.sortedSymptoms,s=>(h(),u("div",{class:j(["symptomChoose",{symptomChooseActive:s.active}]),key:s.id,onClick:l=>e.toggleActive(s.id)},[n("img",{src:s.active?e.activeImage:e.inactiveImage,alt:""},null,8,Ft),n("h3",null,p(s.question),1)],10,$t))),128))])}const z=M(Ht,[["render",qt],["__scopeId","data-v-84fef09c"]]);ht({title:"",description:"NeuroPlus神經調節家提供專業的自律神經檢測服務，運用FDA認證AI技術，透過人臉辨識快速分析HRV數據，幫助您了解自律神經狀態。",url:"https://neuroplus.com.tw"});const jt={components:{Navbar:dt,TagList:Z,WeeklyScoreBar2:J,TagTimesList2:U,SymptomChoose2:z,RaphaelLoading:R,StepIndicator:V,TitleMenu:N},setup(){const t=$(),o=localStorage.getItem("userData");let r,e,i,d,s=[];try{o&&({MID:r,Token:e,MAID:i,Mobile:d,ChildInfo:s=[]}=JSON.parse(o))}catch(y){console.error("Error parsing localStorage data",y)}if(!r||!e||!i||!d){t.push("/");return}const l=T(),c=L(),m=f(()=>{switch(l.nowState){case"score":case"times":case"choose":return"寶貝紀錄";case"result":return"結果分析";default:return"健康紀錄"}}),a=()=>{l.nowState="result"},S=F(0);return q(async()=>{try{await l.fetchResultAnalysis("")}catch(y){console.error("Error during fetchResultAnalysis:",y)}}),{store:l,h1Text:m,common:c,resultChange:a,progress:S,ChildInfo:s}}},Ot={class:"weeklyRecord"},Jt={class:"weeklyQAGroup"},Ut={class:"babyRecord"},zt={class:"babyGroup"},Yt={class:"subGroup"},Kt={class:"number"},Xt={class:"QAScrollBar"},te={key:2,class:"subListTitle"},ee={key:3,class:"subListTitle"},oe={key:4,class:"subListTitle"},se={key:0,class:"weeklyBtnGroup"},re=["disabled"];function ne(t,o,r,e,i,d){const s=R,l=N,c=Z,m=V,a=Dt,S=J,y=U,D=z;return h(),u(C,null,[e.common.isLoading?(h(),_(s,{key:0})):g("",!0),n("div",Ot,[b(l,{Text:e.h1Text,link:"/user"},null,8,["Text"]),n("div",Jt,[b(c),e.store.nowState=="result"?(h(),_(m,{key:0,stepTexts:["填寫問卷","結果分析"],currentStep:1})):g("",!0),e.store.nowState!=="result"?(h(),_(m,{key:1,stepTexts:["填寫問卷","結果分析"],currentStep:0})):g("",!0),n("div",Ut,[n("div",zt,[n("h3",null,p(e.ChildInfo[0].Name||"寶貝"),1),n("div",Yt,[o[2]||(o[2]=n("p",null,"問卷進度",-1)),n("div",Kt,p(e.store.babyScrollProgress)+"%",1)]),n("div",Xt,[n("div",{class:"progress",style:I({width:e.store.babyScrollProgress+"%"})},null,4)])])]),e.store.nowState=="score"?(h(),u("div",te," 以下問題的困擾程度 ")):g("",!0),e.store.nowState=="times"?(h(),u("div",ee," 以下問題上週發生幾次 ")):g("",!0),e.store.nowState=="choose"?(h(),u("div",oe,o[3]||(o[3]=[G(" 您好, 下列為您目前覺得困擾的症狀，請從中選擇"),n("strong",null,"最多10個目前最想解決的症狀",-1)]))):g("",!0),e.store.nowState=="result"?(h(),_(a,{key:5})):g("",!0),e.store.nowState=="score"?(h(),_(S,{key:6})):g("",!0),e.store.nowState=="times"?(h(),_(y,{key:7})):g("",!0),e.store.nowState=="choose"?(h(),_(D,{key:8})):g("",!0)]),e.store.nowState==="score"||e.store.nowState==="times"||e.store.nowState==="choose"?(h(),u("div",se,[!(e.store.nowState==="score"&&e.store.currentStep===1)&&!(e.store.nowState==="times"&&e.store.timesStep===1)&&!(e.store.nowState==="choose"&&e.store.timesStep===1)?(h(),u("button",{key:0,class:"weeklyBtn preBtn",onClick:o[0]||(o[0]=(...w)=>e.store.handlePrevStep&&e.store.handlePrevStep(...w)),disabled:t.preDisabled},p(e.store.preText),9,re)):g("",!0),n("button",{class:"weeklyBtn",onClick:o[1]||(o[1]=(...w)=>e.store.handleNextStep&&e.store.handleNextStep(...w))},p(e.store.nextText),1)])):g("",!0)])],64)}const Ce=M(jt,[["render",ne],["__scopeId","data-v-b2351640"]]);export{Ce as default};
