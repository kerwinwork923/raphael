import{a1 as At,r as R,o as Ee,X as gt,G as Fe,F as ye,v as u,x as a,y as e,A as E,S as p,a3 as ne,d as me,j as g,z as t,C as V,N as U,V as B,J as Ct,L as O,H as J,M as kt,E as It,al as $t,O as Pe,_ as Be,a0 as Rt}from"./HfdH-K36.js";import{S as wt,_ as bt}from"./CnXDUYsJ.js";import{C as je,f as Dt}from"./DSWhhf30.js";import{_ as re}from"./DlAUqK2U.js";import{_ as Oe}from"./CMF1m4mw.js";import{u as St}from"./BUsOIeYI.js";const Vt="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%3e%3cpath%20d='M3%207V13M3%2013H9M3%2013L6%2010.3C7.64885%208.82116%209.78512%208.00226%2012%208C14.3869%208%2016.6761%208.94821%2018.364%2010.636C20.0518%2012.3239%2021%2014.6131%2021%2017'%20stroke='%23F5F7FA'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Ht="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%3e%3cpath%20d='M16.666%2017.4997V10.833C16.666%2010.391%2016.4904%209.96706%2016.1779%209.6545C15.8653%209.34194%2015.4414%209.16634%2014.9993%209.16634H4.99935C4.55732%209.16634%204.1334%209.34194%203.82084%209.6545C3.50828%209.96706%203.33268%2010.391%203.33268%2010.833V17.4997M3.33268%2013.333C3.33268%2013.333%203.74935%2012.4997%204.99935%2012.4997C6.24935%2012.4997%207.08268%2014.1663%208.33268%2014.1663C9.58268%2014.1663%2010.416%2012.4997%2011.666%2012.4997C12.916%2012.4997%2013.7493%2014.1663%2014.9993%2014.1663C16.2493%2014.1663%2016.666%2013.333%2016.666%2013.333M1.66602%2017.4997H18.3327M5.83268%206.66634V9.16634M9.99935%206.66634V9.16634M14.166%206.66634V9.16634M5.83268%203.33301H5.84102M9.99935%203.33301H10.0077M14.166%203.33301H14.1743'%20stroke='%23B1C0D8'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Mt="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%3e%3cpath%20d='M9.99935%2015.0003H10.0077M5.83268%201.66699H14.166C15.0865%201.66699%2015.8327%202.41318%2015.8327%203.33366V16.667C15.8327%2017.5875%2015.0865%2018.3337%2014.166%2018.3337H5.83268C4.91221%2018.3337%204.16602%2017.5875%204.16602%2016.667V3.33366C4.16602%202.41318%204.91221%201.66699%205.83268%201.66699Z'%20stroke='%23B1C0D8'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",We="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%3e%3cg%20clip-path='url(%23clip0_3127_14411)'%3e%3cpath%20d='M9.99935%205.00033V10.0003L13.3327%2011.667M18.3327%2010.0003C18.3327%2014.6027%2014.6017%2018.3337%209.99935%2018.3337C5.39698%2018.3337%201.66602%2014.6027%201.66602%2010.0003C1.66602%205.39795%205.39698%201.66699%209.99935%201.66699C14.6017%201.66699%2018.3327%205.39795%2018.3327%2010.0003Z'%20stroke='%23B1C0D8'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_3127_14411'%3e%3crect%20width='20'%20height='20'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Lt="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%3e%3cpath%20d='M2.5%2010C2.5%2011.4834%202.93987%2012.9334%203.76398%2014.1668C4.58809%2015.4001%205.75943%2016.3614%207.12987%2016.9291C8.50032%2017.4968%2010.0083%2017.6453%2011.4632%2017.3559C12.918%2017.0665%2014.2544%2016.3522%2015.3033%2015.3033C16.3522%2014.2544%2017.0665%2012.918%2017.3559%2011.4632C17.6453%2010.0083%2017.4968%208.50032%2016.9291%207.12987C16.3614%205.75943%2015.4001%204.58809%2014.1668%203.76398C12.9334%202.93987%2011.4834%202.5%2010%202.5C7.90329%202.50789%205.89081%203.32602%204.38333%204.78333L2.5%206.66667M2.5%206.66667V2.5M2.5%206.66667H6.66667M10%205.83333V10L13.3333%2011.6667'%20stroke='%231BA39B'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Nt=At("member",()=>{const P=R(null),i=R(null),l=R(""),n=R([]),r=R([]),$=R([]),H=R([]),C=R([]),m=R(!1);async function v(w){var T,D,I,N,h,M;try{const{token:y,admin:f,sel:S}=w;if(!y||!f||!S.MID)return;const x=await(await fetch("https://23700999.com:8081/HMA/API_MemberDetail.jsp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({AdminID:f,Token:y,MID:S.MID,Mobile:S.Mobile??""})})).json();x.Result==="OK"&&(P.value=x.MemberDetail.Member,i.value=((T=x.MemberDetail.NowOrderList)==null?void 0:T[0])??null);const d={StartDate:"",EndDate:""},c=(de,te=d)=>fetch(`https://23700999.com:8081/HMA/${de}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({AdminID:f,Token:y,MID:S.MID,Mobile:S.Mobile??"",...te})}).then(ve=>ve.json()),[Y,ae,ee,ie,W]=await Promise.all([c("API_MemberUseRecord.jsp"),c("API_MemberHRV2.jsp"),c("API_MemberANS.jsp"),c("API_MemberSleepRec.jsp"),c("API_MemberChildANS.jsp",{CID:""})]);console.log("使用紀錄 API 回應:",Y),C.value=((D=Y==null?void 0:Y.MemberUseRecode)==null?void 0:D.UseRecodeList)??[],n.value=((I=ae==null?void 0:ae.MemberHRV2)==null?void 0:I.HRV2List)??[],r.value=((N=ee==null?void 0:ee.MemberANS)==null?void 0:N.ANSList)??[],$.value=((h=ie==null?void 0:ie.MemberSleepRec)==null?void 0:h.SleepRecList)??[],H.value=((M=W==null?void 0:W.MemberChildANS)==null?void 0:M.ChildScore)??[],l.value=new Date().toLocaleString("zh-TW"),m.value=!0}catch(y){console.error("取得會員資料失敗：",y)}}function b(){P.value=null,i.value=null,l.value="",n.value=[],r.value=[],$.value=[],H.value=[],C.value=[],m.value=!1}return{member:P,currentOrder:i,lastUpdated:l,hrvRecords:n,ansRecords:r,lifeRecords:$,childANS:H,homeOrders:C,hasFetched:m,fetchAll:v,clear:b}}),xt={class:"usage-chart"},Ut={class:"toolbar"},Pt={__name:"UsageAnalysisChart",props:{usageData:{type:Array,required:!0}},setup(P){je.register(...Dt);const i=P,l=R(null),n=R(null),r=R(null);R("day");const $=b=>{const[w,T]=b.split(":").map(Number);return w*60+T},H=b=>{const w=Math.floor(b/60),T=b%60;return`${w.toString().padStart(2,"0")}:${T.toString().padStart(2,"0")}`},C=(b="")=>b.includes(" ")?b.split(" ")[0]:`${b.slice(0,4)}/${b.slice(4,6)}/${b.slice(6,8)}`,m=(b="")=>b.includes(" ")?b.split(" ")[1]:`${b.slice(8,10)}:${b.slice(10,12)}`;function v(){if(!l.value)return;const b=(i.usageData??[]).map(f=>({date:C(f.StartTime??f.date??""),start:m(f.StartTime??f.start??""),end:m(f.EndTime??f.end??f.StartTime??"")})),[w,T]=Array.isArray(r.value)&&r.value[0]&&r.value[1]?r.value:[null,null],D=b.filter(f=>{if(!w||!T)return!0;const S=Date.parse(f.date.replace(/\//g,"-"));return S>=w.getTime()&&S<=T.getTime()}),I=new Map;D.forEach(f=>{const S=f.date,L=I.get(S)??{start:[],end:[]};L.start.push($(f.start)),L.end.push($(f.end)),I.set(S,L)});const N=[],h=[],M=[];[...I.entries()].sort((f,S)=>f[0]>S[0]?1:-1).forEach(([f,S])=>{N.push(f.replace(/^\d{4}\//,""));const L=x=>Math.round(x.reduce((d,c)=>d+c,0)/x.length);h.push(L(S.start)),M.push(L(S.end))});const y=l.value.getContext("2d");n.value&&n.value.destroy(),n.value=new je(y,{type:"line",data:{labels:N,datasets:[{label:"使用時間",data:h,borderColor:"#009688",backgroundColor:"#009688",tension:.3,pointRadius:4,fill:!1},{label:"結束時間",data:M,borderColor:"#90CAF9",backgroundColor:"#90CAF9",tension:.3,pointRadius:4,fill:!1}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"bottom"},tooltip:{callbacks:{label:f=>`${f.dataset.label}：${H(f.parsed.y)}`}}},scales:{y:{min:0,max:24*60,ticks:{stepSize:60,callback:f=>H(f)}}}}})}return Ee(async()=>{await gt(),v()}),Fe(()=>n.value&&n.value.destroy()),ye([()=>i.usageData,r],v),(b,w)=>(a(),u("div",xt,[e("div",Ut,[E(p(ne),{modelValue:r.value,"onUpdate:modelValue":w[0]||(w[0]=T=>r.value=T),range:"","enable-time-picker":!1,format:"yyyy/MM/dd",placeholder:"選擇日期區間","prepend-icon":"i-calendar"},null,8,["modelValue"])]),e("canvas",{ref_key:"chartCanvas",ref:l,class:"chart-canvas"},null,512)]))}},Bt=re(Pt,[["__scopeId","data-v-a0680f2a"]]),Gt={class:"analysis-chart"},Wt={class:"toolbar"},jt=me({__name:"AnalysisChart",props:{records:{},primaryKey:{},secondaryKey:{},primaryLabel:{},secondaryLabel:{},dateKey:{}},setup(P){const i=P,l=R(null),n=R(null);let r=null;const $=C=>{if(!C||typeof C!="string")return"";if(C.includes(`
`)||!C.includes("/"))return C;const v=C.split(" ")[0].split("/");if(v.length===3){const[b,w,T]=v;return`${(w??"").padStart(2,"0")}/${(T??"").padStart(2,"0")}`}return C};function H(){if(!l.value)return;const[C,m]=Array.isArray(n.value)&&n.value[0]&&n.value[1]?n.value:[null,null],v=(C==null?void 0:C.getTime())??null,b=(m==null?void 0:m.getTime())??null,w=i.records.filter(y=>{if(v===null||b===null)return!0;const f=Date.parse(y[i.dateKey??"date"].split(" ")[0].replace(/\//g,"-"));return f>=v&&f<=b}),T={};w.forEach(y=>{const f=y[i.dateKey??"date"];T[f]??(T[f]={p:[],s:[]}),T[f].p.push(+y[i.primaryKey]),i.secondaryKey&&y[i.secondaryKey]!=null&&T[f].s.push(+y[i.secondaryKey])});const D=[],I=[],N=[];Object.entries(T).sort(([y],[f])=>y.localeCompare(f)).forEach(([y,f])=>{const S=L=>L.length?Math.round(L.reduce((x,d)=>x+d,0)/L.length):0;D.push($(y)),I.push(S(f.p)),i.secondaryKey&&N.push(S(f.s))}),r==null||r.destroy();const h=l.value.getContext("2d"),M=[{label:i.primaryLabel??i.primaryKey,data:I,borderColor:"#009688",backgroundColor:"#009688",tension:.3,pointRadius:4,fill:!1}];i.secondaryKey&&N.length>0&&M.push({label:i.secondaryLabel??i.secondaryKey,data:N,borderColor:"#90CAF9",backgroundColor:"#90CAF9",tension:.3,pointRadius:4,fill:!1}),r=new je(h,{type:"line",data:{labels:D,datasets:M},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"bottom"},tooltip:{callbacks:{label:function(y){const f=i.records[y.dataIndex];let S=`${y.dataset.label}: ${y.parsed.y}`;return f.ALL_Serious&&(S+=`，嚴重程度：${f.ALL_Serious}`),f.CheckTime&&(S+=`，檢測時間：${f.CheckTime}`),S}}}},scales:{y:{beginAtZero:!0}}}})}return Ee(async()=>{await gt(),H()}),Fe(()=>r==null?void 0:r.destroy()),ye(n,H),ye(()=>i.records,H,{deep:!0}),(C,m)=>(a(),u("div",Gt,[e("div",Wt,[E(p(ne),{modelValue:n.value,"onUpdate:modelValue":m[0]||(m[0]=v=>n.value=v),range:"","enable-time-picker":!1,format:"yyyy/MM/dd",placeholder:"選擇日期區間","prepend-icon":"i-calendar",teleport:"body"},null,8,["modelValue"])]),e("canvas",{ref_key:"canvas",ref:l,class:"chart-canvas"},null,512)]))}}),ht=re(jt,[["__scopeId","data-v-fa2da206"]]),Et="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%3e%3cg%20clip-path='url(%23clip0_3195_32903)'%3e%3cpath%20d='M13.334%206.66691H8.33398C7.89195%206.66691%207.46803%206.84251%207.15547%207.15507C6.84291%207.46763%206.66732%207.89155%206.66732%208.33358C6.66732%208.7756%206.84291%209.19953%207.15547%209.51209C7.46803%209.82465%207.89195%2010.0002%208.33398%2010.0002H11.6673C12.1093%2010.0002%2012.5333%2010.1758%2012.8458%2010.4884C13.1584%2010.801%2013.334%2011.2249%2013.334%2011.6669C13.334%2012.1089%2013.1584%2012.5329%2012.8458%2012.8454C12.5333%2013.158%2012.1093%2013.3336%2011.6673%2013.3336H6.66732M10.0006%2015.0002V5.00024M3.20898%207.18358C3.08735%206.63568%203.10603%206.06595%203.26328%205.52719C3.42053%204.98844%203.71127%204.49811%204.10854%204.10168C4.50581%203.70524%204.99674%203.41553%205.53582%203.25941C6.0749%203.10328%206.64468%203.0858%207.19232%203.20858C7.49374%202.73716%207.90898%202.34921%208.39977%202.08048C8.89056%201.81175%209.4411%201.6709%2010.0006%201.6709C10.5602%201.6709%2011.1107%201.81175%2011.6015%202.08048C12.0923%202.34921%2012.5076%202.73716%2012.809%203.20858C13.3575%203.08526%2013.9282%203.10267%2014.4681%203.25917C15.0081%203.41568%2015.4997%203.70619%2015.8972%204.10371C16.2947%204.50122%2016.5852%204.9928%2016.7417%205.53275C16.8982%206.07269%2016.9156%206.64344%2016.7923%207.19191C17.2637%207.49334%2017.6517%207.90858%2017.9204%208.39937C18.1891%208.89016%2018.33%209.4407%2018.33%2010.0002C18.33%2010.5598%2018.1891%2011.1103%2017.9204%2011.6011C17.6517%2012.0919%2017.2637%2012.5072%2016.7923%2012.8086C16.9151%2013.3562%2016.8976%2013.926%2016.7415%2014.4651C16.5854%2015.0042%2016.2957%2015.4951%2015.8992%2015.8924C15.5028%2016.2896%2015.0125%2016.5804%2014.4737%2016.7376C13.9349%2016.8949%2013.3652%2016.9135%2012.8173%2016.7919C12.5163%2017.2651%2012.1007%2017.6547%2011.6091%2017.9247C11.1175%2018.1946%2010.5657%2018.3361%2010.0048%2018.3361C9.44396%2018.3361%208.89217%2018.1946%208.40054%2017.9247C7.90892%2017.6547%207.49335%2017.2651%207.19232%2016.7919C6.64468%2016.9147%206.0749%2016.8972%205.53582%2016.7411C4.99674%2016.585%204.50581%2016.2952%204.10854%2015.8988C3.71127%2015.5024%203.42053%2015.012%203.26328%2014.4733C3.10603%2013.9345%203.08735%2013.3648%203.20898%2012.8169C2.73395%2012.5163%202.34266%2012.1004%202.07152%2011.6079C1.80038%2011.1155%201.6582%2010.5624%201.6582%2010.0002C1.6582%209.43807%201.80038%208.88503%202.07152%208.39257C2.34266%207.9001%202.73395%207.48421%203.20898%207.18358Z'%20stroke='%23B1C0D8'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_3195_32903'%3e%3crect%20width='20'%20height='20'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Ke="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%3e%3cpath%20d='M18%206L6%2018M6%206L18%2018'%20stroke='%23B1C0D8'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Ft={class:"ContractUserAlert"},Ot={class:"ContractUserAlertTitleGroup"},Kt={class:"ContractUserAlertSubTitleGroup"},qt={class:"ContractUserAlertSubTitle"},Zt={class:"ContractUserAlertProgressTitle"},zt={class:"progress-bar"},Jt={class:"ContractUserAlertContentList"},Yt={class:"ContractUserAlertContentList"},Qt={class:"ContractUserAlertContentList"},Xt={class:"closeBtnGroup"},es=me({__name:"ContractUserAlert",props:{contracts:{},memberName:{}},emits:["close"],setup(P){const i=P,l=R(null),n=g(()=>{if(!l.value||l.value.length<2)return i.contracts;const[C,m]=l.value,v=C.getTime(),b=m.getTime();return i.contracts.filter(w=>{const T=Date.parse(w.RentStart.replace(/\//g,"-"));return T>=v&&T<=b})}),r=g(()=>n.value.reduce((C,m)=>C+(Number(m.TotalFee)??0),0)),$=g(()=>n.value.length),H=g(()=>{const C={};return n.value.forEach(m=>{const v=m.RentStart.slice(0,4);C[v]=(C[v]??0)+1}),Object.entries(C).map(([m,v])=>({year:m,list:new Array(v),percent:v/n.value.length*100}))});return(C,m)=>(a(),u("div",Ft,[e("div",Ot,[m[2]||(m[2]=e("img",{src:Oe,alt:""},null,-1)),e("h3",null,t(C.memberName),1),m[3]||(m[3]=e("h4",null,"Contract History",-1))]),m[7]||(m[7]=e("div",{class:"ContractUserAlertHR"},null,-1)),e("div",Kt,[e("div",qt,[e("h6",null,[V(" 總消費金額 "+t(r.value.toLocaleString())+" ",1),e("span",null,"　共 "+t($.value)+" 個合約",1)])]),E(p(ne),{modelValue:l.value,"onUpdate:modelValue":m[0]||(m[0]=v=>l.value=v),range:"","enable-time-picker":!1,format:"yyyy/MM/dd",placeholder:"合約日期區間","prepend-icon":"i-calendar",class:"ContractUserAlertSubDate"},null,8,["modelValue"])]),(a(!0),u(U,null,B(H.value,(v,b)=>(a(),u("div",{key:b,class:"ContractUserAlertProgressGroup"},[e("div",Zt,[e("h5",null,t(v.year),1),e("h6",null,t(v.list.length)+" 個合約",1)]),e("div",zt,[e("div",{class:"progress-bar-inner",style:Ct({width:v.percent+"%"})},null,4)])]))),128)),(a(!0),u(U,null,B(n.value,v=>(a(),u("div",{key:v.RentStart+v.ProductName,class:"ContractUserAlertContent"},[e("h3",null,t(v.ProductName),1),e("div",Jt,[m[4]||(m[4]=e("h4",null,[e("img",{src:Et,alt:""}),V("消費金額")],-1)),e("h5",null,t((v.TotalFee??0).toLocaleString()),1)]),e("div",Yt,[m[5]||(m[5]=e("h4",null,[e("img",{src:We,alt:""}),V("開始時間")],-1)),e("h5",null,t(v.RentStart),1)]),e("div",Qt,[m[6]||(m[6]=e("h4",null,[e("img",{src:We,alt:""}),V("結束時間")],-1)),e("h5",null,t(v.RentEnd),1)])]))),128)),e("div",Xt,[e("img",{class:"closeBtn",src:Ke,alt:"",onClick:m[1]||(m[1]=v=>C.$emit("close"))})])]))}}),De="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='12'%20height='12'%20viewBox='0%200%2012%2012'%20fill='none'%3e%3cg%20clip-path='url(%23clip0_3229_37508)'%3e%3cpath%20d='M6%2011C8.76142%2011%2011%208.76142%2011%206C11%203.23858%208.76142%201%206%201C3.23858%201%201%203.23858%201%206C1%208.76142%203.23858%2011%206%2011Z'%20stroke='%23B1C0D8'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6%206.5C6.27614%206.5%206.5%206.27614%206.5%206C6.5%205.72386%206.27614%205.5%206%205.5C5.72386%205.5%205.5%205.72386%205.5%206C5.5%206.27614%205.72386%206.5%206%206.5Z'%20stroke='%23B1C0D8'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_3229_37508'%3e%3crect%20width='12'%20height='12'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",ts={class:"HRVUserAlert"},ss={class:"HRVUserAlertContent1"},ls={class:"HRVUserAlertContent1Card"},os={class:"value"},ns={class:"HRVUserAlertContent1Card"},rs={class:"value"},as={class:"HRVUserAlertContent1Card"},is={class:"value"},ds={class:"HRVUserAlertContent1Card"},cs={class:"value"},us={class:"HRVUserAlertContent1Card"},ms={class:"value"},vs={class:"HRVUserAlertContent1Card"},ps={class:"value"},fs={class:"HRVUserAlertContent1Card"},bs={class:"value"},Cs={class:"info"},gs={class:"HRVUserAlertContent2"},hs={class:"percent-group"},_s={class:"sym"},ys={class:"parasym"},Ts={class:"bar"},As={class:"HRVUserAlertContent3"},ks={class:"HRVUserAlertContent3Group"},Is={class:"HRVUserAlertContent3Content"},$s={class:"HRVUserAlertContent3ContentValue"},Rs={class:"HRVUserAlertContent3ContentTag good"},ws={class:"HRVUserAlertContent3Content"},Ds={class:"HRVUserAlertContent3ContentValue"},Ss={class:"HRVUserAlertContent3ContentTag good"},Vs={class:"HRVUserAlertContent3Content"},Hs={class:"HRVUserAlertContent3ContentValue"},Ms={class:"HRVUserAlertContent3ContentTag Normal"},Ls={class:"HRVUserAlertContent3Content"},Ns={class:"HRVUserAlertContent3ContentValue"},xs={class:"HRVUserAlertContent3ContentTag Normal"},Us={class:"HRVUserAlertContent3Content"},Ps={class:"HRVUserAlertContent3ContentValue"},Bs={class:"HRVUserAlertContent3ContentTag Poor"},Gs={class:"HRVUserAlertContent3Content"},Ws={class:"HRVUserAlertContent3ContentValue"},js={class:"HRVUserAlertContent3ContentTag Poor"},Es=me({__name:"HRVUserAlert",props:{record:{}},emits:["close"],setup(P){const i=P,l=d=>d===""?"—":parseInt(d,10),n=d=>d==="低"?"low":d==="平"?"middle":d==="高"?"high":"—",r=g(()=>{var d;return l((d=i.record)==null?void 0:d.bioage)}),$=g(()=>{var d;return l((d=i.record)==null?void 0:d.HRV)}),H=g(()=>{var d;return l((d=i.record)==null?void 0:d.HR)}),C=g(()=>{var d;return l((d=i.record)==null?void 0:d.Activity)}),m=g(()=>{var d;return l((d=i.record)==null?void 0:d.Equilibrium)}),v=g(()=>{var d;return l((d=i.record)==null?void 0:d.Health)}),b=g(()=>{var d;return l((d=i.record)==null?void 0:d.Metabolism)}),w=g(()=>{var d;return l((d=i.record)==null?void 0:d.Relaxation)}),T=g(()=>{var d;return l((d=i.record)==null?void 0:d.Sleep)}),D=g(()=>{var d,c;return(d=i.record)!=null&&d.SBP&&((c=i.record)!=null&&c.DBP)?`${i.record.SBP}/${i.record.DBP}`:"—"}),I=g(()=>{var d;return l((d=i.record)==null?void 0:d.SPO2)}),N=g(()=>{var d;return l((d=i.record)==null?void 0:d.rr)}),h=g(()=>{var d;return((d=i.record)==null?void 0:d.stress)??"—"}),M=g(()=>{var d;return Number(((d=i.record)==null?void 0:d.PLF)??0)}),y=g(()=>{var d;return Number(((d=i.record)==null?void 0:d.PHF)??0)}),f=g(()=>M.value+y.value||1),S=g(()=>(M.value/f.value*100).toFixed(0)),L=g(()=>(y.value/f.value*100).toFixed(0)),x=d=>d>=5?"Good":d>=3?"Normal":"Poor";return g(()=>{var d;return Math.abs(((d=i.record)==null?void 0:d.SNS)??0)*100}),(d,c)=>(a(),u("div",ts,[c[24]||(c[24]=e("div",{class:"HRVUserAlertTitleGroup"},[e("img",{src:Oe,alt:""}),e("h3",null,"Steven Yeh"),e("h4",null,"Contract History")],-1)),c[25]||(c[25]=e("div",{class:"HRVUserAlertHR"},null,-1)),e("div",ss,[e("div",ls,[c[1]||(c[1]=e("h3",null,"生理年齡",-1)),e("div",os,t(p(r)),1),c[2]||(c[2]=e("div",{class:"info"},"years old",-1))]),e("div",ns,[c[3]||(c[3]=e("h3",null,"HRV",-1)),e("div",rs,t(p($)),1),c[4]||(c[4]=e("div",{class:"info"},"ms",-1))]),e("div",as,[c[5]||(c[5]=e("h3",null,"心律變異性",-1)),e("div",is,t(p(H)),1),c[6]||(c[6]=e("div",{class:"info"},"bpm",-1))]),e("div",ds,[c[7]||(c[7]=e("h3",null,"血壓",-1)),e("div",cs,t(p(D)),1),c[8]||(c[8]=e("div",{class:"info"},"mmHg",-1))]),e("div",us,[c[9]||(c[9]=e("h3",null,"血氧",-1)),e("div",ms,t(p(I)),1),c[10]||(c[10]=e("div",{class:"info"},"SpO₂%",-1))]),e("div",vs,[c[11]||(c[11]=e("h3",null,"呼吸",-1)),e("div",ps,t(p(N)),1),c[12]||(c[12]=e("div",{class:"info"},"bpm",-1))]),e("div",fs,[c[13]||(c[13]=e("h3",null,"壓力",-1)),e("div",bs,t(p(h)),1),e("div",Cs,t(n(p(h))),1)])]),e("div",gs,[c[14]||(c[14]=e("div",{class:"title"},[e("h3",null,"交感/副交感比例")],-1)),e("div",hs,[e("span",_s,t(p(S))+"%",1),e("span",ys,t(p(L))+"%",1)]),e("div",Ts,[e("div",{class:"sym-fill",style:Ct({width:p(S)+"%"})},null,4),e("div",{class:"parasym-fill",style:Ct({width:p(L)+"%"})},null,4)]),c[15]||(c[15]=e("div",{class:"legend"},[e("span",{class:"dot sym-dot"}),V(" 交感神經 "),e("span",{class:"dot parasym-dot"}),V(" 副交感神經 ")],-1))]),e("div",As,[c[22]||(c[22]=e("h3",null,"其他健康數據分析",-1)),e("div",ks,[e("div",Is,[c[16]||(c[16]=e("div",{class:"HRVUserAlertContent3ContentTitle"},[e("img",{src:De,alt:""}),V(" 健康力 ")],-1)),e("div",$s,t(p(v)),1),e("div",Rs,t(x(p(v))),1)]),e("div",ws,[c[17]||(c[17]=e("div",{class:"HRVUserAlertContent3ContentTitle"},[e("img",{src:De,alt:""}),V(" 睡眠力 ")],-1)),e("div",Ds,t(p(T)),1),e("div",Ss,t(x(p(T))),1)]),e("div",Vs,[c[18]||(c[18]=e("div",{class:"HRVUserAlertContent3ContentTitle"},[e("img",{src:De,alt:""}),V(" 代謝力 ")],-1)),e("div",Hs,t(p(b)),1),e("div",Ms,t(x(p(b))),1)]),e("div",Ls,[c[19]||(c[19]=e("div",{class:"HRVUserAlertContent3ContentTitle"},[e("img",{src:De,alt:""}),V(" 平衡力 ")],-1)),e("div",Ns,t(p(m)),1),e("div",xs,t(x(p(m))),1)]),e("div",Us,[c[20]||(c[20]=e("div",{class:"HRVUserAlertContent3ContentTitle"},[e("img",{src:De,alt:""}),V(" 活動力 ")],-1)),e("div",Ps,t(p(C)),1),e("div",Bs,t(x(p(C))),1)]),e("div",Gs,[c[21]||(c[21]=e("div",{class:"HRVUserAlertContent3ContentTitle"},[e("img",{src:De,alt:""}),V(" 放鬆力 ")],-1)),e("div",Ws,t(p(w)),1),e("div",js,t(x(d.Relaxatio)),1)])])]),c[26]||(c[26]=e("div",{class:"HRVUserAlertContent4"},[e("h3",null,"根據您的神經系統數據分析"),e("p",null," Lorem ipsum dolor sit amet consectetur adipisicing elit. Quo incidunt dicta quos consequuntur expedita quibusdam placeat voluptatibus consequatur quod nesciunt? Dolorem tempore illum laudantium aperiam facere inventore! Pariatur, quam illum? ")],-1)),e("div",{class:"HRVUserAlertClose",onClick:c[0]||(c[0]=Y=>d.$emit("close"))},c[23]||(c[23]=[e("img",{src:Ke,alt:"關閉"},null,-1)]))]))}}),Fs=re(Es,[["__scopeId","data-v-148418f8"]]),Os={props:{score:{type:Number,required:!0},colorProp:{type:String,default:"#ec4f4f"}},computed:{dotPosition(){return Math.min(Math.max(this.score/100*100,0),100)},emoji(){return this.getEmojiByScore(this.score)}},methods:{getEmojiByScore(P){return P<=25?new URL(""+new URL("smile.BzPfPrnw.png",import.meta.url).href,import.meta.url).href:P<=45?new URL(""+new URL("happy.DW0N-wj_.png",import.meta.url).href,import.meta.url).href:P<=71?new URL(""+new URL("sad.D7o1oo1n.png",import.meta.url).href,import.meta.url).href:new URL(""+new URL("unSmile.DvuhKcY9.png",import.meta.url).href,import.meta.url).href}}},Ks={class:"progress2-container"},qs={class:"progress"},Zs=["src"];function zs(P,i,l,n,r,$){return a(),u("div",Ks,[e("div",qs,[i[0]||(i[0]=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 157 3",fill:"none"},[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.785 0C0.351457 0 0 0.351456 0 0.785V1V2V2.215C0 2.64854 0.351457 3 0.785 3C1.21854 3 1.57 2.64854 1.57 2.215V2H76.9285V2.215C76.9285 2.64854 77.2799 3 77.7135 3C78.147 3 78.4985 2.64854 78.4985 2.215V2H155.428V2.215C155.428 2.64854 155.78 3 156.213 3C156.647 3 156.998 2.64854 156.998 2.215V2H157V1H156.998V0.785C156.998 0.351456 156.647 0 156.213 0C155.78 0 155.428 0.351456 155.428 0.785V1H78.4985V0.785C78.4985 0.351456 78.147 0 77.7135 0C77.2799 0 76.9285 0.351456 76.9285 0.785V1H1.57V0.785C1.57 0.351456 1.21854 0 0.785 0Z",fill:"#CCCCCC"})],-1)),e("div",{class:O(["emoji",{rightEdge:$.dotPosition>95}]),style:Ct({left:$.dotPosition+"%"})},[e("img",{src:$.emoji,alt:"表情"},null,8,Zs)],6)]),i[1]||(i[1]=e("div",{class:"progressText"},[e("div",{class:"progressSubText"},[e("span",null,"0%"),e("span",null,"輕度")]),e("div",{class:"progressSubText"},[e("span",null,"50%"),e("span",null,"中度")]),e("div",{class:"progressSubText"},[e("span",null,"100%"),e("span",null,"重度")])],-1))])}const Tt=re(Os,[["render",zs]]),Js={class:"AutonomicNerveAlert"},Ys={class:"AutonomicNerveAlertTitleGroup"},Qs={class:"AutonomicNerveAlertContent1Group"},Xs={class:"AutonomicNerveAlertContent1TitleGroup"},el=["src"],tl={class:"AutonomicNerveAlertContent2Group"},sl={class:"AutonomicNerveAlertContent"},ll={class:"AutonomicNerveAlertItem"},ol={class:"AutonomicNerveAlertTags"},nl={class:"AutonomicNerveAlertItem"},rl={class:"AutonomicNerveAlertTags"},al={class:"AutonomicNerveAlertItem"},il={class:"AutonomicNerveAlertTags"},dl={class:"AutonomicNerveAlertContent3Group"},cl={class:"AutonomicNerveAlertContent3Card"},ul={class:"AutonomicNerveAlertContent3Title"},ml=["src"],vl={class:"value"},pl={class:"tagsGroup"},fl={class:"AutonomicNerveAlertContent3Card"},bl={class:"AutonomicNerveAlertContent3Title"},Cl=["src"],gl={class:"value"},hl={class:"tagsGroup"},_l={class:"AutonomicNerveAlertContent3Card"},yl={class:"AutonomicNerveAlertContent3Title"},Tl=["src"],Al={class:"value"},kl={class:"tagsGroup"},Il={class:"AutonomicNerveAlertContent3Card"},$l={class:"AutonomicNerveAlertContent3Title"},Rl=["src"],wl={class:"value"},Dl={class:"tagsGroup"},Sl={class:"AutonomicNerveAlertContent3Card"},Vl={class:"AutonomicNerveAlertContent3Title"},Hl=["src"],Ml={class:"value"},Ll={class:"tagsGroup"},Nl={class:"AutonomicNerveAlertContent3Card"},xl={class:"AutonomicNerveAlertContent3Title"},Ul=["src"],Pl={class:"value"},Bl={class:"tagsGroup"},Gl={class:"AutonomicNerveAlertContent3Card"},Wl={class:"AutonomicNerveAlertContent3Title"},jl=["src"],El={class:"value"},Fl={class:"tagsGroup"},Ol={class:"AutonomicNerveAlertContent3Card"},Kl={class:"AutonomicNerveAlertContent3Title"},ql=["src"],Zl={class:"value"},zl={class:"tagsGroup"},Jl={class:"AutonomicNerveAlertContent3Card"},Yl={class:"AutonomicNerveAlertContent3Title"},Ql=["src"],Xl={class:"value"},eo={class:"tagsGroup"},to=me({__name:"AutonomicNerve",props:{record:{}},emits:["close"],setup(P){const i=n=>{if(!n||n.length!==14)return n;const r=n.slice(0,4),$=n.slice(4,6),H=n.slice(6,8),C=n.slice(8,10),m=n.slice(10,12);return`${r}/${$}/${H} ${C}:${m}`},l=P;return(n,r)=>{var $,H,C,m,v,b,w,T,D,I,N,h,M,y,f,S,L,x,d,c,Y,ae,ee,ie,W,de,te,ve,Te,qe,Ze,K,Ae,ce,Se,q,ke,pe,Ve,Z,Ie,fe,He,z,$e,be,Me,Re,ze,Je,Ye,Qe,Ce,Le,Xe,ue,et,tt,st,lt,we,ot,nt,rt,at,ge,Ne,it,dt,ct,he,xe,ut,mt,_e,Ue,vt,pt,ft,_,s,G;return a(),u("div",Js,[e("div",Ys,[r[1]||(r[1]=e("img",{src:Oe,alt:""},null,-1)),e("h3",null,t(i(($=l.record)==null?void 0:$.CheckTime)),1),r[2]||(r[2]=e("h4",null,"自律神經檢測紀錄",-1))]),r[18]||(r[18]=e("div",{class:"AutonomicNerveAlertTitleHR"},null,-1)),e("div",Qs,[e("div",Xs,[r[3]||(r[3]=e("h5",null,"總分",-1)),e("h6",null,[e("img",{src:(C=(H=l.record)==null?void 0:H.DiffRatio)!=null&&C.startsWith("-")?"/assets/imgs/backend/down.svg":"/assets/imgs/backend/up.svg",alt:""},null,8,el),V(" "+t(((m=l.record)==null?void 0:m.DiffRatio)??"—"),1)])]),e("h3",null,t(((v=l.record)==null?void 0:v.TotalScore)??"—"),1),e("h4",null,t(((b=l.record)==null?void 0:b.TotalDesc)??"—"),1),E(Tt,{score:parseInt(((w=l.record)==null?void 0:w.TotalRatio)??"0")},null,8,["score"])]),e("div",tl,[r[7]||(r[7]=e("h3",null,"想解決的症狀",-1)),e("div",sl,[e("div",ll,[r[4]||(r[4]=e("h5",null,"今次選擇了",-1)),e("div",ol,[(a(!0),u(U,null,B((T=l.record)==null?void 0:T.SolveTheSameList,(k,A)=>(a(),u("div",{key:A,class:"AutonomicNerveAlertTag"},t(k),1))),128))])]),e("div",nl,[r[5]||(r[5]=e("h5",null,"與前次相比減少了",-1)),e("div",rl,[(a(!0),u(U,null,B((D=l.record)==null?void 0:D.SolveSubtractList,(k,A)=>(a(),u("div",{key:A,class:"AutonomicNerveAlertTag"},t(k),1))),128))])]),e("div",al,[r[6]||(r[6]=e("h5",null,"與前次相比新增了",-1)),e("div",il,[(a(!0),u(U,null,B((I=l.record)==null?void 0:I.SolveAddList,(k,A)=>(a(),u("div",{key:A,class:"AutonomicNerveAlertTag"},t(k),1))),128))])])])]),e("div",dl,[e("div",cl,[e("div",ul,[r[8]||(r[8]=e("h3",null,"精神系統",-1)),e("small",{class:O((h=(N=l.record)==null?void 0:N.C1Difference)!=null&&h.startsWith("-")?"down":"up")},[e("img",{src:(y=(M=l.record)==null?void 0:M.C1Difference)!=null&&y.startsWith("-")?"/assets/imgs/backend/down.svg":"/assets/imgs/backend/up.svg",alt:""},null,8,ml),V(" "+t(((f=l.record)==null?void 0:f.C1Difference)??"—"),1)],2)]),e("div",vl,t(((S=l.record)==null?void 0:S.C1Ratio)??"—"),1),e("h4",null,t(((L=l.record)==null?void 0:L.C1Desc)??"—"),1),e("div",pl,[(a(!0),u(U,null,B((x=l.record)==null?void 0:x.C1Solve,(k,A)=>(a(),u("div",{key:A,class:"tag"},t(k),1))),128))])]),e("div",fl,[e("div",bl,[r[9]||(r[9]=e("h3",null,"神經系統",-1)),e("small",{class:O((c=(d=l.record)==null?void 0:d.C2Difference)!=null&&c.startsWith("-")?"down":"up")},[e("img",{src:(ae=(Y=l.record)==null?void 0:Y.C2Difference)!=null&&ae.startsWith("-")?"/assets/imgs/backend/down.svg":"/assets/imgs/backend/up.svg",alt:""},null,8,Cl),V(" "+t(((ee=l.record)==null?void 0:ee.C2Difference)??"—"),1)],2)]),e("div",gl,t(((ie=l.record)==null?void 0:ie.C2Ratio)??"—"),1),e("h4",null,t(((W=l.record)==null?void 0:W.C2Desc)??"—"),1),e("div",hl,[(a(!0),u(U,null,B((de=l.record)==null?void 0:de.C2Solve,(k,A)=>(a(),u("div",{key:A,class:"tag"},t(k),1))),128))])]),e("div",_l,[e("div",yl,[r[10]||(r[10]=e("h3",null,"血液循環系統",-1)),e("small",{class:O((ve=(te=l.record)==null?void 0:te.C3Difference)!=null&&ve.startsWith("-")?"down":"up")},[e("img",{src:(qe=(Te=l.record)==null?void 0:Te.C3Difference)!=null&&qe.startsWith("-")?"/assets/imgs/backend/down.svg":"/assets/imgs/backend/up.svg",alt:""},null,8,Tl),V(" "+t(((Ze=l.record)==null?void 0:Ze.C3Difference)??"—"),1)],2)]),e("div",Al,t(((K=l.record)==null?void 0:K.C3Ratio)??"—"),1),e("h4",null,t(((Ae=l.record)==null?void 0:Ae.C3Desc)??"—"),1),e("div",kl,[(a(!0),u(U,null,B((ce=l.record)==null?void 0:ce.C3Solve,(k,A)=>(a(),u("div",{key:A,class:"tag"},t(k),1))),128))])]),e("div",Il,[e("div",$l,[r[11]||(r[11]=e("h3",null,"感官系統",-1)),e("small",{class:O((q=(Se=l.record)==null?void 0:Se.C4Difference)!=null&&q.startsWith("-")?"down":"up")},[e("img",{src:(pe=(ke=l.record)==null?void 0:ke.C4Difference)!=null&&pe.startsWith("-")?"/assets/imgs/backend/down.svg":"/assets/imgs/backend/up.svg",alt:""},null,8,Rl),V(" "+t(((Ve=l.record)==null?void 0:Ve.C4Difference)??"—"),1)],2)]),e("div",wl,t(((Z=l.record)==null?void 0:Z.C4Ratio)??"—"),1),e("h4",null,t(((Ie=l.record)==null?void 0:Ie.C4Desc)??"—"),1),e("div",Dl,[(a(!0),u(U,null,B((fe=l.record)==null?void 0:fe.C4Solve,(k,A)=>(a(),u("div",{key:A,class:"tag"},t(k),1))),128))])]),e("div",Sl,[e("div",Vl,[r[12]||(r[12]=e("h3",null,"心肺系統",-1)),e("small",{class:O((z=(He=l.record)==null?void 0:He.C5Difference)!=null&&z.startsWith("-")?"down":"up")},[e("img",{src:(be=($e=l.record)==null?void 0:$e.C5Difference)!=null&&be.startsWith("-")?"/assets/imgs/backend/down.svg":"/assets/imgs/backend/up.svg",alt:""},null,8,Hl),V(" "+t(((Me=l.record)==null?void 0:Me.C5Difference)??"—"),1)],2)]),e("div",Ml,t(((Re=l.record)==null?void 0:Re.C5Ratio)??"—"),1),e("h4",null,t(((ze=l.record)==null?void 0:ze.C5Desc)??"—"),1),e("div",Ll,[(a(!0),u(U,null,B((Je=l.record)==null?void 0:Je.C5Solve,(k,A)=>(a(),u("div",{key:A,class:"tag"},t(k),1))),128))])]),e("div",Nl,[e("div",xl,[r[13]||(r[13]=e("h3",null,"過敏免疫系統",-1)),e("small",{class:O((Qe=(Ye=l.record)==null?void 0:Ye.C6Difference)!=null&&Qe.startsWith("-")?"down":"up")},[e("img",{src:(Le=(Ce=l.record)==null?void 0:Ce.C6Difference)!=null&&Le.startsWith("-")?"/assets/imgs/backend/down.svg":"/assets/imgs/backend/up.svg",alt:""},null,8,Ul),V(" "+t(((Xe=l.record)==null?void 0:Xe.C6Difference)??"—"),1)],2)]),e("div",Pl,t(((ue=l.record)==null?void 0:ue.C6Ratio)??"—"),1),e("h4",null,t(((et=l.record)==null?void 0:et.C6Desc)??"—"),1),e("div",Bl,[(a(!0),u(U,null,B((tt=l.record)==null?void 0:tt.C6Solve,(k,A)=>(a(),u("div",{key:A,class:"tag"},t(k),1))),128))])]),e("div",Gl,[e("div",Wl,[r[14]||(r[14]=e("h3",null,"腸胃系統",-1)),e("small",{class:O((lt=(st=l.record)==null?void 0:st.C7Difference)!=null&&lt.startsWith("-")?"down":"up")},[e("img",{src:(ot=(we=l.record)==null?void 0:we.C7Difference)!=null&&ot.startsWith("-")?"/assets/imgs/backend/down.svg":"/assets/imgs/backend/up.svg",alt:""},null,8,jl),V(" "+t(((nt=l.record)==null?void 0:nt.C7Difference)??"—"),1)],2)]),e("div",El,t(((rt=l.record)==null?void 0:rt.C7Ratio)??"—"),1),e("h4",null,t(((at=l.record)==null?void 0:at.C7Desc)??"—"),1),e("div",Fl,[(a(!0),u(U,null,B((ge=l.record)==null?void 0:ge.C7Solve,(k,A)=>(a(),u("div",{key:A,class:"tag"},t(k),1))),128))])]),e("div",Ol,[e("div",Kl,[r[15]||(r[15]=e("h3",null,"泌尿生殖系統",-1)),e("small",{class:O((it=(Ne=l.record)==null?void 0:Ne.C8Difference)!=null&&it.startsWith("-")?"down":"up")},[e("img",{src:(ct=(dt=l.record)==null?void 0:dt.C8Difference)!=null&&ct.startsWith("-")?"/assets/imgs/backend/down.svg":"/assets/imgs/backend/up.svg",alt:""},null,8,ql),V(" "+t(((he=l.record)==null?void 0:he.C8Difference)??"—"),1)],2)]),e("div",Zl,t(((xe=l.record)==null?void 0:xe.C8Ratio)??"—"),1),e("h4",null,t(((ut=l.record)==null?void 0:ut.C8Desc)??"—"),1),e("div",zl,[(a(!0),u(U,null,B((mt=l.record)==null?void 0:mt.C8Solve,(k,A)=>(a(),u("div",{key:A,class:"tag"},t(k),1))),128))])]),e("div",Jl,[e("div",Yl,[r[16]||(r[16]=e("h3",null,"血液循環系統",-1)),e("small",{class:O((Ue=(_e=l.record)==null?void 0:_e.C9Difference)!=null&&Ue.startsWith("-")?"down":"up")},[e("img",{src:(pt=(vt=l.record)==null?void 0:vt.C9Difference)!=null&&pt.startsWith("-")?"/assets/imgs/backend/down.svg":"/assets/imgs/backend/up.svg",alt:""},null,8,Ql),V(" "+t(((ft=l.record)==null?void 0:ft.C9Difference)??"—"),1)],2)]),e("div",Xl,t(((_=l.record)==null?void 0:_.C9Ratio)??"—"),1),e("h4",null,t(((s=l.record)==null?void 0:s.C9Desc)??"—"),1),e("div",eo,[(a(!0),u(U,null,B((G=l.record)==null?void 0:G.C9Solve,(k,A)=>(a(),u("div",{key:A,class:"tag"},t(k),1))),128))])])]),e("div",{class:"HRVUserAlertClose",onClick:r[0]||(r[0]=k=>n.$emit("close"))},r[17]||(r[17]=[e("img",{src:Ke,alt:""},null,-1)]))])}}}),so=re(to,[["__scopeId","data-v-5dd354ec"]]),Ge="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='8'%20height='6'%20viewBox='0%200%208%206'%20fill='none'%3e%3cpath%20d='M4%206L0.535898%206.52533e-07L7.4641%204.68497e-08L4%206Z'%20fill='%2374BC1F'/%3e%3c/svg%3e",yt="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='10'%20height='8'%20viewBox='0%200%2010%208'%20fill='none'%3e%3cpath%20d='M5%200L9.33013%207.5H0.669873L5%200Z'%20fill='%23EC4F4F'/%3e%3c/svg%3e",lo={class:"lifeDetectAlert"},oo={class:"lifeDetectAlertTitleGroup"},no={class:"lifeDetectAlertContent1Group"},ro={class:"lifeDetectAlertContent1TitleGroup"},ao={class:"lifeDetectAlertContent2Group"},io={class:"lifeDetectAlertContent2"},co={class:"down"},uo={class:"time"},mo={class:"up"},vo={class:"time"},po={class:"down"},fo={class:"time"},bo={class:"lifeDetectAlertContent3Group"},Co={class:"lifeDetectAlertContent3"},go={class:"lifeDetectAlertContentTitle"},ho={class:"scoreGroup"},_o={class:"value"},yo={class:"lifeDetectAlertContent3"},To={class:"lifeDetectAlertContentTitle"},Ao={class:"scoreGroup down"},ko={class:"value"},Io=me({__name:"LifeDetectAlert",props:{record:{}},emits:["close"],setup(P){const i=P;return(l,n)=>{var $,H,C,m,v,b,w,T,D,I,N,h,M,y,f,S,L;const r=Tt;return a(),u("div",lo,[e("div",oo,[n[1]||(n[1]=e("img",{src:Oe,alt:""},null,-1)),e("h3",null,t((($=i.record)==null?void 0:$.CheckTime)??"—"),1),n[2]||(n[2]=e("h4",null,"生活檢測紀錄",-1))]),n[17]||(n[17]=e("div",{class:"lifeDetectAlertTitleHR"},null,-1)),e("div",no,[e("div",ro,[n[4]||(n[4]=e("h5",null,"總分",-1)),e("h6",null,[n[3]||(n[3]=e("img",{src:Ge,alt:""},null,-1)),V(" "+t(((H=i.record)==null?void 0:H.HMindexRatio)??"—")+"% ",1)])]),e("h3",null,t(((C=i.record)==null?void 0:C.Score)??"—"),1),e("h4",null,t(((m=i.record)==null?void 0:m.HMindexDesc)??"—"),1),E(r,{score:parseInt(((v=i.record)==null?void 0:v.HMindexRatio)??"0")},null,8,["score"])]),e("div",ao,[n[11]||(n[11]=e("h3",null,"睡眠周期",-1)),e("div",io,[e("div",null,[e("h4",null,[n[6]||(n[6]=V(" 入睡時間 ")),e("span",co,[n[5]||(n[5]=e("img",{src:Ge,alt:""},null,-1)),V(" "+t(((b=i.record)==null?void 0:b.LayTimeToSleep)??"—"),1)])]),e("div",uo,t(((w=i.record)==null?void 0:w.bedTime)??"—"),1)]),e("div",null,[e("h4",null,[n[8]||(n[8]=V(" 睡眠時長 ")),e("span",mo,[n[7]||(n[7]=e("img",{src:yt,alt:""},null,-1)),V(" "+t(((T=i.record)==null?void 0:T.ccSleepExact)??"—"),1)])]),e("div",vo,t(((D=i.record)==null?void 0:D.ccSleepTime)??"—"),1)]),e("div",null,[e("h4",null,[n[10]||(n[10]=V(" 離床時間 ")),e("span",po,[n[9]||(n[9]=e("img",{src:Ge,alt:""},null,-1)),V(" "+t(((I=i.record)==null?void 0:I.SleepBreak)??"—")+"min ",1)])]),e("div",fo,t(((N=i.record)==null?void 0:N.leaveTime)??"—"),1)])])]),e("div",bo,[e("div",Co,[e("div",go,[n[13]||(n[13]=e("h3",null,"身心指數",-1)),e("div",ho,[e("h6",null,t(((h=i.record)==null?void 0:h.HMindexRatio)??"—")+"%",1),n[12]||(n[12]=e("img",{src:yt,alt:""},null,-1))])]),e("div",_o,t(((M=i.record)==null?void 0:M.HMindex)??"—"),1),e("small",null,t(((y=i.record)==null?void 0:y.HMindexDesc)??"—"),1)]),e("div",yo,[e("div",To,[n[15]||(n[15]=e("h3",null,"壓力指數",-1)),e("div",Ao,[e("h6",null,t(((f=i.record)==null?void 0:f.PressureindexRatio)??"—")+"%",1),n[14]||(n[14]=e("img",{src:Ge,alt:""},null,-1))])]),e("div",ko,t(((S=i.record)==null?void 0:S.Pressureindex)??"—"),1),e("small",null,t(((L=i.record)==null?void 0:L.PressureindexDesc)??"—"),1)])]),e("div",{class:"lifeDetectAlertClose",onClick:n[0]||(n[0]=x=>l.$emit("close"))},n[16]||(n[16]=[e("img",{src:Ke,alt:""},null,-1)]))])}}}),$o=re(Io,[["__scopeId","data-v-fbce23dd"]]),Ro={class:"babyRecordAlert"},wo={class:"babyRecordAlertTitleGroup"},Do={key:0,class:"babyRecordAlertContent1Group"},So={class:"babyRecordAlertContent1TitleGroup"},Vo={class:"babyRecordAlertContent3Group"},Ho={class:"babyRecordAlertContentTitle"},Mo=["src"],Lo={class:"value"},No=me({__name:"BabyRecordAlert",props:{record:{}},emits:["close"],setup(P,{emit:i}){var T;const l=P,n=i,r=((T=l.record)==null?void 0:T.ChildANSDetailList)||[],$=r.length>0?r[0]:null,H=R(null);let C=null;const m=R(null),v=g(()=>{if(!m.value||m.value.length<2)return r;const[D,I]=m.value,N=D.getTime(),h=I.getTime();return r.filter(M=>{const y=Date.parse(M.CheckTime.replace(/\//g,"-"));return y>=N&&y<=h})}),b=D=>{if(!D||typeof D!="string")return"";if(!D.includes("/"))return D;const N=D.split(" ")[0].split("/");if(N.length===3){const[h,M,y]=N;return`${(M??"").padStart(2,"0")}/${(y??"").padStart(2,"0")}`}return D};function w(){if(!H.value)return;const D=[...v.value].sort((L,x)=>new Date(L.CheckTime).getTime()-new Date(x.CheckTime).getTime()),I=D.map(L=>b(L.CheckTime)),N=D.map(L=>Number(L.ALL_Score)),h=D.map(L=>Number(L.ALL_Ratio)),M=D.map(L=>L.ALL_Serious),y=Math.max(...N,200),f=y<200?200:Math.ceil(y*1.1/10)*10;C==null||C.destroy();const S=H.value.getContext("2d");C=new je(S,{type:"line",data:{labels:I,datasets:[{label:"總分",data:N,borderColor:"#1ba39b",backgroundColor:"#1ba39b",tension:.3,pointRadius:5,fill:!1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"},tooltip:{callbacks:{label:function(L){const x=L.dataIndex;let d=`總分: ${N[x]}`;return h[x]!==void 0&&(d+=`，百分比: ${h[x]}%`),M[x]&&(d+=`，表現: ${M[x]}`),d}}}},scales:{y:{beginAtZero:!0,max:f}}}})}return Ee(async()=>{await gt(),w()}),Fe(()=>C==null?void 0:C.destroy()),ye([()=>r,m],w,{deep:!0}),(D,I)=>{var N;return a(),u("div",Ro,[e("div",wo,[I[1]||(I[1]=e("img",{src:Oe,alt:""},null,-1)),e("h3",null,t(((N=p($))==null?void 0:N.CheckTime)||"—"),1),I[2]||(I[2]=e("h4",null,"檢測時間",-1))]),I[6]||(I[6]=e("div",{class:"babyRecordAlertTitleHR"},null,-1)),p($)?(a(),u("div",Do,[e("div",So,[I[4]||(I[4]=e("h5",null,"全部總分",-1)),e("h6",null,[I[3]||(I[3]=e("img",{src:Ge,alt:""},null,-1)),V(" "+t(p($).ALL_Ratio)+"% ",1)])]),e("h3",null,t(p($).ALL_Score),1),e("h4",null,t(p($).ALL_Ratio)+"% ("+t(p($).ALL_Serious)+")",1)])):J("",!0),e("div",Vo,[(a(!0),u(U,null,B(p(r),h=>(a(),u("div",{class:"babyRecordAlertContent3",key:h.Type},[e("div",Ho,[e("h3",null,t(h.TypeName),1),e("div",{class:O(["scoreGroup",{up:Number(h.Diff)>0,down:Number(h.Diff)<=0}])},[e("h6",null,t(h.Diff)+"%",1),e("img",{src:Number(h.Diff)>0?"/assets/imgs/backend/up.svg":"/assets/imgs/backend/down.svg",alt:""},null,8,Mo)],2)]),e("div",Lo,t(h.Ratio)+"%",1),e("small",null,t(h.Serious),1)]))),128))]),e("div",{class:"babyRecordAlertClose",onClick:I[0]||(I[0]=h=>n("close"))},I[5]||(I[5]=[e("img",{src:Ke,alt:""},null,-1)]))])}}}),xo=re(No,[["__scopeId","data-v-bf25219c"]]),Uo={class:"baby-score-chart"},Po={class:"toolbar"},Bo=me({__name:"BabyScoreChart",props:{records:{}},setup(P){const i=P,l=R(null);let n=null;const r=R(null),$=g(()=>{if(!r.value||r.value.length<2)return i.records;const[m,v]=r.value,b=m.getTime(),w=v.getTime();return i.records.filter(T=>{const D=Date.parse(T.CheckTime.replace(/\//g,"-"));return D>=b&&D<=w})}),H=m=>{if(!m||typeof m!="string")return"";if(!m.includes("/"))return m;const b=m.split(" ")[0].split("/");if(b.length===3){const[w,T,D]=b;return`${(T??"").padStart(2,"0")}/${(D??"").padStart(2,"0")}`}return m};function C(){if(!l.value)return;const m=[...$.value].sort((h,M)=>new Date(h.CheckTime).getTime()-new Date(M.CheckTime).getTime()),v=m.map(h=>H(h.CheckTime)),b=m.map(h=>Number(h.ALL_Score)),w=m.map(h=>Number(h.ALL_Ratio)),T=m.map(h=>h.ALL_Serious),D=Math.max(...b,200),I=D<200?200:Math.ceil(D*1.1/10)*10;n==null||n.destroy();const N=l.value.getContext("2d");n=new je(N,{type:"line",data:{labels:v,datasets:[{label:"總分",data:b,borderColor:"#1ba39b",backgroundColor:"#1ba39b",tension:.3,pointRadius:5,fill:!1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"},tooltip:{callbacks:{label:function(h){const M=h.dataIndex;let y=`總分: ${b[M]}`;return w[M]!==void 0&&(y+=`，百分比: ${w[M]}%`),T[M]&&(y+=`，表現: ${T[M]}`),y}}}},scales:{y:{beginAtZero:!0,max:I}}}})}return Ee(async()=>{await gt(),C()}),Fe(()=>n==null?void 0:n.destroy()),ye([()=>i.records,r],C,{deep:!0}),(m,v)=>(a(),u("div",Uo,[e("div",Po,[E(p(ne),{modelValue:r.value,"onUpdate:modelValue":v[0]||(v[0]=b=>r.value=b),range:"","enable-time-picker":!1,format:"yyyy/MM/dd",placeholder:"選擇日期區間","prepend-icon":"i-calendar"},null,8,["modelValue"])]),e("canvas",{ref_key:"canvas",ref:l,class:"chart-canvas"},null,512)]))}}),Go=re(Bo,[["__scopeId","data-v-e89f1adc"]]),Wo={key:0,class:"loading-mask"},jo={key:1,class:"memberInfo"},Eo={class:"memberInfoContent"},Fo={class:"memberInfoTitle"},Oo={class:"optionGroup"},Ko={class:"memberNameRWD"},qo={class:"rwdW100"},Zo={class:"updated-time"},zo={class:"memberInfoCardWrap"},Jo={class:"memberInfoRow"},Yo={class:"memberInfoCardGroup memberInfoCardGroupW50"},Qo={class:"memberInfoCard2"},Xo={class:"memberInfoList"},en={class:"memberInfoListContent"},tn={class:"memberInfoList"},sn={class:"memberInfoListContent"},ln={class:"memberInfoList"},on={class:"memberInfoListContent"},nn={class:"memberInfoTagsGroup"},rn={key:0,class:"memberInfoTag"},an={class:"memberInfoCard2"},dn={class:"memberInfoList"},cn={class:"memberInfoListContent"},un={class:"memberInfoList"},mn={class:"memberInfoListContent"},vn={key:0,class:"memberInfoWarning"},pn={class:"memberInfoWarningTagsGroup"},fn={class:"memberInfoWarningTag used"},bn={class:"memberInfoWarningTag remain"},Cn={class:"memberInfoCard memberInfoCardGroupW50"},gn={class:"memberInfoTitleWrap"},hn={class:"memberInfoTitleGroup"},_n={class:"memberInfoTable"},yn={class:"memberInfoTableRowItem"},Tn={class:"memberInfoTableRowItem"},An={class:"memberInfoTableRowItem"},kn={key:1,class:"memberInfoTableRow"},In={key:0,class:"pagination"},$n=["disabled"],Rn=["disabled"],wn=["disabled","onClick"],Dn=["disabled"],Sn=["disabled"],Vn={class:"memberInfoCard memberInfoCardGroupW100"},Hn={class:"memberInfoRow"},Mn={class:"memberInfoCard w-half"},Ln={class:"memberInfoTitleWrap"},Nn={class:"memberInfoTitleGroup"},xn={class:"memberInfoTable"},Un={class:"memberInfoTableRowItem"},Pn={class:"memberInfoTableRowItem"},Bn={class:"memberInfoTableRowItem"},Gn={class:"memberInfoTableRowItem"},Wn=["onClick"],jn={key:1,class:"memberInfoTableRow"},En={key:0,class:"pagination"},Fn=["disabled"],On=["disabled"],Kn=["onClick"],qn=["disabled"],Zn=["disabled"],zn={class:"memberInfoCard w-half"},Jn={class:"memberInfoRow"},Yn={class:"memberInfoCard w-half"},Qn={class:"memberInfoTitleWrap"},Xn={class:"memberInfoTitleGroup"},er={class:"memberInfoTable"},tr={class:"memberInfoTableRowItem"},sr={class:"memberInfoTableRowItem"},lr={class:"memberInfoTableRowItem"},or={class:"memberInfoTableRowItem"},nr=["onClick"],rr={key:1,class:"memberInfoTableRow"},ar={key:0,class:"pagination"},ir=["disabled"],dr=["disabled"],cr=["onClick"],ur=["disabled"],mr=["disabled"],vr={class:"memberInfoCard w-half"},pr={class:"memberInfoRow"},fr={class:"memberInfoCard w-half"},br={class:"memberInfoTitleWrap"},Cr={class:"memberInfoTitleGroup"},gr={class:"memberInfoTable"},hr={class:"memberInfoTableRowItem"},_r={class:"memberInfoTableRowItem"},yr={class:"memberInfoTableRowItem"},Tr={class:"memberInfoTableRowItem"},Ar=["onClick"],kr={key:1,class:"memberInfoTableRow"},Ir={key:0,class:"pagination"},$r=["disabled"],Rr=["disabled"],wr=["onClick"],Dr=["disabled"],Sr=["disabled"],Vr={class:"memberInfoCard w-half"},Hr={class:"memberInfoRow"},Mr={class:"memberInfoCard w-half"},Lr={class:"memberInfoTitleWrap"},Nr={class:"memberInfoTitleGroup"},xr={class:"memberInfoTable"},Ur={class:"memberInfoTableRowItem"},Pr={class:"memberInfoTableRowItem"},Br={class:"memberInfoTableRowItem"},Gr={class:"memberInfoTableRowItem"},Wr=["onClick"],jr={key:1,class:"memberInfoTableRow"},Er={key:0,class:"pagination"},Fr=["disabled"],Or=["disabled"],Kr=["onClick"],qr=["disabled"],Zr=["disabled"],zr={class:"memberInfoCard w-half"},_t=4,X=4,Jr=me({__name:"memberContent",props:{record:{}},emits:["close"],setup(P){const i=kt(),l=It();St({title:"",description:"NeuroPlus神經調節家提供專業的自律神經檢測服務，運用FDA認證AI技術，透過人臉辨識快速分析HRV數據，幫助您了解自律神經狀態。",url:"https://neuroplus.com.tw"});function n(){return{token:localStorage.getItem("backendToken")??sessionStorage.getItem("backendToken"),admin:localStorage.getItem("adminID")??sessionStorage.getItem("adminID"),sel:JSON.parse(localStorage.getItem("selectedMember")??"{}")}}const r=Nt(),{member:$,currentOrder:H,lastUpdated:C,hrvRecords:m,ansRecords:v,lifeRecords:b,childANS:w,homeOrders:T,hasFetched:D}=$t(r),I=R(!1),N=R([]),h=R(null),M=R(null),y=R(!1),f=R(null),S=R(null),L=R(null),x=R(null),d=R(null),c=R(5);function Y(){c.value=window.innerWidth<=480?3:5}Ee(()=>{Y(),window.addEventListener("resize",Y)}),Fe(()=>{window.removeEventListener("resize",Y)});const ae=g(()=>ue(te.value,W.value,c.value)),ee=g(()=>{if(!h.value||h.value.length<2)return T.value;const[_,s]=h.value,G=_.getTime(),k=s.getTime();return T.value.filter(A=>{const j=Date.parse(A.StartTime.replace(/\//g,"-"));return j>=G&&j<=k})}),ie=g(()=>{if(!M.value||M.value.length<2)return T.value;const[_,s]=M.value,G=_.getTime(),k=s.getTime();return T.value.filter(A=>{const j=Date.parse(A.StartTime.replace(/\//g,"-"));return j>=G&&j<=k})}),W=R(1),de=g(()=>ee.value.length),te=g(()=>Math.max(1,Math.ceil(de.value/_t))),ve=g(()=>{const _=(W.value-1)*_t;return console.log("filteredHome",ee.value),ee.value.slice(_,_+_t)});function Te(_){W.value=_}function qe(){W.value>1&&W.value--}function Ze(){W.value<te.value&&W.value++}const K=R(1),Ae=g(()=>Le.value.length),ce=g(()=>Math.max(1,Math.ceil(Ae.value/X))),Se=g(()=>{const _=(K.value-1)*X;return Le.value.slice(_,_+X)}),q=R(1),ke=g(()=>v.value.length),pe=g(()=>Math.max(1,Math.ceil(ke.value/X))),Ve=g(()=>{const _=(q.value-1)*X;return v.value.slice(_,_+X)}),Z=R(1),Ie=g(()=>b.value.length),fe=g(()=>Math.max(1,Math.ceil(Ie.value/X))),He=g(()=>{const _=(Z.value-1)*X;return b.value.slice(_,_+X)}),z=R(1),$e=g(()=>w.value.length),be=g(()=>Math.max(1,Math.ceil($e.value/X))),Me=g(()=>{const _=(z.value-1)*X;return w.value.slice(_,_+X)});function Re(_){K.value=_}function ze(){K.value>1&&K.value--}function Je(){K.value<ce.value&&K.value++}function Ye(_){f.value=_,y.value=!0}function Qe(){y.value=!1}const Ce=(_,s,G)=>g(()=>{if(!s.value||s.value.length<2)return _.value;const[k,A]=s.value,j=k.getTime(),F=A.getTime();return _.value.filter(Q=>{const se=Date.parse(Q[G].split(" ")[0].replace(/\//g,"-"));return se>=j&&se<=F})}),Le=Ce(m,S,"CheckTime");Ce(v,L,"CheckTime"),Ce(b,x,"CheckTime");const Xe=Ce(w,d,"CheckTime");g(()=>m.value),g(()=>v.value),g(()=>b.value),g(()=>w.value),ye(h,()=>{W.value=1});function ue(_,s,G=c.value){const k=[];if(_<=G)for(let A=1;A<=_;A++)k.push(A);else{let A=Math.max(1,s-Math.floor(G/2)),j=A+G-1;j>_&&(j=_,A=_-G+1);for(let F=A;F<=j;F++)k.push(F)}return k}const et=g(()=>ue(ce.value,K.value,c.value)),tt=g(()=>ue(pe.value,q.value,c.value)),st=g(()=>ue(fe.value,Z.value,c.value)),lt=g(()=>ue(be.value,z.value,c.value)),we=R(!1);ye(()=>l.query,async()=>{we.value=!0,r.clear(),await r.fetchAll(n()),we.value=!1},{deep:!0,immediate:!0});function ot(){N.value=H.value?[H.value]:[],I.value=!0}function nt(){I.value=!1}function rt(){r.clear(),r.fetchAll(n())}function at(){i.push("/raphaelBackend/member")}const ge=R(!1),Ne=R(null);async function it(_){const{token:s,admin:G,sel:k}=n();if(!s||!G||!k.MID)return null;const A=_.AID;let j="";const F=v.value.slice().sort((le,o)=>new Date(o.CheckTime).getTime()-new Date(le.CheckTime).getTime()),Q=F.findIndex(le=>le.AID===A);return Q!==-1&&Q<F.length-1&&(j=F[Q+1].AID),console.log("Current AID:",A),console.log("Previous AID:",j),console.log("All records:",F.map(le=>({AID:le.AID,CheckTime:le.CheckTime}))),await(await fetch("https://23700999.com:8081/HMA/API_Home_ANSDetail.jsp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({AdminID:G,Token:s,MID:k.MID,Mobile:k.Mobile??"",AID:A,preAID:j})})).json()}async function dt(_){const s=await it(_);s&&s.Result==="OK"?(Ne.value=s,ge.value=!0):alert("取得自律神經詳細資料失敗")}function ct(){ge.value=!1}const he=R(!1),xe=R(null);function ut(_){xe.value=_,he.value=!0}function mt(){he.value=!1}const _e=R(!1),Ue=R(null);async function vt(_){const{token:s,admin:G,sel:k}=n();if(!s||!G||!k.MID)return null;const A=_.AID,j=_.CID;let F="";const Q=w.value.slice().sort((o,oe)=>new Date(oe.CheckTime).getTime()-new Date(o.CheckTime).getTime()),se=Q.findIndex(o=>o.AID===A);return se!==-1&&se<Q.length-1&&(F=Q[se+1].AID),await(await fetch("https://23700999.com:8081/HMA/API_Home_ChildANSDetail.jsp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({AdminID:G,Token:s,MID:k.MID,Mobile:k.Mobile??"",CID:j,AID:A,preAID:F})})).json()}async function pt(_){const s=await vt(_);s&&s.Result==="OK"?(Ue.value=s,_e.value=!0):alert("取得寶貝詳細資料失敗")}function ft(){_e.value=!1}return g(()=>I.value||y.value||ge.value||he.value||_e.value),(_,s)=>{var G,k,A,j,F,Q,se,le;return we.value?(a(),u("div",Wo,s[21]||(s[21]=[e("div",{class:"loading-spinner"},null,-1),e("div",null,"載入中，請稍候...",-1)]))):(a(),u("div",jo,[E(wt),I.value?(a(),Pe(es,{key:0,contracts:N.value,"member-name":((G=p($))==null?void 0:G.Name)??"",onClose:nt},null,8,["contracts","member-name"])):J("",!0),y.value?(a(),Pe(Fs,{key:1,record:f.value,onClose:Qe},null,8,["record"])):J("",!0),ge.value?(a(),Pe(so,{key:2,record:Ne.value,onClose:ct},null,8,["record"])):J("",!0),he.value?(a(),Pe($o,{key:3,record:xe.value,onClose:mt},null,8,["record"])):J("",!0),_e.value?(a(),Pe(xo,{key:4,record:Ue.value,onClose:ft},null,8,["record"])):J("",!0),e("div",Eo,[e("div",Fo,[e("h3",null,t(((k=p($))==null?void 0:k.Name)??"—"),1),e("div",Oo,[e("h3",Ko,t(((A=p($))==null?void 0:A.Name)??"—"),1),e("button",{class:"goBackBtn",onClick:at},s[22]||(s[22]=[e("img",{src:Vt,alt:""},null,-1),V("返回 ")])),e("div",qo,[e("button",{class:"btn refresh",onClick:rt},"資料更新"),e("span",Zo,"最後更新: "+t(p(C)||"—"),1)])])]),e("div",zo,[e("div",Jo,[e("div",Yo,[e("div",Qo,[s[26]||(s[26]=e("h3",null,"基本資料",-1)),e("h5",null,t(((j=p($))==null?void 0:j.GradeName)||"—"),1),e("div",Xo,[s[23]||(s[23]=e("div",{class:"memberInfoListTitle"},[e("img",{src:Ht,alt:""}),V("生日 ")],-1)),e("div",en,t(((F=p($))==null?void 0:F.Birthday)||"—"),1)]),e("div",tn,[s[24]||(s[24]=e("div",{class:"memberInfoListTitle"},[e("img",{src:Mt,alt:""}),V("電話 ")],-1)),e("div",sn,t(((Q=p($))==null?void 0:Q.Mobile)||"—"),1)]),e("div",ln,[s[25]||(s[25]=e("div",{class:"memberInfoListTitle"},[e("img",{src:We,alt:""}),V("註冊時間 ")],-1)),e("div",on,t(((se=p($))==null?void 0:se.CheckTime)||"—"),1)]),e("div",nn,[(le=p($))!=null&&le.memType?(a(),u("div",rn,t(p($).memType),1)):J("",!0)])]),e("div",an,[p(H)?(a(),u(U,{key:0},[e("h3",null,t(p(H).ProductName),1),s[31]||(s[31]=e("h5",null,"目前合約",-1)),e("div",dn,[s[27]||(s[27]=e("div",{class:"memberInfoListTitle"},[e("img",{src:We,alt:""}),V("開始時間 ")],-1)),e("div",cn,t(p(H).RentStart),1)]),e("div",un,[s[28]||(s[28]=e("div",{class:"memberInfoListTitle"},[e("img",{src:We,alt:""}),V("結束時間 ")],-1)),e("div",mn,t(p(H).RentEnd),1)]),_.isExpired?(a(),u("div",vn,[s[29]||(s[29]=V(" 合約已於 ")),e("h6",null,t(p(H).RentEnd)+" 到期",1),s[30]||(s[30]=e("div",{class:"memberInfoWarning"}," 目前尚未續約，請確認是否續約以恢復服務。 ",-1))])):J("",!0),e("div",pn,[e("div",fn," 已使用 "+t(p(H).Used||0)+" 天 ",1),e("div",bn," 剩餘 "+t(p(H).Still||0)+" 天 ",1)])],64)):(a(),u(U,{key:1},[s[32]||(s[32]=e("h3",null,"—",-1)),s[33]||(s[33]=e("h5",null,"目前合約",-1)),s[34]||(s[34]=e("p",{style:{"text-align":"center",padding:"8px 0"}},"尚無合約資料",-1))],64)),e("button",{class:"consumptionBtn",onClick:ot},s[35]||(s[35]=[e("img",{src:Lt,alt:""},null,-1),V("消費紀錄 ")]))])]),e("div",Cn,[e("div",gn,[s[36]||(s[36]=e("h3",null,"使用紀錄查詢",-1)),e("div",hn,[e("small",null,"已使用 "+t(de.value)+" 次",1),E(p(ne),{modelValue:h.value,"onUpdate:modelValue":s[0]||(s[0]=o=>h.value=o),range:"","enable-time-picker":!1,format:"yyyy/MM/dd",placeholder:"使用日期區間","prepend-icon":"i-calendar",teleport:"body"},null,8,["modelValue"])])]),e("div",_n,[s[38]||(s[38]=Be('<div class="memberInfoTableTitle" data-v-a5013e14><div class="memberInfoTableTitleItem" data-v-a5013e14>APP 使用日期</div><div class="memberInfoTableTitleItem" data-v-a5013e14>APP 結束日期</div><div class="memberInfoTableTitleItem" data-v-a5013e14>間隔天數</div></div><div class="memberInfoTableHR" data-v-a5013e14></div>',2)),ve.value.length?(a(!0),u(U,{key:0},B(ve.value,o=>(a(),u("div",{class:"memberInfoTableRow",key:o.UID},[e("div",yn,t(o.StartTime),1),e("div",Tn,t(o.EndTime),1),e("div",An,t(o.diffDays||"—")+" 天 ",1)]))),128)):(a(),u("div",kn,s[37]||(s[37]=[e("div",{class:"memberInfoTableRowItem",style:{width:"100%"}}," 尚無資料 ",-1)])))]),de.value?(a(),u("nav",In,[e("button",{class:"btn-page",disabled:W.value===1,onClick:s[1]||(s[1]=o=>Te(1))}," << ",8,$n),e("button",{class:"btn-page",disabled:W.value===1,onClick:qe}," < ",8,Rn),(a(!0),u(U,null,B(ae.value,o=>(a(),u("button",{class:O(["btn-page btn-page-number",{active:W.value===o}]),key:o,disabled:o==="...",onClick:oe=>typeof o=="number"&&Te(o)},t(o),11,wn))),128)),e("button",{class:"btn-page",disabled:W.value===te.value,onClick:Ze}," > ",8,Dn),e("button",{class:"btn-page",disabled:W.value===te.value,onClick:s[2]||(s[2]=o=>Te(te.value))}," >> ",8,Sn)])):J("",!0)]),e("div",Vn,[s[39]||(s[39]=e("h3",null,"使用紀錄分析",-1)),E(Bt,{"usage-data":ie.value},null,8,["usage-data"])])]),e("div",Hn,[e("div",Mn,[e("div",Ln,[s[40]||(s[40]=e("h3",null,"HRV檢測紀錄查詢",-1)),e("div",Nn,[e("small",null,"共 "+t(Ae.value)+" 筆",1),E(p(ne),{modelValue:S.value,"onUpdate:modelValue":s[3]||(s[3]=o=>S.value=o),placeholder:"使用日期區間",range:"","enable-time-picker":!1,format:"yyyy/MM/dd",teleport:"body"},null,8,["modelValue"])])]),e("div",xn,[s[42]||(s[42]=Be('<div class="memberInfoTableTitle" data-v-a5013e14><div class="memberInfoTableTitleItem" data-v-a5013e14>檢測時間</div><div class="memberInfoTableTitleItem" data-v-a5013e14>生理年齡</div><div class="memberInfoTableTitleItem" data-v-a5013e14>HRV</div><div class="memberInfoTableTitleItem" data-v-a5013e14>間隔天數</div></div><div class="memberInfoTableHR" data-v-a5013e14></div>',2)),Se.value.length?(a(!0),u(U,{key:0},B(Se.value,o=>(a(),u("div",{class:"memberInfoTableRow",key:o.CheckTime},[e("div",Un,t(o.CheckTime),1),e("div",Pn,t(o.bioage),1),e("div",Bn,t(o.HRV),1),e("div",Gn,t(o.diffDays||"—"),1),e("img",{src:bt,alt:"detail",style:{cursor:"pointer"},onClick:oe=>Ye(o)},null,8,Wn)]))),128)):(a(),u("div",jn,s[41]||(s[41]=[e("div",{class:"memberInfoTableRowItem",style:{width:"100%"}}," 尚無資料 ",-1)])))]),Ae.value?(a(),u("nav",En,[e("button",{class:"btn-page",disabled:K.value===1,onClick:s[4]||(s[4]=o=>Re(1))}," << ",8,Fn),e("button",{class:"btn-page",disabled:K.value===1,onClick:ze}," < ",8,On),(a(!0),u(U,null,B(et.value,o=>(a(),u("button",{class:O(["btn-page btn-page-number",{active:K.value===o}]),key:o,onClick:oe=>Re(o)},t(o),11,Kn))),128)),e("button",{class:"btn-page",disabled:K.value===ce.value,onClick:Je}," > ",8,qn),e("button",{class:"btn-page",disabled:K.value===ce.value,onClick:s[5]||(s[5]=o=>Re(ce.value))}," >> ",8,Zn)])):J("",!0)]),e("div",zn,[s[43]||(s[43]=e("h3",null,"HRV檢測紀錄分析",-1)),E(ht,{records:p(m),range:S.value,"date-key":"CheckTime","primary-key":"bioage","secondary-key":"HRV","primary-label":"生理年齡","secondary-label":"HRV"},null,8,["records","range"])])]),e("div",Jn,[e("div",Yn,[e("div",Qn,[s[44]||(s[44]=e("h3",null,"自律神經檢測紀錄查詢",-1)),e("div",Xn,[e("small",null,"共 "+t(ke.value)+" 筆",1),E(p(ne),{modelValue:L.value,"onUpdate:modelValue":s[6]||(s[6]=o=>L.value=o),placeholder:"使用日期區間",range:"","enable-time-picker":!1,format:"yyyy/MM/dd",teleport:"body"},null,8,["modelValue"])])]),e("div",er,[s[46]||(s[46]=Be('<div class="memberInfoTableTitle" data-v-a5013e14><div class="memberInfoTableTitleItem" data-v-a5013e14>檢測時間</div><div class="memberInfoTableTitleItem" data-v-a5013e14>分數</div><div class="memberInfoTableTitleItem" data-v-a5013e14>嚴重程度</div><div class="memberInfoTableTitleItem" data-v-a5013e14>間隔天數</div></div><div class="memberInfoTableHR" data-v-a5013e14></div>',2)),Ve.value.length?(a(!0),u(U,{key:0},B(Ve.value,o=>(a(),u("div",{class:"memberInfoTableRow",key:o.CheckTime},[e("div",tr,t(o.CheckTime),1),e("div",sr,t(o.TotalScore??"—"),1),e("div",lr,t(o.TotalDesc??"—"),1),e("div",or,t(o.diffDays??"—"),1),e("img",{src:bt,alt:"detail",style:{cursor:"pointer"},onClick:oe=>dt(o)},null,8,nr)]))),128)):(a(),u("div",rr,s[45]||(s[45]=[e("div",{class:"memberInfoTableRowItem",style:{width:"100%"}}," 尚無資料 ",-1)])))]),ke.value?(a(),u("nav",ar,[e("button",{class:"btn-page",disabled:q.value===1,onClick:s[7]||(s[7]=o=>q.value=1)}," << ",8,ir),e("button",{class:"btn-page",disabled:q.value===1,onClick:s[8]||(s[8]=o=>q.value--)}," < ",8,dr),(a(!0),u(U,null,B(tt.value,o=>(a(),u("button",{class:O(["btn-page btn-page-number",{active:q.value===o}]),key:o,onClick:oe=>q.value=o},t(o),11,cr))),128)),e("button",{class:"btn-page",disabled:q.value===pe.value,onClick:s[9]||(s[9]=o=>q.value++)}," > ",8,ur),e("button",{class:"btn-page",disabled:q.value===pe.value,onClick:s[10]||(s[10]=o=>q.value=pe.value)}," >> ",8,mr)])):J("",!0)]),e("div",vr,[s[47]||(s[47]=e("h3",null,"自律神經檢測紀錄分析",-1)),E(ht,{records:p(v),"date-key":"CheckTime","primary-key":"TotalScore","primary-label":"檢測分數"},null,8,["records"])])]),e("div",pr,[e("div",fr,[e("div",br,[s[48]||(s[48]=e("h3",null,"生活檢測紀錄查詢",-1)),e("div",Cr,[e("small",null,"共 "+t(Ie.value)+" 筆",1),E(p(ne),{range:"",placeholder:"使用日期區間",modelValue:x.value,"onUpdate:modelValue":s[11]||(s[11]=o=>x.value=o),"enable-time-picker":!1,format:"yyyy/MM/dd",teleport:"body"},null,8,["modelValue"])])]),e("div",gr,[s[50]||(s[50]=Be('<div class="memberInfoTableTitle" data-v-a5013e14><div class="memberInfoTableTitleItem" data-v-a5013e14>檢測時間</div><div class="memberInfoTableTitleItem" data-v-a5013e14>分數</div><div class="memberInfoTableTitleItem" data-v-a5013e14>睡眠品質</div><div class="memberInfoTableTitleItem" data-v-a5013e14>間隔天數</div></div><div class="memberInfoTableHR" data-v-a5013e14></div>',2)),He.value.length?(a(!0),u(U,{key:0},B(He.value,o=>(a(),u("div",{class:"memberInfoTableRow",key:o.CheckTime},[e("div",hr,t(o.CheckTime),1),e("div",_r,t(o.Score??"—"),1),e("div",yr,t(o.daytimeSleepiness??"—"),1),e("div",Tr,t(o.diffDays??"—"),1),e("img",{src:bt,alt:"detail",style:{cursor:"pointer"},onClick:oe=>ut(o)},null,8,Ar)]))),128)):(a(),u("div",kr,s[49]||(s[49]=[e("div",{class:"memberInfoTableRowItem",style:{width:"100%"}}," 尚無資料 ",-1)])))]),Ie.value?(a(),u("nav",Ir,[e("button",{class:"btn-page",disabled:Z.value===1,onClick:s[12]||(s[12]=o=>Z.value=1)}," << ",8,$r),e("button",{class:"btn-page",disabled:Z.value===1,onClick:s[13]||(s[13]=o=>Z.value--)}," < ",8,Rr),(a(!0),u(U,null,B(st.value,o=>(a(),u("button",{class:O(["btn-page btn-page-number",{active:Z.value===o}]),key:o,onClick:oe=>Z.value=o},t(o),11,wr))),128)),e("button",{class:"btn-page",disabled:Z.value===fe.value,onClick:s[14]||(s[14]=o=>Z.value++)}," > ",8,Dr),e("button",{class:"btn-page",disabled:Z.value===fe.value,onClick:s[15]||(s[15]=o=>Z.value=fe.value)}," >> ",8,Sr)])):J("",!0)]),e("div",Vr,[s[51]||(s[51]=e("h3",null,"生活檢測紀錄分析",-1)),E(ht,{records:p(b),"date-key":"CheckTime","primary-key":"Score","primary-label":"檢測分數"},null,8,["records"])])]),e("div",Hr,[e("div",Mr,[e("div",Lr,[s[52]||(s[52]=e("h3",null,"寶貝檢測紀錄查詢",-1)),e("div",Nr,[e("small",null,"共 "+t($e.value)+" 筆",1),E(p(ne),{range:"",modelValue:d.value,"onUpdate:modelValue":s[16]||(s[16]=o=>d.value=o),placeholder:"使用日期區間","enable-time-picker":!1,format:"yyyy/MM/dd",teleport:"body"},null,8,["modelValue"])])]),e("div",xr,[s[54]||(s[54]=Be('<div class="memberInfoTableTitle" data-v-a5013e14><div class="memberInfoTableTitleItem" data-v-a5013e14>檢測時間</div><div class="memberInfoTableTitleItem" data-v-a5013e14>分數</div><div class="memberInfoTableTitleItem" data-v-a5013e14>嚴重程度</div><div class="memberInfoTableTitleItem" data-v-a5013e14>間隔天數</div></div><div class="memberInfoTableHR" data-v-a5013e14></div>',2)),Me.value.length?(a(!0),u(U,{key:0},B(Me.value,o=>(a(),u("div",{class:"memberInfoTableRow baby-row",key:o.AID},[e("div",Ur,t(o.CheckTime),1),e("div",Pr,t(o.ALL_Score),1),e("div",Br,t(o.ALL_Serious),1),e("div",Gr,t(o.diffDays??"—"),1),e("img",{src:bt,alt:"detail",style:{cursor:"pointer"},onClick:Rt(oe=>pt(o),["stop"])},null,8,Wr)]))),128)):(a(),u("div",jr,s[53]||(s[53]=[e("div",{class:"memberInfoTableRowItem",style:{width:"100%"}}," 尚無資料 ",-1)])))]),$e.value?(a(),u("nav",Er,[e("button",{class:"btn-page",disabled:z.value===1,onClick:s[17]||(s[17]=o=>z.value=1)}," << ",8,Fr),e("button",{class:"btn-page",disabled:z.value===1,onClick:s[18]||(s[18]=o=>z.value--)}," < ",8,Or),(a(!0),u(U,null,B(lt.value,o=>(a(),u("button",{class:O(["btn-page btn-page-number",{active:z.value===o}]),key:o,onClick:oe=>z.value=o},t(o),11,Kr))),128)),e("button",{class:"btn-page",disabled:z.value===be.value,onClick:s[19]||(s[19]=o=>z.value++)}," > ",8,qr),e("button",{class:"btn-page",disabled:z.value===be.value,onClick:s[20]||(s[20]=o=>z.value=be.value)}," >> ",8,Zr)])):J("",!0)]),e("div",zr,[s[55]||(s[55]=e("h3",null,"寶貝檢測紀錄分析",-1)),E(Go,{records:p(Xe)},null,8,["records"])])])])])]))}}}),la=re(Jr,[["__scopeId","data-v-a5013e14"]]);export{la as default};
