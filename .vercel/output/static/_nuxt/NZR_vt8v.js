import{E as U,M as W,r as d,o as Z,v as c,x as i,H as q,O as j,y as t,z as s,A as X,N as Y}from"./HfdH-K36.js";import{C as tt}from"./zbPE8Z49.js";import{_ as lt}from"./W3k4iq7y.js";import{u as _}from"./BdfeuyLY.js";import{_ as ot}from"./DlAUqK2U.js";const F="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%3e%3cpath%20d='M18.2312%205.76862C18.3367%205.87411%2018.396%206.01719%2018.396%206.16637C18.396%206.31555%2018.3367%206.45863%2018.2312%206.56412L12.7954%2012L18.2312%2017.4359C18.3367%2017.5414%2018.396%2017.6844%2018.396%2017.8336C18.396%2017.9828%2018.3367%2018.1259%2018.2312%2018.2314C18.1258%2018.3369%2017.9827%2018.3961%2017.8335%2018.3961C17.6843%2018.3961%2017.5412%2018.3369%2017.4357%2018.2314L11.9999%2012.7955L6.56398%2018.2314C6.45849%2018.3369%206.31542%2018.3961%206.16624%2018.3961C6.01705%2018.3961%205.87398%2018.3369%205.76849%2018.2314C5.663%2018.1259%205.60374%2017.9828%205.60374%2017.8336C5.60374%2017.6844%205.663%2017.5414%205.76849%2017.4359L11.2044%2012L5.76849%206.56412C5.663%206.45863%205.60374%206.31555%205.60374%206.16637C5.60374%206.01718%205.663%205.87411%205.76849%205.76862C5.87398%205.66313%206.01705%205.60387%206.16624%205.60387C6.31542%205.60387%206.45849%205.66313%206.56398%205.76862L11.9999%2011.2045L17.4357%205.76862C17.5412%205.66313%2017.6843%205.60387%2017.8335%205.60387C17.9827%205.60387%2018.1258%205.66313%2018.2312%205.76862Z'%20fill='%231E1E1E'/%3e%3c/svg%3e",et={key:0,class:"addCartAlert"},st={class:"addCartAlertTitleGroup"},at=["src","alt"],nt={class:"textGroup"},rt={class:"addCartAlertOptionGroup"},ut={class:"addCartAlertOptionGroupInput"},dt=["disabled"],it={class:"qtyNum"},ct=["disabled"],vt={key:1,class:"buyCartAlert"},pt={class:"addCartAlertTitleGroup"},Ct=["src","alt"],_t={class:"textGroup"},mt={class:"addCartAlertOptionGroup"},ht={class:"addCartAlertOptionGroupInput"},yt=["disabled"],gt={class:"qtyNum"},At=["disabled"],ft={key:3,class:"productCartWrap"},bt={class:"productCartContentGroup"},Pt={class:"productCartContent"},Mt=["src","alt"],Dt={class:"productCartContent"},kt={class:"productCartContent"},Nt={class:"productCartContent"},It={class:"productCartContent"},Bt={class:"productCartContent"},wt={class:"productCartContentImgGroup"},Tt=["src","alt"],Gt={__name:"product[item]",setup(Lt){const H=U(),$=W(),a=JSON.parse(localStorage.getItem("userData")),v=H.params.item,o=d(null),e=d(1),p=d(!1),C=d(!1),u=d(!0),z=async()=>{var n,l;try{u.value=!0;const{data:r}=await _("https://23700999.com:8081/HMA/api/fr/maSingleProduct",{method:"POST",body:{MID:a.MID,Token:a.Token,MAID:a.MAID,Mobile:a.Mobile,Lang:"zhtw",ProductID:v}},"$m7DigNLPn8");((n=r.value)==null?void 0:n.Result)==="OK"&&((l=r.value)!=null&&l.RetMaSingleProduct)&&(o.value=r.value.RetMaSingleProduct)}catch(r){console.error("獲取商品詳情失敗：",r)}finally{u.value=!1}},E=async()=>{var n;try{u.value=!0;const{data:l}=await _("https://23700999.com:8081/HMA/api/fr/maCartAdd",{method:"POST",body:{MID:a.MID,Token:a.Token,MAID:a.MAID,Mobile:a.Mobile,Lang:"zhtw",Cart:[{ProductID:v,Qty:e.value.toString()}]}},"$1tdFyxyB3x");((n=l.value)==null?void 0:n.Result)==="OK"&&(console.log("成功加入購物車"),m())}catch(l){console.error("加入購物車失敗：",l)}finally{u.value=!1}},Q=async()=>{var n;try{u.value=!0;const{data:l}=await _("https://23700999.com:8081/HMA/api/fr/maCartAdd",{method:"POST",body:{MID:a.MID,Token:a.Token,MAID:a.MAID,Mobile:a.Mobile,Lang:"zhtw",Cart:[{ProductID:v,Qty:e.value.toString()}]}},"$U_IlzH5kl6");((n=l.value)==null?void 0:n.Result)==="OK"&&(console.log("成功加入購物車"),$.push("/cart/cartList"))}catch(l){console.error("立即購買失敗：",l)}finally{u.value=!1}},K=()=>{p.value=!0},V=()=>{C.value=!0},m=()=>{p.value=!1,e.value=1},J=()=>{C.value=!1,e.value=1},h=()=>{e.value>1&&e.value--},y=()=>{e.value<100&&e.value++};return Z(()=>{z()}),(n,l)=>{var r,g,A,f,b,P,M,D,k,N,I,B,w,T,G,L,O,x,R,S;return i(),c(Y,null,[p.value?(i(),c("div",et,[t("div",st,[t("img",{src:(r=o.value)==null?void 0:r.FPicture,alt:(g=o.value)==null?void 0:g.ProductName},null,8,at),t("div",nt,[t("h2",null,s((A=o.value)==null?void 0:A.ProductName),1),t("h6",null,"NT$"+s((f=o.value)==null?void 0:f.Price),1)])]),l[2]||(l[2]=t("div",{class:"addCartAlertHR"},null,-1)),t("div",rt,[l[0]||(l[0]=t("h6",null,"數量",-1)),t("div",ut,[t("button",{class:"qtyBtn",onClick:h,disabled:e.value<=1}," - ",8,dt),t("span",it,s(e.value),1),t("button",{class:"qtyBtn",onClick:y,disabled:e.value>=100}," + ",8,ct)])]),t("div",{class:"addAlertBtnGroup"},[t("button",{onClick:E},"加入購物車")]),t("div",{class:"closeBtn",onClick:m},l[1]||(l[1]=[t("img",{src:F,alt:""},null,-1)]))])):q("",!0),C.value?(i(),c("div",vt,[t("div",pt,[t("img",{src:(b=o.value)==null?void 0:b.FPicture,alt:(P=o.value)==null?void 0:P.ProductName},null,8,Ct),t("div",_t,[t("h2",null,s((M=o.value)==null?void 0:M.ProductName),1),t("h6",null,"NT$"+s((D=o.value)==null?void 0:D.Price),1)])]),l[5]||(l[5]=t("div",{class:"addCartAlertHR"},null,-1)),t("div",mt,[l[3]||(l[3]=t("h6",null,"數量",-1)),t("div",ht,[t("button",{class:"qtyBtn",onClick:h,disabled:e.value<=1}," - ",8,yt),t("span",gt,s(e.value),1),t("button",{class:"qtyBtn",onClick:y,disabled:e.value>=100}," + ",8,At)])]),t("div",{class:"addAlertBtnGroup"},[t("button",{class:"buyBtn",onClick:Q},"立即購買")]),t("div",{class:"closeBtn",onClick:J},l[4]||(l[4]=[t("img",{src:F,alt:""},null,-1)]))])):q("",!0),u.value?(i(),j(lt,{key:2})):(i(),c("div",ft,[X(tt),t("div",bt,[t("div",Pt,[t("img",{src:(k=o.value)==null?void 0:k.FPicture,alt:(N=o.value)==null?void 0:N.ProductName},null,8,Mt),t("h2",null,s((I=o.value)==null?void 0:I.ProductName),1),t("h6",null,"NT$"+s((B=o.value)==null?void 0:B.Price),1),t("small",null,"剩下 "+s((w=o.value)==null?void 0:w.Remaining)+" 件",1)]),t("div",Dt,[l[6]||(l[6]=t("h3",null,"配送方式",-1)),t("p",null,s((T=o.value)==null?void 0:T.DeliverName),1)]),t("div",kt,[l[7]||(l[7]=t("h3",null,"付款方式",-1)),t("p",null,s((G=o.value)==null?void 0:G.PayName),1)]),t("div",Nt,[l[8]||(l[8]=t("h3",null,"退換貨政策",-1)),t("ul",null,[t("li",null,s((L=o.value)==null?void 0:L.ReturnPolicyName),1)])]),t("div",It,[l[9]||(l[9]=t("h3",null,"商品特色",-1)),t("p",null,s((O=o.value)==null?void 0:O.Feature),1)]),t("div",Bt,[l[10]||(l[10]=t("h3",null,"商品詳情",-1)),t("p",null,s((x=o.value)==null?void 0:x.DDesc),1),t("div",wt,[t("img",{src:(R=o.value)==null?void 0:R.DPicture,alt:(S=o.value)==null?void 0:S.ProductName},null,8,Tt)])])]),t("div",{class:"productOptionGroup"},[t("button",{onClick:K},"加入購物車"),t("button",{onClick:V},"立即購買")])]))],64)}}},Ft=ot(Gt,[["__scopeId","data-v-6a688121"]]);export{Ft as default};
