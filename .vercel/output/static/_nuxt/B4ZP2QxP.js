import{_ as k}from"./W3k4iq7y.js";import{_ as G}from"./dOA9az_O.js";import{_ as b}from"./1SqYRxzD.js";import{v as F,x as B,O as x,H as L,y as o,A as T,I as s,$ as E,L as j,_ as Z,T as r,N as O,M as Y,r as a,j as z,o as J}from"./HfdH-K36.js";import{a as P}from"./xsH4HHeE.js";import{u as q}from"./BUsOIeYI.js";import{_ as K}from"./C7_Xho3L.js";import{_ as Q}from"./DlAUqK2U.js";const W=""+new URL("healthDataAge.D-L7UTYb.svg",import.meta.url).href,X="data:image/svg+xml,%3csvg%20width='24'%20height='25'%20viewBox='0%200%2024%2025'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='icon%20/%20heart%20beat'%3e%3cpath%20id='Vector'%20d='M6.75%2013.958H3C2.90054%2013.958%202.80516%2013.9185%202.73484%2013.8482C2.66451%2013.7778%202.625%2013.6825%202.625%2013.583C2.625%2013.4836%202.66451%2013.3882%202.73484%2013.3178C2.80516%2013.2475%202.90054%2013.208%203%2013.208H6.54938L7.93781%2011.1249C7.97204%2011.0734%208.01845%2011.0313%208.07292%2011.0021C8.12738%2010.9729%208.18821%2010.9576%208.25%2010.9576C8.31179%2010.9576%208.37262%2010.9729%208.42708%2011.0021C8.48155%2011.0313%208.52796%2011.0734%208.56219%2011.1249L11.25%2015.1561L12.4378%2013.3749C12.4721%2013.3235%2012.5185%2013.2814%2012.573%2013.2523C12.6274%2013.2232%2012.6882%2013.208%2012.75%2013.208H15C15.0995%2013.208%2015.1948%2013.2475%2015.2652%2013.3178C15.3355%2013.3882%2015.375%2013.4836%2015.375%2013.583C15.375%2013.6825%2015.3355%2013.7778%2015.2652%2013.8482C15.1948%2013.9185%2015.0995%2013.958%2015%2013.958H12.9506L11.5622%2016.0411C11.528%2016.0926%2011.4815%2016.1348%2011.4271%2016.1639C11.3726%2016.1931%2011.3118%2016.2084%2011.25%2016.2084C11.1882%2016.2084%2011.1274%2016.1931%2011.0729%2016.1639C11.0185%2016.1348%2010.972%2016.0926%2010.9378%2016.0411L8.25%2012.0089L7.06219%2013.7902C7.02802%2013.8417%206.98164%2013.884%206.92717%2013.9133C6.8727%2013.9426%206.81184%2013.9579%206.75%2013.958ZM16.6875%204.95801C14.6775%204.95801%2012.945%205.91332%2012%207.49582C11.055%205.91332%209.3225%204.95801%207.3125%204.95801C5.87092%204.95974%204.48888%205.53318%203.46952%206.55253C2.45017%207.57189%201.87674%208.95393%201.875%2010.3955V10.5952C1.87823%2010.6947%201.92084%2010.7888%201.99345%2010.8568C2.06606%2010.9248%202.16273%2010.9612%202.26219%2010.958C2.36164%2010.9548%202.45574%2010.9122%202.52378%2010.8396C2.59182%2010.7669%202.62823%2010.6703%202.625%2010.5708V10.3955C2.62649%209.15276%203.12083%207.96134%203.99958%207.08259C4.87833%206.20383%206.06975%205.7095%207.3125%205.70801C9.29156%205.70801%2010.9547%206.76832%2011.6531%208.47457C11.6814%208.54335%2011.7294%208.60218%2011.7912%208.64358C11.853%208.68498%2011.9256%208.70708%2012%208.70708C12.0744%208.70708%2012.147%208.68498%2012.2088%208.64358C12.2706%208.60218%2012.3186%208.54335%2012.3469%208.47457C13.0453%206.76832%2014.7084%205.70801%2016.6875%205.70801C17.9302%205.7095%2019.1217%206.20383%2020.0004%207.08259C20.8792%207.96134%2021.3735%209.15276%2021.375%2010.3955C21.375%2015.833%2013.3125%2020.6574%2012%2021.4036C11.2059%2020.9518%207.92188%2019.0027%205.47219%2016.3299C5.40444%2016.259%205.31162%2016.2175%205.21363%2016.2142C5.11563%2016.2109%205.02025%2016.2462%204.94792%2016.3124C4.87559%2016.3786%204.83207%2016.4705%204.82667%2016.5684C4.82128%2016.6663%204.85444%2016.7624%204.91906%2016.8361C7.79906%2019.9786%2011.6597%2022.0758%2011.8219%2022.163C11.8766%2022.1925%2011.9378%2022.208%2012%2022.208C12.0622%2022.208%2012.1234%2022.1925%2012.1781%2022.163C13.9318%2021.1766%2015.5863%2020.0235%2017.1188%2018.7196C20.4375%2015.8771%2022.125%2013.0758%2022.125%2010.3955C22.1233%208.95393%2021.5498%207.57189%2020.5305%206.55253C19.5111%205.53318%2018.1291%204.95974%2016.6875%204.95801Z'%20fill='%2374BC1F'/%3e%3c/g%3e%3c/svg%3e",y="data:image/svg+xml,%3csvg%20width='24'%20height='25'%20viewBox='0%200%2024%2025'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='icon%20/%20heart%20rate'%3e%3cg%20id='Vector'%3e%3cpath%20d='M3.42857%2012.833H5.71429L8.57143%205.97583L10.8571%2019.6901L14.2857%209.4044L16.68%2016.2615L18.2857%2012.833H20.5714'%20fill='white'/%3e%3cpath%20d='M3.42857%2012.833H5.71429L8.57143%205.97583L10.8571%2019.6901L14.2857%209.4044L16.68%2016.2615L18.2857%2012.833H20.5714'%20stroke='%2374BC1F'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",$=""+new URL("healthDataSNS.CU_6DIyI.svg",import.meta.url).href,t2=""+new URL("healthDataPNS.DEt1Hj5u.svg",import.meta.url).href,h=""+new URL("healthDataR.CZ5E5RnY.svg",import.meta.url).href,o2={setup(){q({title:"",description:"NeuroPlus神經調節家提供專業的自律神經檢測服務，運用FDA認證AI技術，透過人臉辨識快速分析HRV數據，幫助您了解自律神經狀態。",url:"https://neuroplus.com.tw"});const p=Y(),t=a(""),w=z(()=>t.value!==""),e=a(""),v=a(""),m=a(""),c=a(""),C=a(""),g=a(""),l=a(""),D=a(""),S=a(""),f=a(!1),i=a(!1),d=a(""),A=a(p.currentRoute.value.params.AID||""),V=localStorage.getItem("userData");if(!V){i.value=!0,d.value="用戶資料不存在，請重新登入！",p.push("/");return}const{MID:M,Token:H,MAID:N,Mobile:R,Name:I}=JSON.parse(V);if(!M||!H||!N||!R||!I){i.value=!0,d.value="用戶資料不完整，請重新登入！",p.push("/");return}const U=async()=>{try{f.value=!0;const u=await P.post("https://23700999.com:8081/HMA/api/fr/HRV3Detail",{MID:M,Token:H,MAID:N,Mobile:R,AID:p.currentRoute.value.params.AID||""});if(console.log("API 回傳的 HRV 數據:",u.data),u.status===200){const n=u.data||{};t.value=n.ltage||"",e.value=n.ltHR||"",v.value=n.ltSDNN||"",m.value=n.ltRMSSD||"",c.value=n.ltLF||"",C.value=n.ltHF||"",g.value=n.BPHand||"",l.value=n.MSBP||"",D.value=n.MDBP||"",S.value=n.MHR||""}else throw new Error("伺服器返回非預期結果。")}catch(u){console.error("API Error:",u),i.value=!0,d.value="無法獲取健康數據，請稍後重試。"}finally{f.value=!1}};return J(()=>{U()}),{age:t,heartBeat:e,SDNN:v,RMSSD:m,SNS:c,PNS:C,handleHealthData:async()=>{var u,n;if(!t.value||!e.value||!v.value||!m.value){i.value=!0,d.value="請填寫所有必填欄位！";return}try{if((await P.post("https://23700999.com:8081/HMA/api/fr/HRV3Update",{MID:M,Token:H,MAID:N,Mobile:R,AID:A.value||"",ltage:t.value,ltLF:c.value,ltHF:C.value,ltHR:e.value,ltSDNN:v.value,ltRMSSD:m.value,BPHand:g.value,MSBP:l.value,MDBP:D.value,MHR:S.value})).status===200)i.value=!0,d.value="已成功提交健康數據，請繼續保持健康生活！";else throw new Error("提交失敗，伺服器返回非預期結果。")}catch(_){console.error("API Error:",_),i.value=!0,d.value=((n=(u=_.response)==null?void 0:u.data)==null?void 0:n.message)||"提交數據時發生錯誤，請稍後重試。"}},alertVisable:i,alertMessage:d,handleClose:()=>{i.value=!1,window.history.length>1?p.back():p.push("/user")},isSelected:w,loading:f,BPHand:g,MSBP:l,MDBP:D,MHR:S}}},e2={class:"healthData"},l2={class:"healthDataContent"},a2={class:"healthDataForm"},n2={class:"ageGroup"},s2={class:"heartBeatGroup"},r2={class:"heartSDNNGroup"},i2={class:"heartRMSSDGroup"},u2={class:"heartSNSGroup"},p2={class:"heartPNSroup"},d2={class:"heartCommonGroup"},v2={class:"heartCommonGroup"},m2={class:"heartCommonGroup"},c2={class:"heartCommonGroup"},C2={class:"healthDataBtnGroup"};function g2(p,t,w,e,v,m){const c=k,C=G,g=b;return B(),F(O,null,[e.loading?(B(),x(c,{key:0})):L("",!0),o("div",e2,[e.alertVisable===!0?(B(),x(C,{key:0,showRedirectButton:!1,defaultContent:e.alertMessage,redirectTarget:"/HRVHistoryAll",onClose:e.handleClose},null,8,["defaultContent","onClose"])):L("",!0),T(g,{Text:"健康數據",link:"back"}),t[23]||(t[23]=o("h3",{class:"healthDataContentTitle"},"請輸入手環上的健康數據",-1)),o("div",l2,[o("div",a2,[o("div",n2,[t[12]||(t[12]=o("img",{class:"icon1",src:W,alt:""},null,-1)),s(o("select",{"onUpdate:modelValue":t[0]||(t[0]=l=>e.age=l),class:j(["custom-select",{"has-value":e.isSelected}])},t[11]||(t[11]=[Z('<option value="" disabled selected hidden>請選擇生理年齡</option><option value="1~5">1~5歲</option><option value="6~10">6~10歲</option><option value="11~15">11~15歲</option><option value="16~20">16~20歲</option><option value="21~25">21~25歲</option><option value="26~30">26~30歲</option><option value="31~35">31~35歲</option><option value="36~40">36~40歲</option><option value="41~45">41~45歲</option><option value="46~50">46~50歲</option><option value="51~55">51~55歲</option><option value="56~60">56~60歲</option><option value="61~65">61~65歲</option><option value="66~70">66~70歲</option><option value="71~75">71~75歲</option><option value="76~80">76~80歲</option><option value="81~85">81~85歲</option><option value="86~90">86~90歲</option><option value="91~95">91~95歲</option><option value="96~100">96~100歲</option>',21)]),2),[[E,e.age]]),t[13]||(t[13]=o("img",{class:"icon2",src:K},null,-1))]),o("div",s2,[t[14]||(t[14]=o("img",{class:"icon1",src:X,alt:""},null,-1)),s(o("input",{type:"text",placeholder:"請輸入平均心率","onUpdate:modelValue":t[1]||(t[1]=l=>e.heartBeat=l)},null,512),[[r,e.heartBeat]])]),o("div",r2,[t[15]||(t[15]=o("img",{class:"icon1",src:y,alt:""},null,-1)),s(o("input",{type:"text",placeholder:"請輸入您的SDNN","onUpdate:modelValue":t[2]||(t[2]=l=>e.SDNN=l)},null,512),[[r,e.SDNN]])]),o("div",i2,[t[16]||(t[16]=o("img",{class:"icon1",src:y,alt:""},null,-1)),s(o("input",{type:"text",placeholder:"請輸入您的RMSSD","onUpdate:modelValue":t[3]||(t[3]=l=>e.RMSSD=l)},null,512),[[r,e.RMSSD]])]),o("div",u2,[t[17]||(t[17]=o("img",{class:"icon1",src:$,alt:""},null,-1)),s(o("input",{type:"text",placeholder:"請輸入您交感神經數值","onUpdate:modelValue":t[4]||(t[4]=l=>e.SNS=l)},null,512),[[r,e.SNS]])]),o("div",p2,[t[18]||(t[18]=o("img",{class:"icon1",src:t2,alt:""},null,-1)),s(o("input",{type:"text",placeholder:"請輸入您副交感神經數值","onUpdate:modelValue":t[5]||(t[5]=l=>e.PNS=l)},null,512),[[r,e.PNS]])]),o("div",d2,[t[19]||(t[19]=o("img",{class:"icon1",src:h,alt:""},null,-1)),s(o("input",{type:"text",placeholder:"選擇您的血壓計測量手","onUpdate:modelValue":t[6]||(t[6]=l=>e.BPHand=l)},null,512),[[r,e.BPHand]])]),o("div",v2,[t[20]||(t[20]=o("img",{class:"icon1",src:h,alt:""},null,-1)),s(o("input",{type:"text",placeholder:"請輸入您的血壓計收縮壓","onUpdate:modelValue":t[7]||(t[7]=l=>e.MSBP=l)},null,512),[[r,e.MSBP]])]),o("div",m2,[t[21]||(t[21]=o("img",{class:"icon1",src:h,alt:""},null,-1)),s(o("input",{type:"text",placeholder:"請輸入您的血壓計舒張壓","onUpdate:modelValue":t[8]||(t[8]=l=>e.MDBP=l)},null,512),[[r,e.MDBP]])]),o("div",c2,[t[22]||(t[22]=o("img",{class:"icon1",src:h,alt:""},null,-1)),s(o("input",{type:"text",placeholder:"請輸入您的血壓計心率","onUpdate:modelValue":t[9]||(t[9]=l=>e.MHR=l)},null,512),[[r,e.MHR]])])])]),o("div",C2,[o("button",{onClick:t[10]||(t[10]=(...l)=>e.handleHealthData&&e.handleHealthData(...l))},"送出")])])],64)}const w2=Q(o2,[["render",g2]]);export{w2 as default};
