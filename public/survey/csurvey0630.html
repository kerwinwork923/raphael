<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>è‡ªå¾‹ç¥ç¶“ç¯€å¥å¹³è¡¡è¦ºå¯Ÿå•å·</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap');
    body {
      font-family: 'Noto Sans TC', sans-serif;
      background-color: #f8fbfa;
      color: #334155;
    }
    .question-section {
      transition: all 0.3s ease;
    }
    .radio-button {
      cursor: pointer;
      transition: all 0.2s ease;
    }
    .radio-button:hover {
      background-color: #e2e8f0;
    }
    .radio-button.selected {
      background-color: #dbeafe;
      border-color: #0bf12d;
    }
    .progress-bar {
      transition: width 0.5s ease;
    }
    .result-card {
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.5s ease;
    }
    .result-card.show {
      opacity: 1;
      transform: translateY(0);
    }
    .emoji {
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
    }
    .result-section {
      border-left: 4px solid #73eee0;
      padding-left: 1rem;
      margin-bottom: 1.5rem;
    }
    .recommendation-card {
      transition: all 0.3s ease;
      transform: translateY(0);
    }
    .recommendation-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1),
        0 4px 6px -2px rgba(0, 0, 0, 0.05);
    }
    .category-tab {
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .category-tab.active {
      background-color: #46e551;
      color: white;
    }
    .category-content {
      display: none;
      animation: fadeIn 0.5s ease;
    }
    .category-content.active {
      display: block;
    }
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    .recommendation-icon {
      font-size: 1.5rem;
      margin-bottom: 0.5rem;
    }
  </style>
</head>
<body>
  <div class="min-h-screen bg-gradient-to-b from-blue-50 to-green-100">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
      <header class="text-center mb-8">
        <h1 class="text-3xl font-bold text-green-800 mb-2">
          è‡ªå¾‹ç¥ç¶“ç¯€å¥å¹³è¡¡è¦ºå¯Ÿå•å·
        </h1>
        <p class="text-lg text-green-600">
          äº†è§£æ‚¨çš„èº«é«”ç¯€å¥å‹æ…‹ï¼Œç²å¾—å€‹äººåŒ–èª¿ç†å»ºè­°
        </p>
      </header>

      <div
        id="progress-container"
        class="mb-8 bg-white rounded-full h-4 shadow-md"
      >
        <div
          id="progress-bar"
          class="bg-green-600 h-4 rounded-full progress-bar"
          style="width: 0%"
        ></div>
      </div>

      <div
        id="questionnaire"
        class="bg-white rounded-xl shadow-lg p-6 mb-8"
      >
        <div id="question-container"></div>

        <div class="flex justify-between mt-8">
          <button
            id="prev-btn"
            class="px-6 py-2 bg-green-200 text-green-700 rounded-lg hover:bg-green-300 transition hidden"
          >
            ä¸Šä¸€é¡Œ
          </button>
          <button
            id="next-btn"
            class="px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition"
          >
            ä¸‹ä¸€é¡Œ
          </button>
        </div>
      </div>

      <div id="results" class="hidden">
        <div class="text-center mb-8">
          <h2 class="text-2xl font-bold text-green-800 mb-2">
            æ‚¨çš„è‡ªå¾‹ç¥ç¶“ç¯€å¥å‹æ…‹
          </h2>
          <p class="text-lg text-green-600">
            æ ¹æ“šæ‚¨çš„å›ç­”ï¼Œæˆ‘å€‘ç‚ºæ‚¨åˆ†æå‡ºä»¥ä¸‹çµæœ
          </p>
        </div>

        <div
          id="result-card"
          class="result-card bg-white rounded-xl shadow-lg p-6 mb-8"
        ></div>

        <div class="text-center">
          <button
            id="restart-btn"
            class="px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition"
          >
            é‡æ–°æ¸¬é©—
          </button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // å•å·æ•¸æ“š
    const questionnaire = [
      {
        section: "ç¡çœ ä½œæ¯èˆ‡å“è³ª",
        questions: [
          {
            id: "sleep_time",
            text: "éå»é€™ä¸€å€‹æœˆä¾†ï¼Œæ‚¨æ¯å¤©èººåœ¨åºŠä¸Šå¤šä¹…?",
            options: ["> 7å°æ™‚", "6~7å°æ™‚", "5~6å°æ™‚", "< 5å°æ™‚"],
            values: [0, 1, 2, 3],
          },
          {
            id: "fall_asleep_time",
            text: "éå»é€™ä¸€å€‹æœˆä¾†ï¼Œæ‚¨åœ¨ä¸ŠåºŠå¾Œï¼Œé€šå¸¸èººå¤šä¹…æ‰èƒ½å…¥ç¡ï¼Ÿ",
            options: ["< 15åˆ†é˜","15~30åˆ†é˜","30~60åˆ†é˜","è¶…é1å°æ™‚"],
            values: [0, 1, 2, 3],
          },
          {
            id: "sleep_duration",
            text: "éå»é€™ä¸€å€‹æœˆä¾†ï¼Œæ‚¨æ¯å¤©çœŸæ­£ç¡è‘—çš„æ™‚é–“ç´„å¤šå°‘ï¼Ÿï¼ˆé€™å¯èƒ½å’Œæ‚¨èººåœ¨åºŠä¸Šæ‰€èŠ±çš„æ™‚é–“ï¥§åŒï¼‰",
            options: ["> 7å°æ™‚", "6~7å°æ™‚", "5~6å°æ™‚", "< 5å°æ™‚"],
            values: [0, 1, 2, 3],
          },
          {
            id: "sleep_difficulty",
            text: "éå»é€™ä¸€å€‹æœˆä¾†ï¼Œèººä¸‹å¾Œè¶…é30åˆ†é˜ä»é›£å…¥ç¡çš„é »ç‡å¦‚ä½•ï¼Ÿ",
            options: ["å¾æœª", "â‰¦1æ¬¡/é€±", "2æ¬¡/é€±", "â‰§3æ¬¡/é€±"],
            values: [0, 1, 2, 3],
          },
          {
            id: "wake_up_night",
            text: "éå»é€™ä¸€å€‹æœˆä¾†ï¼ŒåŠå¤œæˆ–æ¸…æ™¨é†’ä¾†çš„é »ç‡å¦‚ä½•ï¼Ÿ",
            options: ["å¾æœª", "â‰¦1æ¬¡/é€±", "2æ¬¡/é€±", "â‰§3æ¬¡/é€±"],
            values: [0, 1, 2, 3],
            showNextBtn: true,
            subQuestion: {
                conditionIndex: [2, 3], // ç•¶é¸åˆ°å“ªå¹¾å€‹ index æ™‚é¡¯ç¤ºå­é¡Œ
                text: "æ‚¨é€šå¸¸åœ¨å¤œé–“é†’ä¾†çš„æ¬¡æ•¸ç‚ºï¼Ÿ",
                options: ["1~2æ¬¡/æ™š", "3~4æ¬¡/æ™š", "â‰§5æ¬¡/æ™š"],
                values: [1, 2, 3],
                id: "wake_up_night_detail"
              }
          },
          {
            id: "bathroom_wake",
            text: "éå»é€™ä¸€å€‹æœˆä¾†ï¼Œå› åŠå¤œå› æœ‰å°¿æ„è€Œé†’ä¾†çš„é »ç‡å¦‚ä½•ï¼Ÿ",
            options: ["å¾æœª", "â‰¦1æ¬¡/é€±", "2æ¬¡/é€±", "â‰§3æ¬¡/é€±"],
            values: [0, 1, 2, 3],
            showNextBtn: true,
            subQuestion: {
                conditionIndex: [2, 3], // ç•¶é¸åˆ°å“ªå¹¾å€‹ index æ™‚é¡¯ç¤ºå­é¡Œ
                text: "æ‚¨æ¯æ™šå¤§ç´„å› æœ‰å°¿æ„è€Œé†’ä¾†å¹¾æ¬¡ï¼Ÿ",
                options: ["1~2æ¬¡/æ™š", "3~4æ¬¡/æ™š", "â‰§5æ¬¡/æ™š"],
                values: [1, 2, 3],
                id: "bathroom_frequency_detail"
              }
          },
          {
            id: "snooze_wake",
            text: "éå»é€™ä¸€å€‹æœˆä¾†ï¼Œå› å’³å—½æˆ–å¤§è²æ‰“é¼¾é†’ä¾†çš„é »ç‡å¦‚ä½•ï¼Ÿ",
            options: ["å¾æœª", "â‰¦1æ¬¡/é€±", "2æ¬¡/é€±", "â‰§3æ¬¡/é€±"],
            values: [0, 1, 2, 3],
          },
          {
            id: "nightmare_wake",
            text: "éå»é€™ä¸€å€‹æœˆä¾†ï¼Œå› åšå™©å¤¢é†’ä¾†çš„é »ç‡å¦‚ä½•ï¼Ÿ",
            options: ["å¾æœª", "â‰¦1æ¬¡/é€±", "2æ¬¡/é€±", "â‰§3æ¬¡/é€±"],
            values: [0, 1, 2, 3],
          },
          {
            id: "pain_wake",
            text: "éå»é€™ä¸€å€‹æœˆä¾†ï¼Œå› ç–¼ç—›é†’ä¾†çš„é »ç‡å¦‚ä½•ï¼Ÿ",
            options: ["å¾æœª", "â‰¦1æ¬¡/é€±", "2æ¬¡/é€±", "â‰§3æ¬¡/é€±"],
            values: [0, 1, 2, 3],
          },
          {
            id: "sleep_medication",
            text: "éå»é€™ä¸€å€‹æœˆï¤­ï¼Œæ‚¨æœ‰å¤šå°‘æ¬¡éœ€è¦è—‰åŠ©è—¥ç‰©(é†«å¸«è™•æ–¹æˆ–æˆè—¥)ï¤­å¹«åŠ©ä½ çš„ç¡çœ ï¼Ÿ",
            options: ["å¾æœª", "â‰¦1æ¬¡/é€±", "2æ¬¡/é€±", "â‰§3æ¬¡/é€±"],
            values: [0, 1, 2, 3],
          },
          {
            id: "daytime_sleepiness",
            text: "éå»é€™ä¸€å€‹æœˆï¤­ï¼Œç•¶æ‚¨åœ¨é–‹ï¤‚ã€ç”¨é¤ã€å¾äº‹æ—¥å¸¸ç¤¾äº¤æ´»å‹•æ™‚ï¼Œæœ‰å¤šå°‘æ¬¡è¦ºå¾—é›£ä»¥ä¿æŒæ¸…é†’ï§ºæ…‹ï¼Ÿ",
            options: ["å¾æœª", "â‰¦1æ¬¡/é€±", "2æ¬¡/é€±", "â‰§3æ¬¡/é€±"],
            values: [0, 1, 2, 3],
          },
          {
            id: "daytime_nopower",
            text: "éå»é€™ä¸€å€‹æœˆï¤­ï¼Œè¦æ‰“èµ·ï¨ï¨™ï¤­å®Œæˆæ‚¨æ‡‰è©²åšçš„äº‹æƒ…å°æ‚¨æœ‰å¤šå°‘å›°æ“¾ï¼Ÿ",
            options: ["å¾æœªå›°æ“¾", "å¾ˆå°‘å›°æ“¾", "æœ‰äº›å›°æ“¾", "å¾ˆå¤§å›°æ“¾"],
            values: [0, 1, 2, 3],
          },
          {
            id: "sleep_quality_slider",
            text: "éå»é€™ä¸€å€‹æœˆä¾†ï¼Œæ‚¨å°æ‚¨è‡ªå·±çš„ç¡çœ å“è³ªçš„æ•´é«”è©•åƒ¹ç‚ºä½•ï¼Ÿï¼ˆ0 = éå¸¸å·®ï¼Œ10 = éå¸¸å¥½ï¼‰",
            slider: true, // æ–°å¢è­˜åˆ¥å±¬æ€§
            min: 0,
            max: 10,
            step: 1,
            default: 5,
            showNextBtn: true
          }
        ],
      },
      {
        section: "è…¸èƒƒèˆ‡æ’ä¾¿ç‹€æ³",
        questions: [
          {
            id: "constipation_effort",
            text: "éå»é€™ä¸€å€‹æœˆä¾†ï¼Œæ’ä¾¿æ™‚å¸¸æ„Ÿåˆ°è²»åŠ›ï¼Ÿ",
            options: ["å¾æœª", "å¶çˆ¾", "å¤§å¤šæ•¸æ™‚é–“", "å¹¾ä¹ç¸½æ˜¯"],
            values: [0, 1, 2, 3],
          },
          {
            id: "constipation_hard",
            text: "éå»é€™ä¸€å€‹æœˆä¾†ï¼Œç³ä¾¿åç¡¬æˆ–é¡†ç²’ç‹€ï¼Ÿ",
            options: ["å¾æœª", "å¶çˆ¾", "å¤§å¤šæ•¸æ™‚é–“", "å¹¾ä¹ç¸½æ˜¯"],
            values: [0, 1, 2, 3],
          },
          {
            id: "constipation_incomplete",
            text: "éå»é€™ä¸€å€‹æœˆä¾†ï¼Œæ’ä¾¿å¾Œä»æ„Ÿä¸å®Œå…¨ï¼Ÿ",
            options: ["å¾æœª", "å¶çˆ¾", "å¤§å¤šæ•¸æ™‚é–“", "å¹¾ä¹ç¸½æ˜¯"],
            values: [0, 1, 2, 3],
          },
          {
            id: "constipation_frequency",
            text: "éå»é€™ä¸€å€‹æœˆä¾†ï¼Œæ¯é€±æ’ä¾¿å°‘æ–¼3æ¬¡ï¼Ÿ",
            options: ["å¾æœª", "å¶çˆ¾", "å¤§å¤šæ•¸æ™‚é–“", "å¹¾ä¹ç¸½æ˜¯"],
            values: [0, 1, 2, 3],
          },
          {
            id: "constipation_distension",
            text: "éå»é€™ä¸€å€‹æœˆä¾†ï¼Œé£¯å¾Œå®¹æ˜“è…¹è„¹ã€æ’æ°£ï¼Ÿ",
            options: ["å¾æœª", "å¶çˆ¾", "å¤§å¤šæ•¸æ™‚é–“", "å¹¾ä¹ç¸½æ˜¯"],
            values: [0, 1, 2, 3],
          },
        ],
      },
      {
        section: "å£“åŠ›èˆ‡æŒæ§æ„Ÿ",
        questions: [
          {
            id: "stress_control",
            text: "éå»é€™ä¸€å€‹æœˆä¾†ï¼Œæ‚¨è¦ºå¾—ç„¡æ³•æ§åˆ¶é‡è¦äº‹æƒ…çš„æ„Ÿè¦ºæœ‰å¤šé »ç¹ï¼Ÿ",
            options: ["å¾æœª", "å¶çˆ¾", "å¤§å¤šæ•¸æ™‚é–“", "å¹¾ä¹ç¸½æ˜¯"],
            values: [0, 1, 2, 3],
          },
          {
            id: "stress_overwhelm",
            text: "éå»é€™ä¸€å€‹æœˆä¾†ï¼Œæ‚¨æ„Ÿè¦ºè‡ªå·±è™•æ–¼æ¥µå¤§å£“åŠ›ä¸­ï¼Œæœ‰å¤šå¸¸è¦ºå¾—ç„¡æ³•æ‡‰å°æ­£åœ¨ç™¼ç”Ÿçš„äº‹æƒ…ï¼Ÿ",
            options: ["å¾æœª", "å¶çˆ¾", "å¤§å¤šæ•¸æ™‚é–“", "å¹¾ä¹ç¸½æ˜¯"],
            values: [0, 1, 2, 3],
          },
          {
            id: "stress_plan",
            text: "éå»é€™ä¸€å€‹æœˆä¾†ï¼Œæ‚¨è¦ºå¾—äº‹æƒ…å¦‚æ‚¨æ‰€é¡˜åœ°ç™¼å±•çš„é »ç‡ï¼Ÿ",
            options: ["å¾æœª", "å¶çˆ¾", "å¤§å¤šæ•¸æ™‚é–“", "å¹¾ä¹ç¸½æ˜¯"],
            values: [3, 2, 1, 0],
          },
          {
            id: "stress_daily",
            text: "éå»é€™ä¸€å€‹æœˆä¾†ï¼Œæ‚¨è¦ºå¾—é›£ä»¥æ‡‰ä»˜ç”Ÿæ´»ä¸­æ‰€æœ‰ç´¯ç©çš„å•é¡Œæˆ–éº»ç…©ï¼Œæœ‰å¤šé »ç¹ï¼Ÿ",
            options: ["å¾æœª", "å¶çˆ¾", "å¤§å¤šæ•¸æ™‚é–“", "å¹¾ä¹ç¸½æ˜¯"],
            values: [0, 1, 2, 3],
          },
        ],
      },
      {
        section: "è‡ªå¾‹ç¥ç¶“åæ‡‰ç‹€æ³",
        questions: [
          {
            id: "ans_dry_mouth",
            text: "éå»é€™ä¸€å€‹æœˆä¾†ï¼Œæˆ‘æ„Ÿåˆ°å£ä¹¾èˆŒç‡¥ã€‚",
            options: ["å¹¾ä¹æ²’æœ‰", "å¶çˆ¾", "ç¶“å¸¸", "å¹¾ä¹æ¯å¤©"],
            values: [0, 1, 2, 3],
          },
          {
            id: "ans_breathing",
            text: "éå»é€™ä¸€å€‹æœˆä¾†ï¼Œæˆ‘æœƒæ„Ÿåˆ°å‘¼å¸å›°é›£(ä¾‹å¦‚ï¼šå‘¼å¸ä¸é †æˆ–å–˜æ°£å›°é›£ï¼Œå³ä½¿æ²’æœ‰é‹å‹•ï¼‰ã€‚",
            options: ["å¹¾ä¹æ²’æœ‰", "å¶çˆ¾", "ç¶“å¸¸", "å¹¾ä¹æ¯å¤©"],
            values: [0, 1, 2, 3],
          },
          {
            id: "ans_fear",
            text: "éå»é€™ä¸€å€‹æœˆä¾†ï¼Œæˆ‘çªç„¶æ„Ÿåˆ°å¼·çƒˆçš„ææ‡¼ï¼Œç”šè‡³åƒæ˜¯è¦é©šæç™¼ä½œã€‚",
            options: ["å¹¾ä¹æ²’æœ‰", "å¶çˆ¾", "ç¶“å¸¸", "å¹¾ä¹æ¯å¤©"],
            values: [0, 1, 2, 3],
          },
          {
            id: "ans_trembling",
            text: "éå»é€™ä¸€å€‹æœˆä¾†ï¼Œæˆ‘æ‰‹è…³æœƒé¡«æŠ–(å¦‚æ‰‹æŠ–æˆ–è…³æŠ–ï¼‰ã€‚",
            options: ["å¹¾ä¹æ²’æœ‰", "å¶çˆ¾", "ç¶“å¸¸", "å¹¾ä¹æ¯å¤©"],
            values: [0, 1, 2, 3],
          },
          {
            id: "ans_worry",
            text: "éå»é€™ä¸€å€‹æœˆä¾†ï¼Œæˆ‘æœƒæ“”å¿ƒä¸€äº›å°æˆ‘ä¾†èªªå¯èƒ½æ¯«ç„¡é“ç†çš„äº‹ã€‚",
            options: ["å¹¾ä¹æ²’æœ‰", "å¶çˆ¾", "ç¶“å¸¸", "å¹¾ä¹æ¯å¤©"],
            values: [0, 1, 2, 3],
          },
          {
            id: "ans_restless",
            text: "éå»é€™ä¸€å€‹æœˆä¾†ï¼Œæˆ‘æœƒæ„Ÿåˆ°åç«‹é›£å®‰ï¼Œç„¡æ³•æ”¾é¬†ä¸‹ä¾†ã€‚",
            options: ["å¹¾ä¹æ²’æœ‰", "å¶çˆ¾", "ç¶“å¸¸", "å¹¾ä¹æ¯å¤©"],
            values: [0, 1, 2, 3],
          },
          {
            id: "ans_heart",
            text: "éå»é€™ä¸€å€‹æœˆä¾†ï¼Œæˆ‘æœƒæ„Ÿè¦ºå¿ƒè·³åŠ å¿«(ä¾‹å¦‚ï¼šå¿ƒæ‚¸ï¼‰ï¼Œå³ä½¿æ²’æœ‰æ¿€çƒˆæ´»å‹•ã€‚",
            options: ["å¹¾ä¹æ²’æœ‰", "å¶çˆ¾", "ç¶“å¸¸", "å¹¾ä¹æ¯å¤©"],
            values: [0, 1, 2, 3],
          },
        ],
      },
      {
        section: "ç”¨è—¥èˆ‡ç–¾ç—…ç´€éŒ„",
        questions: [
          {
            id: "medication",
            text: "æ‚¨æ˜¯å¦æœ‰å…¶ä»–éœ€é•·æœŸæœç”¨è—¥ç‰©çš„ç–¾ç—…?ï¼ˆå¯è¤‡é¸ï¼‰",
            options: [
              "ç„¦æ…®ç—‡ï¼æ†‚é¬±ç—‡",
              "å¿ƒè¡€ç®¡èˆ‡ä»£è¬ç–¾ç—…(å¦‚é«˜è¡€å£“ã€ç³–å°¿ç—…ã€å¿ƒå¾‹ä¸æ•´ç­‰)",
              "è…¸èƒƒå•é¡Œ(å¦‚åŠŸèƒ½æ€§è…¸èºç—‡ã€èƒƒé£Ÿé“é€†æµç­‰)",
              "è‡ªé«”å…ç–«ç–¾ç—…(å¦‚é¡é¢¨æ¿•æ€§é—œç¯€ç‚ã€ç´…æ–‘æ€§ç‹¼ç˜¡ç­‰)",
              "å…§åˆ†æ³Œèˆ‡å©¦ç§‘ç›¸é—œ(å¦‚ç”²ç‹€è…ºç–¾ç—…ã€æ›´å¹´æœŸè·çˆ¾è’™æ²»ç™‚ç­‰)",
              "ç™Œç—‡æ²»ç™‚å¾ŒçºŒè¿½è¹¤ç”¨è—¥",
              "å…¶ä»–è—¥ç‰©",
              "æ²’æœ‰é•·æœŸæœç”¨è—¥ç‰©",
            ],
            multiple: true,
            showNextBtn: true,
            values: [1, 1, 1, 1, 1, 1, 1, 0],
          },
        ],
      },
    ];

    // ç¯€å¥å‹æ…‹æ•¸æ“š
    const rhythmTypes = {
      "1": {
        name: "æ·±å¤œè²“é ­é·¹å‹ï¼ˆå…¥ç¡å›°é›£ï¼‰",
        emoji: "ğŸ¦‰",
        description:
          "äº¤æ„Ÿç¥ç¶“æŒçºŒäº¢å¥®ï¼Œå‰¯äº¤æ„Ÿç¥ç¶“æ´»æ€§æŠ‘åˆ¶ï¼Œå°è‡´ç¡å‰å¤§è…¦èˆˆå¥®ã€æ€ç·’æ´»èºï¼Œå½±éŸ¿è‡ªç„¶å…¥ç¡ç¯€å¥åˆ‡æ›ã€‚",
        awareness:
          "æ„Ÿå—å…¥ç¡å‰æ€ç·’ç´›é£›é›£ä»¥å¹³éœï¼Œç¡å‰æ”¾é¬†ç©ºé–“ä¸è¶³ã€‚",
        recommendations: [
          {
            category: "ç”¢å“å»ºè­°",
            icon: "ğŸ›Œ",
            color: "bg-purple-100",
            iconColor: "text-purple-600",
            items: [
              "ç©¿æˆ´ã€Œè­·æ‚¨ç©©ãƒ»å¥½å¥½çç¡çœ èª¿ç¯€è¡£ã€ï¼Œæ¡ç”¨å°ˆåˆ©çŸ³å¢¨çƒ¯èˆ‡é ç´…å¤–ç·šè¤‡åˆå¢¨æ–™ï¼Œåˆ©ç”¨é«”æº«è‡ªç„¶å•Ÿå‹•æº«å’Œç†±æ•ˆæ‡‰ï¼Œç²¾æº–åˆºæ¿€èƒ¸è…”åŠé ­éƒ¨å‰¯äº¤æ„Ÿç¥ç¶“ç¯€é»ï¼Œå¹«åŠ©é™ä½äº¤æ„Ÿç¥ç¶“äº¢å¥®ï¼Œä¿ƒé€²èº«å¿ƒå¹³ç·©éæ¸¡åˆ°æ”¾é¬†ç‹€æ…‹ï¼Œæ”¹å–„å…¥ç¡å›°é›£èˆ‡ç¡å‰æ€ç·’ç´›é£›å•é¡Œã€‚æœ¬ç”¢å“ç„¡éœ€æ’é›»ï¼Œç©¿æˆ´å³ç”¨ï¼Œä¸¦èƒ½é•·æ•ˆç¶­æŒåŠŸèƒ½ï¼Œé©åˆæ•æ„Ÿè‚Œè†šç¡çœ ä½¿ç”¨ã€‚",
            ],
          },
          {
            category: "ç”Ÿæ´»ç¿’æ…£èª¿æ•´",
            icon: "ğŸŒ™",
            color: "bg-blue-100",
            iconColor: "text-blue-600",
            items: [
              "å»ºç«‹å›ºå®šç¡å‰å„€å¼ï¼Œå¦‚æ³¡æº«æ°´æ¾¡ã€é–±è®€ç´™æœ¬æ›¸ç±æˆ–å†¥æƒ³15-20åˆ†é˜",
              "ç¡å‰2å°æ™‚é¿å…ä½¿ç”¨æ‰‹æ©Ÿã€é›»è…¦ç­‰è—å…‰è¨­å‚™",
              "ç¡å‰é¿å…æ”å–å’–å•¡å› ã€é…’ç²¾åŠé‡å£å‘³é£Ÿç‰©",
              "èª¿æ•´è‡¥å®¤ç’°å¢ƒï¼Œä¿æŒæº«åº¦18-22Â°Cï¼Œæ¿•åº¦50-60%",
            ],
          },
          {
            category: "æ”¾é¬†æŠ€å·§",
            icon: "ğŸ§˜",
            color: "bg-green-100",
            iconColor: "text-green-600",
            items: [
              "ç·´ç¿’4-7-8å‘¼å¸æ³•ï¼šå¸æ°£4ç§’ï¼Œå±æ¯7ç§’ï¼Œå‘¼æ°£8ç§’ï¼Œé‡è¤‡4-5æ¬¡",
              "æ¼¸é€²å¼è‚Œè‚‰æ”¾é¬†ï¼šå¾è…³è¶¾é–‹å§‹ï¼Œé€æ­¥å‘ä¸Šæ”¾é¬†å…¨èº«è‚Œè‚‰",
              "ç¡å‰å¯«ä¸‹æ˜å¤©å¾…è¾¦äº‹é …ï¼Œå¹«åŠ©å¤§è…¦ã€Œæ”¾ä¸‹ã€æ€ç·’",
            ],
          },
        ],
        reminder: "çµ¦è‡ªå·±æ›´å¤šå…¥ç¡å‰æ”¾é¬†æ™‚é–“ï¼Œå¾ªåºæ¼¸é€²æ‰¾åˆ°å°ˆå±¬å®‰ç©©å¤œæ™šã€‚",
      },
      "1+": {
        name: "ç·Šç¹ƒæ²æ²è›‡å‹ï¼ˆå…¥ç¡å›°é›£ï¼‹ä¾¿ç§˜ï¼‰",
        emoji: "ğŸ",
        description:
          "æ‚¨åŒæ™‚é¢è‡¨å…¥ç¡å›°é›£èˆ‡è…¸èƒƒè •å‹•é²ç·©ï¼Œé¡¯ç¤ºäº¤æ„Ÿç¥ç¶“éåº¦æ´»èºï¼ŒæŠ‘åˆ¶å‰¯äº¤æ„Ÿç¥ç¶“åŠŸèƒ½ï¼Œä¸­æ¨ç¥ç¶“èˆ‡è…¸èƒƒè‡ªå¾‹ç¥ç¶“ç³»çµ±é›™é‡å¤±è¡¡ã€‚",
        awareness:
          "äº¤æ„Ÿç¥ç¶“æŒçºŒç·Šç¹ƒï¼ŒæŠ‘åˆ¶è…¸èƒƒæ­£å¸¸è •å‹•ï¼Œé€ æˆæ’ä¾¿ä¸é †ä¸”ä¼´æœ‰è…¹éƒ¨ä¸é©ï¼Œå¿ƒç†å£“åŠ›é€éè…¸è…¦è»¸å½±éŸ¿è…¸èƒƒåŠŸèƒ½ã€‚",
        recommendations: [
          {
            category: "ç”¢å“å»ºè­°",
            icon: "ğŸ›Œ",
            color: "bg-purple-100",
            iconColor: "text-purple-600",
            items: [
              "ä½¿ç”¨ã€Œè­·æ‚¨ç©©ãƒ»å¥½å¥½çç¡çœ èª¿ç¯€è¡£ã€ï¼Œè¨­è¨ˆç‰¹åˆ¥åŠ å…¥è…¹éƒ¨è…¸èƒƒç¯€å¾‹é»çš„çŸ³å¢¨çƒ¯é ç´…å¤–ç·šç†±è½‰å°å¢¨æ–™ï¼Œæº«å’Œåˆºæ¿€è…¹éƒ¨åŠèƒ¸è…”å‰¯äº¤æ„Ÿç¥ç¶“ï¼Œä¿ƒé€²è…¸èƒƒè •å‹•èˆ‡ç¥ç¶“èª¿ç¯€åŒæ­¥é€²è¡Œã€‚æ­¤ç©¿æˆ´å¼ä¿å¥è¡£ç‰©å”åŠ©ç·©è§£å…¥ç¡å›°é›£åŠä¾¿ç§˜é›™é‡å›°æ“¾ï¼Œæ­é…è¦å¾‹ä½œæ¯èƒ½é”æœ€ä½³æ•ˆæœã€‚",
            ],
          },
          {
            category: "é£²é£Ÿèª¿æ•´",
            icon: "ğŸ¥—",
            color: "bg-green-100",
            iconColor: "text-green-600",
            items: [
              "å¢åŠ è†³é£Ÿçº–ç¶­æ”å–ï¼šæ¯æ—¥25-30å…‹ï¼ŒåŒ…æ‹¬å…¨ç©€é¡ã€è”¬èœã€æ°´æœã€å …æœ",
              "ä¿æŒå……è¶³æ°´åˆ†ï¼šæ¯æ—¥è‡³å°‘2000-2500mlï¼Œæ—©æ™¨èµ·åºŠå…ˆå–ä¸€æ¯æº«æ°´",
              "æ·»åŠ ç›Šç”ŸèŒé£Ÿå“ï¼šå„ªæ ¼ã€å„ªé…ªä¹³ã€ç™¼é…µé£Ÿå“ï¼Œå¹«åŠ©è…¸é“èŒç¾¤å¹³è¡¡",
              "é¿å…åˆºæ¿€æ€§é£Ÿç‰©ï¼šæ¸›å°‘è¾›è¾£ã€æ²¹ç‚¸ã€é«˜ç³–ã€é«˜è„‚é£Ÿç‰©æ”å–",
            ],
          },
          {
            category: "é‹å‹•èˆ‡æŒ‰æ‘©",
            icon: "ğŸ§ ",
            color: "bg-blue-100",
            iconColor: "text-blue-600",
            items: [
              "æ¯æ—¥30åˆ†é˜æœ‰æ°§é‹å‹•ï¼Œå¦‚æ•£æ­¥ã€æ¸¸æ³³ã€ç‘œä¼½",
              "è…¹éƒ¨é †æ™‚é‡æŒ‰æ‘©ï¼šæ¯å¤©æ—©æ™šå„5-10åˆ†é˜ï¼Œå¹«åŠ©è…¸èƒƒè •å‹•",
              "ç·´ç¿’è…¹å¼å‘¼å¸ï¼šæ¯å¤©3-5åˆ†é˜ï¼Œä¿ƒé€²è…¹éƒ¨è¡€æ¶²å¾ªç’°",
            ],
          },
          {
            category: "ä½œæ¯èª¿æ•´",
            icon: "â°",
            color: "bg-amber-100",
            iconColor: "text-amber-600",
            items: [
              "å»ºç«‹å›ºå®šæ’ä¾¿æ™‚é–“ï¼šæ—©é¤å¾Œç•™å‡º15-20åˆ†é˜çš„å¦‚å»æ™‚é–“",
              "ç¡å‰æ”¾é¬†ç·´ç¿’ï¼šå†¥æƒ³ã€æ·±å‘¼å¸æˆ–æº«å’Œä¼¸å±•",
              "é¿å…é•·æ™‚é–“ä¹…åï¼Œæ¯å°æ™‚èµ·èº«æ´»å‹•5åˆ†é˜",
            ],
          },
        ],
        reminder: "èº«å¿ƒäº’å‹•å¯†åˆ‡ï¼Œæ”¹å–„ä¸€æ–¹å¸¸å¸¶å‹•å¦ä¸€æ–¹é€²æ­¥ã€‚æ¯å¤©èŠ±5-10åˆ†é˜è¼•æŸ”æŒ‰æ‘©è…¹éƒ¨ï¼Œä¿ƒé€²è…¸é“èˆ‡ç¥ç¶“æ”¾é¬†ã€‚",
      },
      "2": {
        name: "æ•æ„Ÿæ¾é¼ å‹ï¼ˆæ·ºçœ æ˜“é†’ï¼‰",
        emoji: "ğŸ¿",
        description:
          "æ‚¨çš„ç¡çœ æ·ºä¸”æ˜“é†’ï¼Œäº¤æ„Ÿç¥ç¶“äº¢å¥®å°è‡´å°å¤–ç•Œè²å…‰åˆºæ¿€æ•æ„Ÿï¼Œé›£ä»¥ç¶­æŒæ·±åº¦ç¡çœ ã€‚é•·æœŸæ·ºçœ å½±éŸ¿è¨˜æ†¶éå›ºèˆ‡å…ç–«åŠŸèƒ½ï¼Œé™ä½èº«é«”ä¿®å¾©åŠ›ã€‚",
        awareness:
          "ç¥ç¶“ç³»çµ±é«˜åº¦è­¦è¦ºï¼Œç’°å¢ƒåˆºæ¿€æ˜“å¼•ç™¼è¦ºé†’åæ‡‰ï¼Œé€ æˆç¡çœ æ–·è£‚èˆ‡ç–²æ†Šæ„Ÿã€‚",
        recommendations: [
          {
            category: "ç”¢å“å»ºè­°",
            icon: "ğŸ›Œ",
            color: "bg-purple-100",
            iconColor: "text-purple-600",
            items: [
              "ç©¿æˆ´ã€Œè­·æ‚¨ç©©ãƒ»å¥½å¥½çç¡çœ èª¿ç¯€è¡£ã€ï¼Œçµåˆé ç´…å¤–ç·šèˆ‡çŸ³å¢¨çƒ¯ç†±æ•ˆæ‡‰ï¼Œç²¾æº–åˆºæ¿€èƒ¸è…”åŠè…¹éƒ¨å‰¯äº¤æ„Ÿç¥ç¶“ç¯€é»ï¼Œé™ä½å°å¤–ç•Œè²å…‰åˆºæ¿€çš„æ•æ„Ÿåº¦ï¼Œå»¶é•·æ·±å±¤ç¡çœ æ™‚æ®µã€‚æ­¤ç”¢å“é€éè‡ªç„¶é«”æº«å•Ÿå‹•ï¼Œç„¡é ˆå¤–åŠ è¨­å‚™ï¼Œé©åˆå°ç¡çœ ç’°å¢ƒæ•æ„Ÿè€…é•·æ™‚é–“ç©¿æˆ´ä½¿ç”¨ã€‚",
            ],
          },
          {
            category: "ç¡çœ ç’°å¢ƒå„ªåŒ–",
            icon: "ğŸŒ™",
            color: "bg-green-100",
            iconColor: "text-green-600",
            items: [
              "ä½¿ç”¨é®å…‰çª—ç°¾æˆ–ç¡çœ çœ¼ç½©ï¼Œå‰µé€ å®Œå…¨é»‘æš—çš„ç¡çœ ç’°å¢ƒ",
              "é…æˆ´èˆ’é©è€³å¡æˆ–ä½¿ç”¨ç™½å™ªéŸ³æ©Ÿï¼Œé®è”½å¹²æ“¾è²éŸ³",
              "é¸æ“‡é©åˆçš„åºŠå¢Šèˆ‡æ•é ­ï¼Œæä¾›è‰¯å¥½æ”¯æ’",
              "ä¿æŒè‡¥å®¤æº«åº¦18-22Â°Cï¼Œæ¿•åº¦50-60%",
            ],
          },
          {
            category: "ç¡å‰æ”¾é¬†å„€å¼",
            icon: "ğŸ§˜",
            color: "bg-teal-100",
            iconColor: "text-teal-600",
            items: [
              "ç¡å‰1-2å°æ™‚é€²è¡Œæº«å’Œä¼¸å±•æˆ–ç‘œä¼½",
              "æ³¡æº«æ°´æ¾¡æˆ–ç†±è¶³æµ´ï¼Œå¹«åŠ©èº«é«”æº«åº¦èª¿ç¯€",
              "ç·´ç¿’æ­£å¿µå†¥æƒ³æˆ–å¼•å°å¼æ”¾é¬†ï¼Œæ¯æ™š10-15åˆ†é˜",
              "ç¡å‰å¯«æ—¥è¨˜ï¼Œè¨˜éŒ„æ„Ÿå—èˆ‡æƒ³æ³•ï¼Œå¹«åŠ©å¤§è…¦ã€Œå¸ä¸‹ã€è² æ“”",
            ],
          },
          {
            category: "ç”Ÿæ´»ç¿’æ…£èª¿æ•´",
            icon: "â˜€ï¸",
            color: "bg-amber-100",
            iconColor: "text-amber-600",
            items: [
              "å›ºå®šä½œæ¯æ™‚é–“ï¼Œå³ä½¿é€±æœ«ä¹Ÿä¿æŒç›¸ä¼¼çš„ç¡é†’æ™‚é–“",
              "ç¡å‰é¿å…åˆºæ¿€æ€§é£²é£Ÿï¼Œå¦‚å’–å•¡å› ã€é…’ç²¾ã€è¾›è¾£é£Ÿç‰©",
              "ç™½å¤©é©åº¦æ›¬å¤ªé™½ï¼Œå¹«åŠ©èª¿ç¯€ç”Ÿç†æ™‚é˜",
              "ç¡å‰é¿å…åŠ‡çƒˆé‹å‹•æˆ–æƒ…ç·’æ¿€å‹•çš„æ´»å‹•",
            ],
          },
        ],
        reminder:
          "æ•æ„Ÿç¥ç¶“ç³»çµ±äº¦ç‚ºå„ªå‹¢ï¼Œå˜—è©¦å°‡æ•æ„Ÿè½‰åŒ–ç‚ºå‰µé€ åŠ›ã€‚ç¡å‰æ›¸å¯«æ„Ÿå—ï¼Œæœ‰åŠ©å¤§è…¦æ”¾ä¸‹é›œå¿µï¼Œæº–å‚™å…¥ç¡ã€‚",
      },
      "2+": {
        name: "å°å¿ƒåˆºèŸå‹ï¼ˆæ·ºçœ æ˜“é†’ï¼‹ä¾¿ç§˜ï¼‰",
        emoji: "ğŸ¦”",
        description:
          "æ‚¨çš„ç¡çœ è³ªé‡ä¸ä½³åŒæ™‚ä¼´æœ‰è…¸èƒƒè •å‹•ä¸è¶³ï¼Œå±¬äº¤æ„Ÿç¥ç¶“éåº¦äº¢å¥®èˆ‡å‰¯äº¤æ„Ÿç¥ç¶“åŠŸèƒ½ä½ä¸‹ï¼Œé€ æˆé›™é‡èº«å¿ƒç¯€å¥å¤±è¡¡ã€‚æ­¤ç¨®ç‹€æ…‹å®¹æ˜“å¼•ç™¼æ…¢æ€§ç–²å‹èˆ‡è…¸èºç—‡ç­‰æ…¢æ€§å¥åº·å•é¡Œï¼Œå½±éŸ¿æ—¥å¸¸ç”Ÿæ´»å“è³ªã€‚",
        awareness:
          "æ‚¨å¯èƒ½æœƒç™¼ç¾è‡ªå·±ä¸åƒ…ç¡çœ æ·ºä¸”æ˜“é†’ï¼ŒåŒæ™‚è…¸èƒƒåŠŸèƒ½ä¹Ÿä¸ä½³ï¼Œæ’ä¾¿ä¸é †ä¸”ä¸è¦å¾‹ã€‚å£“åŠ›å¢åŠ æ™‚ï¼Œé€™å…©ç¨®ç—‡ç‹€å¾€å¾€æœƒåŒæ™‚åŠ é‡ã€‚æ‚¨çš„èº«é«”ä¼¼ä¹ç¸½æ˜¯è™•æ–¼ã€Œé˜²ç¦¦ã€ç‹€æ…‹ï¼Œé›£ä»¥çœŸæ­£æ”¾é¬†ï¼Œåæ˜ äº†è‡ªå¾‹ç¥ç¶“ç³»çµ±æ•´é«”å¤±è¡¡ã€‚",
        recommendations: [
          {
            category: "ç”¢å“å»ºè­°",
            icon: "ğŸ›Œ",
            color: "bg-purple-100",
            iconColor: "text-purple-600",
            items: [
              "çµåˆã€Œè­·æ‚¨ç©©ãƒ»å¥½å¥½çç¡çœ èª¿ç¯€è¡£ã€èˆ‡ç›Šç”ŸèŒé›™é‡èª¿ç†ï¼Œé€éç¥ç¶“ç¯€é»æ¿€æ´»èˆ‡è…¸é“èŒç¾¤å¹³è¡¡ï¼Œä¿ƒé€²è‡ªå¾‹ç¥ç¶“åŠè…¸èƒƒåŠŸèƒ½æ¢å¾©ã€‚å»ºè­°è¦å¾‹é£²é£Ÿèˆ‡æ’ä¾¿ï¼Œé¿å…æ†‹ä¾¿ï¼ŒåŠ å¼·å£“åŠ›ç®¡ç†ï¼Œé…åˆç‘œä¼½å’Œé©åº¦é‹å‹•ã€‚",
            ],
          },
          {
            category: "é£²é£Ÿèª¿æ•´",
            icon: "ğŸ¥—",
            color: "bg-green-100",
            iconColor: "text-green-600",
            items: [
              "å¢åŠ è†³é£Ÿçº–ç¶­æ”å–ï¼šæ¯æ—¥25-30å…‹ï¼ŒåŒ…æ‹¬å…¨ç©€é¡ã€è”¬èœã€æ°´æœã€å …æœ",
              "ä¿æŒå……è¶³æ°´åˆ†ï¼šæ¯æ—¥è‡³å°‘2000-2500mlï¼Œæ—©æ™¨èµ·åºŠå…ˆå–ä¸€æ¯æº«æ°´",
              "æ·»åŠ ç›Šç”ŸèŒé£Ÿå“ï¼šå„ªæ ¼ã€å„ªé…ªä¹³ã€ç™¼é…µé£Ÿå“ï¼Œå¹«åŠ©è…¸é“èŒç¾¤å¹³è¡¡",
              "é¿å…åˆºæ¿€æ€§é£Ÿç‰©ï¼šæ¸›å°‘è¾›è¾£ã€æ²¹ç‚¸ã€é«˜ç³–ã€é«˜è„‚é£Ÿç‰©æ”å–",
            ],
          },
          {
            category: "é‹å‹•èˆ‡æŒ‰æ‘©",
            icon: "ğŸ§ ",
            color: "bg-blue-100",
            iconColor: "text-blue-600",
            items: [
              "æ¯æ—¥30åˆ†é˜æœ‰æ°§é‹å‹•ï¼Œå¦‚æ•£æ­¥ã€æ¸¸æ³³ã€ç‘œä¼½",
              "è…¹éƒ¨é †æ™‚é‡æŒ‰æ‘©ï¼šæ¯å¤©æ—©æ™šå„5-10åˆ†é˜ï¼Œå¹«åŠ©è…¸èƒƒè •å‹•",
              "ç·´ç¿’è…¹å¼å‘¼å¸ï¼šæ¯å¤©3-5åˆ†é˜ï¼Œä¿ƒé€²è…¹éƒ¨è¡€æ¶²å¾ªç’°",
            ],
          },
          {
            category: "ä½œæ¯èª¿æ•´",
            icon: "â°",
            color: "bg-amber-100",
            iconColor: "text-amber-600",
            items: [
              "å»ºç«‹å›ºå®šæ’ä¾¿æ™‚é–“ï¼šæ—©é¤å¾Œç•™å‡º15-20åˆ†é˜çš„å¦‚å»æ™‚é–“",
              "ç¡å‰æ”¾é¬†ç·´ç¿’ï¼šå†¥æƒ³ã€æ·±å‘¼å¸æˆ–æº«å’Œä¼¸å±•",
              "é¿å…é•·æ™‚é–“ä¹…åï¼Œæ¯å°æ™‚èµ·èº«æ´»å‹•5åˆ†é˜",
            ],
          },
        ],
        reminder: "æ‚¨çš„èº«é«”æ­£åœ¨å‘æ‚¨ç™¼å‡ºé—œæ„›è¨Šè™Ÿã€‚å»ºè­°å»ºç«‹è‡ªæˆ‘é—œæ‡·å„€å¼ï¼Œä¾‹å¦‚å®šæ™‚æ³¡æº«æ°´æ¾¡æˆ–15åˆ†é˜æº«å’Œä¼¸å±•ã€‚ç·Šå¼µæ™‚æé†’è‡ªå·±ï¼šã€Œæˆ‘å¾ˆå®‰å…¨ï¼Œå¯ä»¥æ”¾é¬†ã€‚ã€",
      },
      "3": {
        name: "å¤œè¡Œè¢‹é¼ å‹ï¼ˆå¤œå°¿é »ç¹ï¼‰",
        emoji: "ğŸ¦˜",
        description:
          "æ‚¨å¤œé–“é »å°¿å¯èƒ½èˆ‡è†€èƒ±éå‹•æˆ–æ³Œå°¿ç¥ç¶“å¤±èª¿æœ‰é—œï¼Œäº¤æ„Ÿç¥ç¶“æ´»æ€§éé«˜å°è‡´è†€èƒ±æ‹¬ç´„è‚ŒåŠŸèƒ½ç•°å¸¸èˆ‡å°¿æ„é »ç¹ã€‚æ­¤ç¾è±¡åš´é‡å½±éŸ¿ç¡çœ é€£çºŒæ€§ï¼Œé™ä½ç”Ÿæ´»å“è³ªåŠæ—¥é–“ç²¾ç¥ï¼Œé•·æœŸå¯èƒ½å¼•ç™¼æ…¢æ€§ç–²å‹ã€‚",
        awareness:
          "æ‚¨å¯èƒ½ç™¼ç¾å¤œé–“å¤šæ¬¡èµ·åºŠå¦‚å»ï¼Œå³ä½¿ç¡å‰æœªå¤§é‡é£²æ°´ã€‚é »ç¹ç¡çœ ä¸­æ–·ä½¿æ‚¨é›£ä»¥é€²å…¥æ·±åº¦ç¡çœ ï¼Œæ—©æ™¨é†’ä¾†æ„Ÿç–²æ†Šã€‚è†€èƒ±å°è¼•å¾®è„¹æ„Ÿç‰¹åˆ¥æ•æ„Ÿï¼Œç¥ç¶“ç³»çµ±å°è†€èƒ±ä¿¡è™Ÿé–¾å€¼è¼ƒä½ã€‚",
        recommendations: [
          {
            category: "ç”¢å“å»ºè­°",
            icon: "ğŸ›Œ",
            color: "bg-purple-100",
            iconColor: "text-purple-600",
            items: [
              "ã€Œè­·æ‚¨ç©©ãƒ»å¥½å¥½çç¡çœ èª¿ç¯€è¡£ã€é‹ç”¨é ç´…å¤–ç·šæº«å’Œåˆºæ¿€è…°è–¦åŠè…¹éƒ¨å‰¯äº¤æ„Ÿç¥ç¶“ç¯€é»ï¼Œä¿ƒé€²è†€èƒ±ç¥ç¶“ç¯€å¥ç©©å®šï¼Œé™ä½å¤œå°¿é »ç‡ã€‚å»ºè­°æ™šé–“æ§åˆ¶é£²æ°´ï¼Œæ¸›å°‘è†€èƒ±è² æ“”ï¼Œç¡å‰ç·´ç¿’æ”¾é¬†æŠ€å·§ï¼Œé…åˆé†«å¸«å»ºè­°æ²»ç™‚æ…¢æ€§æ³Œå°¿ç–¾ç—…ã€‚",
            ],
          },
          {
            category: "é£²é£Ÿèª¿æ•´",
            icon: "ğŸ¥—",
            color: "bg-green-100",
            iconColor: "text-green-600",
            items: [
              "å¢åŠ è†³é£Ÿçº–ç¶­æ”å–ï¼šæ¯æ—¥25-30å…‹ï¼ŒåŒ…æ‹¬å…¨ç©€é¡ã€è”¬èœã€æ°´æœã€å …æœ",
              "ä¿æŒå……è¶³æ°´åˆ†ï¼šæ¯æ—¥è‡³å°‘2000-2500mlï¼Œæ—©æ™¨èµ·åºŠå…ˆå–ä¸€æ¯æº«æ°´",
              "æ·»åŠ ç›Šç”ŸèŒé£Ÿå“ï¼šå„ªæ ¼ã€å„ªé…ªä¹³ã€ç™¼é…µé£Ÿå“ï¼Œå¹«åŠ©è…¸é“èŒç¾¤å¹³è¡¡",
              "é¿å…åˆºæ¿€æ€§é£Ÿç‰©ï¼šæ¸›å°‘è¾›è¾£ã€æ²¹ç‚¸ã€é«˜ç³–ã€é«˜è„‚é£Ÿç‰©æ”å–",
            ],
          },
          {
            category: "é‹å‹•èˆ‡æŒ‰æ‘©",
            icon: "ğŸ§ ",
            color: "bg-blue-100",
            iconColor: "text-blue-600",
            items: [
              "æ¯æ—¥30åˆ†é˜æœ‰æ°§é‹å‹•ï¼Œå¦‚æ•£æ­¥ã€æ¸¸æ³³ã€ç‘œä¼½",
              "è…¹éƒ¨é †æ™‚é‡æŒ‰æ‘©ï¼šæ¯å¤©æ—©æ™šå„5-10åˆ†é˜ï¼Œå¹«åŠ©è…¸èƒƒè •å‹•",
              "ç·´ç¿’è…¹å¼å‘¼å¸ï¼šæ¯å¤©3-5åˆ†é˜ï¼Œä¿ƒé€²è…¹éƒ¨è¡€æ¶²å¾ªç’°",
            ],
          },
          {
            category: "ä½œæ¯èª¿æ•´",
            icon: "â°",
            color: "bg-amber-100",
            iconColor: "text-amber-600",
            items: [
              "å»ºç«‹å›ºå®šæ’ä¾¿æ™‚é–“ï¼šæ—©é¤å¾Œç•™å‡º15-20åˆ†é˜çš„å¦‚å»æ™‚é–“",
              "ç¡å‰æ”¾é¬†ç·´ç¿’ï¼šå†¥æƒ³ã€æ·±å‘¼å¸æˆ–æº«å’Œä¼¸å±•",
              "é¿å…é•·æ™‚é–“ä¹…åï¼Œæ¯å°æ™‚èµ·èº«æ´»å‹•5åˆ†é˜",
            ],
          },
        ],
        reminder: "æ”¹å–„å¤œå°¿éœ€æ™‚é–“èˆ‡è€å¿ƒã€‚æ¯æ¸›å°‘ä¸€æ¬¡å¤œé–“èµ·åºŠéƒ½æ˜¯é€²æ­¥ã€‚å¯å˜—è©¦å‡±æ ¼çˆ¾é‹å‹•å¢å¼·è†€èƒ±æ§åˆ¶åŠ›ï¼Œä¿æŒç©æ¥µå¿ƒæ…‹ï¼Œèº«é«”èƒ½é‡å»ºå¥åº·æ’å°¿ç¯€å¥ã€‚",
      },
      "3+": {
        name: "é›™æ“¾å°è±¡å‹ï¼ˆå¤œå°¿ï¼‹ä¾¿ç§˜ï¼‰",
        emoji: "ğŸ˜",
        description:
          "æ‚¨åŒæ™‚å­˜åœ¨å¤œå°¿é »ç¹èˆ‡æ’ä¾¿å›°é›£ï¼Œä»£è¡¨æ³Œå°¿èˆ‡è…¸èƒƒç¥ç¶“ç¯€å¥é›™é‡å¤±è¡¡ã€‚æŒçºŒäº¤æ„Ÿç¥ç¶“äº¢å¥®æŠ‘åˆ¶å‰¯äº¤æ„Ÿç³»çµ±ï¼Œé€ æˆæ—¥å¤œç¯€å¥åš´é‡ä¸å”èª¿ï¼Œé•·æœŸå½±éŸ¿èº«é«”åŠŸèƒ½èˆ‡å…ç–«èª¿ç¯€ï¼Œå¯èƒ½å°è‡´å¤šç³»çµ±åŠŸèƒ½ç´Šäº‚ã€‚",
        awareness:
          "æ‚¨å¯èƒ½æœƒç™¼ç¾è‡ªå·±ä¸åƒ…å¤œé–“é »ç¹èµ·åºŠæ’å°¿ï¼Œç™½å¤©é‚„é¢è‡¨æ’ä¾¿å›°é›£çš„å•é¡Œã€‚é€™ç¨®é›™é‡å›°æ“¾åæ˜ äº†è‡ªå¾‹ç¥ç¶“ç³»çµ±çš„å…¨é¢å¤±è¡¡ï¼Œç‰¹åˆ¥æ˜¯æ§åˆ¶è†€èƒ±å’Œè…¸é“åŠŸèƒ½çš„ç¥ç¶“ç¯€é»ã€‚æ‚¨çš„èº«é«”ä¼¼ä¹ç„¡æ³•æ­£ç¢ºèª¿ç¯€é€™äº›åŸºæœ¬åŠŸèƒ½çš„ç¯€å¥ã€‚",
        recommendations: [
          {
            category: "ç”¢å“å»ºè­°",
            icon: "ğŸ›Œ",
            color: "bg-purple-100",
            iconColor: "text-purple-600",
            items: [
              "ã€Œè­·æ‚¨ç©©ãƒ»å¥½å¥½çç¡çœ èª¿ç¯€è¡£ã€é›™ç¯€é»è¨­è¨ˆï¼Œé‡å°è…°è–¦åŠè…¹éƒ¨ç¥ç¶“ç¯€é»åŒæ­¥èª¿ç†ï¼Œè¼”ä»¥å¤©ç„¶è† å›Šèˆ‡ç›Šç”ŸèŒï¼Œèƒ½å”åŠ©æ¢å¾©æ³Œå°¿èˆ‡è…¸èƒƒç¥ç¶“ç¯€å¥å¹³è¡¡ã€‚å»ºè­°åŸ¹é¤Šè¦å¾‹æ’ä¾¿èˆ‡æ’å°¿æ™‚é–“ï¼Œæ¸›å°‘æ™šé–“åˆºæ¿€æ€§é£²é£Ÿï¼Œé…åˆæœ‰æ°§é‹å‹•ï¼Œä¿ƒé€²è…¸èƒƒè •å‹•èˆ‡ä»£è¬ã€‚",
            ],
          },
          {
            category: "é£²é£Ÿèª¿æ•´",
            icon: "ğŸ¥—",
            color: "bg-green-100",
            iconColor: "text-green-600",
            items: [
              "å¢åŠ è†³é£Ÿçº–ç¶­æ”å–ï¼šæ¯æ—¥25-30å…‹ï¼ŒåŒ…æ‹¬å…¨ç©€é¡ã€è”¬èœã€æ°´æœã€å …æœ",
              "ä¿æŒå……è¶³æ°´åˆ†ï¼šæ¯æ—¥è‡³å°‘2000-2500mlï¼Œæ—©æ™¨èµ·åºŠå…ˆå–ä¸€æ¯æº«æ°´",
              "æ·»åŠ ç›Šç”ŸèŒé£Ÿå“ï¼šå„ªæ ¼ã€å„ªé…ªä¹³ã€ç™¼é…µé£Ÿå“ï¼Œå¹«åŠ©è…¸é“èŒç¾¤å¹³è¡¡",
              "é¿å…åˆºæ¿€æ€§é£Ÿç‰©ï¼šæ¸›å°‘è¾›è¾£ã€æ²¹ç‚¸ã€é«˜ç³–ã€é«˜è„‚é£Ÿç‰©æ”å–",
            ],
          },
          {
            category: "é‹å‹•èˆ‡æŒ‰æ‘©",
            icon: "ğŸ§ ",
            color: "bg-blue-100",
            iconColor: "text-blue-600",
            items: [
              "æ¯æ—¥30åˆ†é˜æœ‰æ°§é‹å‹•ï¼Œå¦‚æ•£æ­¥ã€æ¸¸æ³³ã€ç‘œä¼½",
              "è…¹éƒ¨é †æ™‚é‡æŒ‰æ‘©ï¼šæ¯å¤©æ—©æ™šå„5-10åˆ†é˜ï¼Œå¹«åŠ©è…¸èƒƒè •å‹•",
              "ç·´ç¿’è…¹å¼å‘¼å¸ï¼šæ¯å¤©3-5åˆ†é˜ï¼Œä¿ƒé€²è…¹éƒ¨è¡€æ¶²å¾ªç’°",
            ],
          },
          {
            category: "ä½œæ¯èª¿æ•´",
            icon: "â°",
            color: "bg-amber-100",
            iconColor: "text-amber-600",
            items: [
              "å»ºç«‹å›ºå®šæ’ä¾¿æ™‚é–“ï¼šæ—©é¤å¾Œç•™å‡º15-20åˆ†é˜çš„å¦‚å»æ™‚é–“",
              "ç¡å‰æ”¾é¬†ç·´ç¿’ï¼šå†¥æƒ³ã€æ·±å‘¼å¸æˆ–æº«å’Œä¼¸å±•",
              "é¿å…é•·æ™‚é–“ä¹…åï¼Œæ¯å°æ™‚èµ·èº«æ´»å‹•5åˆ†é˜",
            ],
          },
        ],
        reminder: "é¢å°é›™é‡å›°æ“¾æ™‚ï¼Œè«‹è¨˜ä½èº«é«”å„ç³»çµ±æ˜¯ç›¸äº’é€£çµçš„ã€‚æ”¹å–„ä¸€æ–¹é¢å¸¸èƒ½å¸¶å‹•å¦ä¸€æ–¹é¢çš„é€²æ­¥ã€‚è«‹çµ¦è‡ªå·±è¨­å®šåˆç†çš„æœŸæœ›ï¼Œæ…¶ç¥æ¯ä¸€å€‹å°é€²æ­¥ã€‚å˜—è©¦æ¯å¤©è¨˜éŒ„æ‚¨çš„ç—‡ç‹€è®ŠåŒ–ï¼Œé€™ä¸åƒ…æœ‰åŠ©æ–¼è¿½è¹¤æ”¹å–„æƒ…æ³ï¼Œä¹Ÿèƒ½å¹«åŠ©æ‚¨ç™¼ç¾å¯èƒ½çš„èª˜ç™¼å› ç´ ã€‚",
      },
      "4": {
        name: "æ…¢é†’æ¨¹æ‡¶ç†Šå‹ï¼ˆç¡çœ å“è³ªå·®ï¼‰",
        emoji: "ğŸ»",
        description:
          "æ‚¨é›–æœ‰è¶³å¤ ç¡çœ æ™‚é–“ï¼Œä½†æ·±åº¦ç¡çœ åŠæ¢å¾©åŠŸèƒ½ä¸è¶³ï¼Œåæ˜ ç¥ç¶“ç³»çµ±èª¿ç¯€èƒ½åŠ›ä¸‹é™ã€‚æ­¤ç‹€æ…‹ä½¿èº«é«”ç„¡æ³•å®Œæˆå……åˆ†ä¿®å¾©ï¼Œé€ æˆé†’å¾Œç–²æ†ŠåŠç²¾ç¥ä¸æ¿Ÿï¼Œé•·æœŸå¯èƒ½å½±éŸ¿ä»£è¬åŠŸèƒ½å’Œå…ç–«ç³»çµ±ï¼Œå¢åŠ æ…¢æ€§ç–¾ç—…é¢¨éšªã€‚",
        awareness:
          "æ‚¨å¯èƒ½æœƒç™¼ç¾è‡ªå·±å³ä½¿ç¡äº†å¾ˆé•·æ™‚é–“ï¼Œé†’ä¾†ä»æ„Ÿè¦ºç–²å€¦ï¼Œéœ€è¦è¼ƒé•·æ™‚é–“æ‰èƒ½å®Œå…¨æ¸…é†’ã€‚ç™½å¤©å¯èƒ½æ„Ÿåˆ°ç²¾ç¥ä¸æ¿Ÿã€æ³¨æ„åŠ›é›£ä»¥é›†ä¸­ã€‚é€™è¡¨æ˜æ‚¨çš„ç¡çœ é›–ç„¶æ™‚é–“å……è¶³ï¼Œä½†è³ªé‡ä¸ä½³ï¼Œç¼ºä¹è¶³å¤ çš„æ·±åº¦ç¡çœ éšæ®µã€‚",
        recommendations: [
          {
            category: "ç”¢å“å»ºè­°",
            icon: "ğŸ›Œ",
            color: "bg-purple-100",
            iconColor: "text-purple-600",
            items: [
              "æ·±å±¤ç¡çœ èª¿ç¯€è¡£åˆ©ç”¨é ç´…å¤–ç·šä½œç”¨ï¼ŒåŠ å¼·ç¥ç¶“ç³»çµ±çš„ä¿®å¾©èˆ‡å¹³è¡¡ï¼Œæå‡ç¡çœ å“è³ªèˆ‡ç´°èƒæ´»åŠ›ã€‚å»ºè­°é¿å…ç¡å‰æ”å…¥å’–å•¡å› èˆ‡åˆºæ¿€æ€§ç‰©è³ªï¼Œç¶­æŒè¦å¾‹ä½œæ¯èˆ‡ç¡çœ ç’°å¢ƒï¼Œæ¡ç”¨ç¡å‰æ”¾é¬†è¨“ç·´å¦‚å‘¼å¸æ³•ã€å†¥æƒ³ï¼Œå¹«åŠ©èº«é«”é€²å…¥æ›´æ·±å±¤çš„ç¡çœ ç‹€æ…‹ã€‚",
            ],
          },
          {
            category: "é£²é£Ÿèª¿æ•´",
            icon: "ğŸ¥—",
            color: "bg-green-100",
            iconColor: "text-green-600",
            items: [
              "å¢åŠ è†³é£Ÿçº–ç¶­æ”å–ï¼šæ¯æ—¥25-30å…‹ï¼ŒåŒ…æ‹¬å…¨ç©€é¡ã€è”¬èœã€æ°´æœã€å …æœ",
              "ä¿æŒå……è¶³æ°´åˆ†ï¼šæ¯æ—¥è‡³å°‘2000-2500mlï¼Œæ—©æ™¨èµ·åºŠå…ˆå–ä¸€æ¯æº«æ°´",
              "æ·»åŠ ç›Šç”ŸèŒé£Ÿå“ï¼šå„ªæ ¼ã€å„ªé…ªä¹³ã€ç™¼é…µé£Ÿå“ï¼Œå¹«åŠ©è…¸é“èŒç¾¤å¹³è¡¡",
              "é¿å…åˆºæ¿€æ€§é£Ÿç‰©ï¼šæ¸›å°‘è¾›è¾£ã€æ²¹ç‚¸ã€é«˜ç³–ã€é«˜è„‚é£Ÿç‰©æ”å–",
            ],
          },
          {
            category: "é‹å‹•èˆ‡æŒ‰æ‘©",
            icon: "ğŸ§ ",
            color: "bg-blue-100",
            iconColor: "text-blue-600",
            items: [
              "æ¯æ—¥30åˆ†é˜æœ‰æ°§é‹å‹•ï¼Œå¦‚æ•£æ­¥ã€æ¸¸æ³³ã€ç‘œä¼½",
              "è…¹éƒ¨é †æ™‚é‡æŒ‰æ‘©ï¼šæ¯å¤©æ—©æ™šå„5-10åˆ†é˜ï¼Œå¹«åŠ©è…¸èƒƒè •å‹•",
              "ç·´ç¿’è…¹å¼å‘¼å¸ï¼šæ¯å¤©3-5åˆ†é˜ï¼Œä¿ƒé€²è…¹éƒ¨è¡€æ¶²å¾ªç’°",
            ],
          },
          {
            category: "ä½œæ¯èª¿æ•´",
            icon: "â°",
            color: "bg-amber-100",
            iconColor: "text-amber-600",
            items: [
              "å»ºç«‹å›ºå®šæ’ä¾¿æ™‚é–“ï¼šæ—©é¤å¾Œç•™å‡º15-20åˆ†é˜çš„å¦‚å»æ™‚é–“",
              "ç¡å‰æ”¾é¬†ç·´ç¿’ï¼šå†¥æƒ³ã€æ·±å‘¼å¸æˆ–æº«å’Œä¼¸å±•",
              "é¿å…é•·æ™‚é–“ä¹…åï¼Œæ¯å°æ™‚èµ·èº«æ´»å‹•5åˆ†é˜",
            ],
          },
        ],
        reminder: "ç¡çœ è³ªé‡æ¯”ç¡çœ æ™‚é–“æ›´é‡è¦ã€‚è«‹é—œæ³¨è‡ªå·±çš„ç¡çœ ç’°å¢ƒå’Œç¡å‰ç¿’æ…£ï¼Œå‰µé€ æœ‰åˆ©æ–¼æ·±åº¦ç¡çœ çš„æ¢ä»¶ã€‚å˜—è©¦åœ¨å›ºå®šæ™‚é–“å…¥ç¡å’Œèµ·åºŠï¼Œå³ä½¿é€±æœ«ä¹Ÿä¿æŒä¸€è‡´ï¼Œé€™æœ‰åŠ©æ–¼ç©©å®šæ‚¨çš„ç”Ÿç†æ™‚é˜ã€‚ç›¸ä¿¡é€šéæŒçºŒçš„èª¿æ•´ï¼Œæ‚¨çš„èº«é«”èƒ½å¤ é‡æ–°å­¸ç¿’å¦‚ä½•é€²å…¥æ·±åº¦ä¿®å¾©æ€§ç¡çœ ã€‚",
      },
      "4+": {
        name: "è™›æ…¢ç¯€å¥é¾œå‹ï¼ˆç¡å·®ï¼‹ä¾¿ç§˜ï¼‰",
        emoji: "ğŸ¢",
        description:
          "æ‚¨è™•æ–¼æ·±åº¦ç¯€å¥åœæ»¯éšæ®µï¼Œç¡çœ ä¿®å¾©åŠè…¸èƒƒæ’ç©ºåŠŸèƒ½é¡¯è‘—æ¸›å¼±ã€‚å‰¯äº¤æ„Ÿç¥ç¶“ç³»çµ±åŠŸèƒ½ä½ä¸‹ï¼Œå°è‡´èº«é«”ä»£è¬èˆ‡å…ç–«åŠ›ä¸‹é™ï¼Œå®¹æ˜“å¼•ç™¼æ…¢æ€§ç–²å‹èˆ‡ä»£è¬æ€§ç–¾ç—…ï¼Œæ˜¯è‡ªå¾‹ç¥ç¶“å¤±è¡¡çš„è¼ƒåš´é‡éšæ®µã€‚",
        awareness:
          "æ‚¨å¯èƒ½æœƒç™¼ç¾è‡ªå·±æ•´é«”ç”Ÿç†ç¯€å¥ç·©æ…¢ï¼Œä¸åƒ…ç¡çœ ç„¡æ³•æä¾›è¶³å¤ çš„æ¢å¾©èƒ½é‡ï¼Œè…¸èƒƒåŠŸèƒ½ä¹Ÿé¡¯å¾—é²ç·©ã€‚é€™ç¨®ç‹€æ…‹ä¸‹ï¼Œæ‚¨å¯èƒ½æ„Ÿåˆ°æŒçºŒçš„ç–²å€¦ã€ç²¾ç¥ä¸æŒ¯ï¼ŒåŒæ™‚é¢è‡¨æ’ä¾¿å›°é›£ã€‚èº«é«”çš„è‡ªç„¶ç¯€å¥ä¼¼ä¹è¢«æ‰“äº‚ï¼Œå„ç³»çµ±é‹ä½œæ•ˆç‡é™ä½ã€‚",
        recommendations: [
          {
            category: "ç”¢å“å»ºè­°",
            icon: "ğŸ›Œ",
            color: "bg-purple-100",
            iconColor: "text-purple-600",
            items: [
              "ç³»çµ±æ€§éšæ®µç©¿æˆ´ç¡çœ èª¿ç¯€è¡£ï¼Œåˆ†æ—©ã€ä¸­ã€æ™šå¤šæ™‚æ®µåˆºæ¿€ç¥ç¶“ç¯€é»ï¼Œçµåˆç‡Ÿé¤Šèª¿ç†åŠè…¸é“ä¿å¥ï¼Œå”åŠ©å…¨é¢æ¢å¾©ç¥ç¶“èˆ‡è…¸èƒƒåŠŸèƒ½ã€‚å»ºè­°ç¶­æŒå‡è¡¡é£²é£Ÿèˆ‡å……è¶³æ°´åˆ†ï¼Œé©åº¦é‹å‹•ä¿ƒé€²å¾ªç’°èˆ‡æ–°é™³ä»£è¬ï¼Œç®¡ç†å¿ƒç†å£“åŠ›ï¼Œç¢ºä¿å……è¶³ä¼‘æ¯ï¼Œå…¨é¢æå‡èº«é«”æ´»åŠ›ã€‚",
            ],
          },
          {
            category: "é£²é£Ÿèª¿æ•´",
            icon: "ğŸ¥—",
            color: "bg-green-100",
            iconColor: "text-green-600",
            items: [
              "å¢åŠ è†³é£Ÿçº–ç¶­æ”å–ï¼šæ¯æ—¥25-30å…‹ï¼ŒåŒ…æ‹¬å…¨ç©€é¡ã€è”¬èœã€æ°´æœã€å …æœ",
              "ä¿æŒå……è¶³æ°´åˆ†ï¼šæ¯æ—¥è‡³å°‘2000-2500mlï¼Œæ—©æ™¨èµ·åºŠå…ˆå–ä¸€æ¯æº«æ°´",
              "æ·»åŠ ç›Šç”ŸèŒé£Ÿå“ï¼šå„ªæ ¼ã€å„ªé…ªä¹³ã€ç™¼é…µé£Ÿå“ï¼Œå¹«åŠ©è…¸é“èŒç¾¤å¹³è¡¡",
              "é¿å…åˆºæ¿€æ€§é£Ÿç‰©ï¼šæ¸›å°‘è¾›è¾£ã€æ²¹ç‚¸ã€é«˜ç³–ã€é«˜è„‚é£Ÿç‰©æ”å–",
            ],
          },
          {
            category: "é‹å‹•èˆ‡æŒ‰æ‘©",
            icon: "ğŸ§ ",
            color: "bg-blue-100",
            iconColor: "text-blue-600",
            items: [
              "æ¯æ—¥30åˆ†é˜æœ‰æ°§é‹å‹•ï¼Œå¦‚æ•£æ­¥ã€æ¸¸æ³³ã€ç‘œä¼½",
              "è…¹éƒ¨é †æ™‚é‡æŒ‰æ‘©ï¼šæ¯å¤©æ—©æ™šå„5-10åˆ†é˜ï¼Œå¹«åŠ©è…¸èƒƒè •å‹•",
              "ç·´ç¿’è…¹å¼å‘¼å¸ï¼šæ¯å¤©3-5åˆ†é˜ï¼Œä¿ƒé€²è…¹éƒ¨è¡€æ¶²å¾ªç’°",
            ],
          },
          {
            category: "ä½œæ¯èª¿æ•´",
            icon: "â°",
            color: "bg-amber-100",
            iconColor: "text-amber-600",
            items: [
              "å»ºç«‹å›ºå®šæ’ä¾¿æ™‚é–“ï¼šæ—©é¤å¾Œç•™å‡º15-20åˆ†é˜çš„å¦‚å»æ™‚é–“",
              "ç¡å‰æ”¾é¬†ç·´ç¿’ï¼šå†¥æƒ³ã€æ·±å‘¼å¸æˆ–æº«å’Œä¼¸å±•",
              "é¿å…é•·æ™‚é–“ä¹…åï¼Œæ¯å°æ™‚èµ·èº«æ´»å‹•5åˆ†é˜",
            ],
          },
        ],
        reminder: "æ¢å¾©èº«é«”çš„è‡ªç„¶ç¯€å¥éœ€è¦æ™‚é–“å’Œè€å¿ƒã€‚è«‹å°‡èª¿æ•´è¦–ç‚ºä¸€æ®µè‡ªæˆ‘ç™‚ç™’çš„æ—…ç¨‹ï¼Œè€Œéç«‹å³è¦‹æ•ˆçš„æ²»ç™‚ã€‚å˜—è©¦æ¯å¤©é€²è¡Œæº«å’Œçš„æ´»å‹•ï¼Œå¦‚æ•£æ­¥æˆ–ä¼¸å±•ï¼Œå³ä½¿åªæœ‰çŸ­çŸ­10åˆ†é˜ä¹Ÿèƒ½å¹«åŠ©æ¿€æ´»èº«é«”ç³»çµ±ã€‚ç›¸ä¿¡æ‚¨çš„èº«é«”æœ‰è‡ªæˆ‘ä¿®å¾©çš„èƒ½åŠ›ï¼Œåªéœ€è¦é©ç•¶çš„æ”¯æŒå’Œæ™‚é–“ã€‚",
      },
    };

    // å•å·ç‹€æ…‹èˆ‡æ§åˆ¶ç›¸é—œåŠŸèƒ½
    let currentQuestionIndex = 0;
    let answers = {};
    let totalQuestions = 0;

    questionnaire.forEach((section) => {
      totalQuestions += section.questions.length;
    });

    const questionContainer = document.getElementById("question-container");
    const prevBtn = document.getElementById("prev-btn");
    const nextBtn = document.getElementById("next-btn");
    const progressBar = document.getElementById("progress-bar");
    const questionnaireDiv = document.getElementById("questionnaire");
    const resultsDiv = document.getElementById("results");
    const resultCard = document.getElementById("result-card");
    const restartBtn = document.getElementById("restart-btn");

    const errorMsgId = "error-msg";
    function showErrorMessage(message) {
      let errorMsg = document.getElementById(errorMsgId);
      if (!errorMsg) {
        errorMsg = document.createElement("div");
        errorMsg.id = errorMsgId;
        errorMsg.className =
          "text-red-600 mt-2 text-sm font-medium";
        nextBtn.parentNode.insertBefore(errorMsg, nextBtn.nextSibling);
      }
      errorMsg.textContent = message;
    }
    function clearErrorMessage() {
      const errorMsg = document.getElementById(errorMsgId);
      if (errorMsg) {
        errorMsg.remove();
      }
    }

    function initQuestionnaire() {
      currentQuestionIndex = 0;
      answers = {};
      renderQuestion();
      updateProgressBar();
    }

    function renderQuestion() {
        // æ‰¾å‡ºç›®å‰æ‰€åœ¨çš„é¡Œçµ„èˆ‡é¡Œç›®
        let currentSectionIndex = 0;
        let questionCount = 0;

        for (let i = 0; i < questionnaire.length; i++) {
            if (questionCount + questionnaire[i].questions.length > currentQuestionIndex) {
            currentSectionIndex = i;
            break;
         }
         questionCount += questionnaire[i].questions.length;
       }

      const currentSection = questionnaire[currentSectionIndex];
      const currentQuestion = currentSection.questions[currentQuestionIndex - questionCount];

  // é¡Œé ­è³‡è¨Š
       let html = `
        <div class="mb-6">
          <h2 class="text-xl font-semibold text-indigo-800 mb-1">${currentSection.section}</h2>
          <p class="text-gray-500 text-sm">ç¬¬ ${currentQuestionIndex + 1} é¡Œï¼Œå…± ${totalQuestions} é¡Œ</p>
        </div>
        <div class="mb-6">
          <h3 class="text-lg font-medium mb-4">${currentQuestion.text}</h3>
      `;

  // --- è™•ç† slider é¡Œå‹ ---
  if (currentQuestion.slider) {
    html += `
      <div class="mb-6">
        <label for="slider_${currentQuestion.id}" class="block text-green-700 mb-2">
          ${currentQuestion.text}
        </label>
        <input type="range" min="${currentQuestion.min}" max="${currentQuestion.max}" step="${currentQuestion.step}"
          id="slider_${currentQuestion.id}" class="w-full"
          value="${answers[currentQuestion.id] ?? currentQuestion.default}"
          oninput="document.getElementById('output_${currentQuestion.id}').value = this.value">
        <div class="flex justify-between text-sm text-green-500">
          <span>${currentQuestion.min}</span><span>${currentQuestion.max}</span>
        </div>
        <output id="output_${currentQuestion.id}" class="block text-center mt-2 font-bold text-green-800">
          ${answers[currentQuestion.id] ?? currentQuestion.default}
        </output>
      </div>
    `;

    questionContainer.innerHTML = html;
    nextBtn.disabled = false;
    clearErrorMessage();
    prevBtn.classList.toggle("hidden", currentQuestionIndex === 0);
    nextBtn.textContent = currentQuestionIndex === totalQuestions - 1 ? "æŸ¥çœ‹çµæœ" : "ä¸‹ä¸€é¡Œ";

   
    // å¯«å…¥ slider å›ç­”å€¼ï¼ˆé€™è¦åœ¨ questionContainer.innerHTML æ›´æ–°å¾Œè§¸ç™¼ï¼‰
   if (currentQuestion.slider) {
       const slider = document.getElementById(`slider_${currentQuestion.id}`);
       slider.addEventListener("input", (e) => {
       answers[currentQuestion.id] = parseInt(e.target.value);
       clearErrorMessage();

        // âœ… è‹¥é€™é¡Œéœ€è¦æ‰‹å‹•è·³é¡Œï¼ˆå¦‚ç¬¬13é¡Œï¼‰ï¼Œå°±è®“æŒ‰éˆ•è§£é–
      if (currentQuestion.showNextBtn) {
          nextBtn.classList.remove("hidden");
          nextBtn.disabled = false;
        }
      });
    }
    //return;
  }

  // --- è™•ç† checkbox é¡Œå‹ (multiple) ---
  if (currentQuestion.multiple) {
    html += `<div class="space-y-3">`;
    currentQuestion.options.forEach((option, index) => {
      const isChecked = answers[currentQuestion.id]?.includes(index);
      const isOther = currentQuestion.id === "medication" && option.includes("å…¶ä»–");

      html += `
        <div class="flex items-start">
          <input type="checkbox" id="${currentQuestion.id}_${index}" 
            class="w-5 h-5 text-green-600 border-green-300 rounded focus:ring-green-500 mt-1"
            ${isChecked ? "checked" : ""}
            data-question="${currentQuestion.id}" 
            data-index="${index}" 
            data-value="${currentQuestion.values[index]}">
          <label for="${currentQuestion.id}_${index}" class="ml-3 text-green-700">${option}</label>
          ${isOther ? `
            <input type="text" id="otherInput" class="ml-3 px-2 py-1 border rounded text-sm hidden"
              placeholder="è«‹èªªæ˜å…¶ä»–è—¥ç‰©..." />
          ` : ""}
        </div>
      `;
    });
    html += `</div>`;
  }

  // --- è™•ç†å–®é¸é¡Œå‹ ---
  else {
    html += `<div class="grid grid-cols-1 gap-3 md:grid-cols-2">`;
      currentQuestion.options.forEach((option, index) => {
  const isSelected = answers[currentQuestion.id] === index;
  html += `
    <div class="radio-button border rounded-lg p-4 ${isSelected ? "selected" : ""}"
      data-question="${currentQuestion.id}"
      data-index="${index}"
      data-value="${currentQuestion.values[index]}">
      <div class="flex items-center">
        <div class="w-5 h-5 rounded-full border-2 ${isSelected ? "border-green-600 bg-green-600" : "border-green-300"} flex items-center justify-center">
          ${isSelected ? '<div class="w-2 h-2 rounded-full bg-white"></div>' : ""}
        </div>
        <span class="ml-3">${option}</span>
      </div>
    </div>
  `;
});

html += `</div>`; // çµæŸä¸»é¸é …å€å¡Š

// âœ… æ¸²æŸ“å­é¡Œï¼ˆå–®æ¬¡é›†ä¸­ï¼‰
if (
  currentQuestion.subQuestion &&
  currentQuestion.subQuestion.conditionIndex.includes(answers[currentQuestion.id])
) {
  const subQ = currentQuestion.subQuestion;
  html += `
    <div id="sub-question" class="mt-6 ml-4 space-y-2 text-sm text-green-700">
      <label class="block mb-2 font-medium">${subQ.text}</label>
      <div class="flex flex-col space-y-2">
        ${subQ.options.map((opt, idx) => `
          <label>
            <input type="radio" name="${subQ.id}" value="${subQ.values[idx]}" class="mr-2"
              ${answers[subQ.id] == subQ.values[idx] ? "checked" : ""}>
            ${opt}
          </label>
        `).join("")}
      </div>
    </div>
  `;
}
   
    html += `</div>`;
  }

  html += `</div>`; // æ”¶å°¾

  // --- æ¸²æŸ“ç•«é¢ ---
  questionContainer.innerHTML = html;

  // åŠ å…¥äº‹ä»¶
  if (currentQuestion.multiple) {
    questionContainer.querySelectorAll('input[type="checkbox"]').forEach((box) =>
      box.addEventListener("change", handleCheckboxChange)
    );
    nextBtn.disabled = false;
  } else {
    questionContainer.querySelectorAll(".radio-button").forEach((btn) =>
      btn.addEventListener("click", handleRadioButtonClick)
    );
    nextBtn.disabled = answers[currentQuestion.id] === undefined;
  }
  console.log("ç›®å‰é¡Œè™Ÿ", currentQuestionIndex, currentQuestion.id);

  clearErrorMessage();
  prevBtn.classList.toggle("hidden", currentQuestionIndex === 0);
   //nextBtn.textContent = currentQuestionIndex === totalQuestions - 1 ? "æŸ¥çœ‹çµæœ" : "ä¸‹ä¸€é¡Œ";
    // âœ… åƒ…ç¬¬ 5ã€6ã€13 é¡Œé¡¯ç¤ºä¸‹ä¸€é¡ŒæŒ‰éˆ•ï¼ˆindex ç‚º 4, 5, 12ï¼‰
    if (currentQuestion.showNextBtn) {
           nextBtn.classList.remove("hidden");
           nextBtn.textContent = currentQuestionIndex === totalQuestions - 1 ? "æŸ¥çœ‹çµæœ" : "ä¸‹ä¸€é¡Œ";
           let hasAnswer = false;

           if (currentQuestion.multiple) {
              hasAnswer = Array.isArray(answers[currentQuestion.id]) && answers[currentQuestion.id].length > 0;
            } else {
               hasAnswer = currentQuestion.id in answers;
            }

          // const hasAnswer = answers[currentQuestion.id] !== undefined;
           console.log("hasAnswer="+hasAnswer);
         
           if (currentQuestion.type === "range") {
                nextBtn.disabled =!hasAnswer;
          } else if (
               currentQuestion.subQuestion &&
               currentQuestion.subQuestion.conditionIndex.includes(answers[currentQuestion.id])
          ) {
               const hasSubAnswer = answers[currentQuestion.subQuestion.id] !== undefined;
               nextBtn.disabled = !(hasAnswer && hasSubAnswer);
          } else {
               nextBtn.disabled = !hasAnswer;
          }
          } 
          else {
              nextBtn.classList.add("hidden");
          }

 
}


function handleRadioButtonClick(event) {
    const button = event.currentTarget;
    const questionId = button.dataset.question;
    const optionIndex = parseInt(button.dataset.index);

   // å„²å­˜ä¸»é¡Œç­”æ¡ˆ
    answers[questionId] = optionIndex;

   // åˆ‡æ›é¸é …æ¨£å¼
    const allButtons = questionContainer.querySelectorAll(
       `.radio-button[data-question="${questionId}"]`
      );
    allButtons.forEach((btn) => btn.classList.remove("selected"));
    button.classList.add("selected");

    nextBtn.disabled = false;
    clearErrorMessage();

   // å–å¾—ç•¶å‰é¡Œç›®
    const currentSectionIndex = getCurrentSectionIndex();
    const currentQuestion = questionnaire[currentSectionIndex].questions[getQuestionInSectionIndex()];
  // è‹¥è©²é¡Œæœ‰å­é¡Œè¨­å®š
  if (currentQuestion.subQuestion) {
    const subQ = currentQuestion.subQuestion;

    // å…ˆç§»é™¤æ—¢æœ‰çš„å­é¡Œ UI
    const existingSub = document.getElementById("sub-question");
    if (existingSub) existingSub.remove();

    // è‹¥ç•¶å‰ä¸»é¸é …ç¬¦åˆå­é¡Œè§¸ç™¼æ¢ä»¶
    if (subQ.conditionIndex.includes(optionIndex)) {
      const subHTML = `
        <div id="sub-question" class="mt-6 ml-4 space-y-2 text-sm text-green-700">
          <label class="block mb-2 font-medium">${subQ.text}</label>
          <div class="flex flex-col space-y-2">
            ${subQ.options.map((opt, idx) => `
              <label>
                <input type="radio" name="${subQ.id}" value="${subQ.values[idx]}" class="mr-2"
                  ${answers[subQ.id] == subQ.values[idx] ? "checked" : ""}>
                ${opt}
              </label>
            `).join('')}
          </div>
        </div>
      `;

      questionContainer.insertAdjacentHTML("beforeend", subHTML);

      // ç¶å®šå­é¡Œé¸é …è®Šæ›´äº‹ä»¶
      const radios = document.getElementsByName(subQ.id);
      radios.forEach((radio) => {
          radio.addEventListener("change", (e) => {
          answers[subQ.id] = parseInt(e.target.value);
          clearErrorMessage();       // âœ… æ¸…é™¤éŒ¯èª¤è¨Šæ¯
          nextBtn.disabled = false;  // âœ… å•Ÿç”¨æŒ‰éˆ•
        });
       });
    } else {
      // è‹¥é€™æ¬¡é¸é …ä¸ç¬¦åˆæ¢ä»¶ï¼Œæ¸…é™¤å­é¡Œç­”æ¡ˆ
      delete answers[subQ.id];
    }
  }

  // è‡ªå‹•è·³ä¸‹ä¸€é¡Œï¼ˆå»¶é²ï¼‰
  setTimeout(() => {
  const shouldSkip =
    !currentQuestion.subQuestion ||
    !currentQuestion.subQuestion.conditionIndex.includes(optionIndex);

  if (shouldSkip && currentQuestionIndex < totalQuestions - 1) {
    console.log("nextQuestion=",currentQuestionIndex);
    nextQuestion();
  }
}, 500);
}

    function handleCheckboxChange(event) {
        const checkbox = event.currentTarget;
        const questionId = checkbox.dataset.question;
        const optionIndex = parseInt(checkbox.dataset.index);

        if (!answers[questionId]) {answers[questionId] = [];}

        if (checkbox.checked) {
            if (!answers[questionId].includes(optionIndex)) {
                answers[questionId].push(optionIndex);
               }
        } else {
            answers[questionId] = answers[questionId].filter((index) => index !== optionIndex);
        }

        if (questionId === "medication" && optionIndex === 6) {
              const otherInput = document.getElementById("otherInput");
              if (checkbox.checked) {
                  otherInput.classList.remove("hidden");
              } else {
                  otherInput.classList.add("hidden");
                  otherInput.value = "";
                }
             }
           // âœ… åˆ¤æ–·æ˜¯å¦å·²ç¶“å‹¾é¸è‡³å°‘ä¸€å€‹é¸é …
           const hasChecked = answers[questionId]?.length > 0;
           nextBtn.disabled = !hasChecked;

            }

    function nextQuestion() {
      const currentSectionIndex = getCurrentSectionIndex();
      const questionInSectionIndex = getQuestionInSectionIndex();
      const currentQuestion = questionnaire[currentSectionIndex].questions[questionInSectionIndex];

      if (answers[currentQuestion.id] === undefined && !currentQuestion.multiple) {
        showErrorMessage("è«‹é¸æ“‡ä¸€å€‹é¸é …å†ç¹¼çºŒ");
        nextBtn.disabled = true;
        return;
      }

      if (
        currentQuestion.multiple &&
        (!answers[currentQuestion.id] || answers[currentQuestion.id].length === 0)
      ) {
        const lastOptionIndex = currentQuestion.options.length - 1;
        console.log("nextQuestion2=",lastOptionIndex);
        answers[currentQuestion.id] = [lastOptionIndex];
      }
      
      // æª¢æŸ¥æ˜¯å¦éœ€è¦å›ç­”å­é¡Œä¸”æœªå¡«å¯«æ™‚ç¦æ­¢ç¹¼çºŒ
     if (
        currentQuestion.subQuestion &&
        currentQuestion.subQuestion.conditionIndex.includes(answers[currentQuestion.id]) &&
        answers[currentQuestion.subQuestion.id] === undefined
         ) {
           showErrorMessage("è«‹å®Œæˆæ‰€æœ‰å­é¡Œå†ç¹¼çºŒ");
            nextBtn.disabled = true;
            return;
        }


      if (currentQuestion.id === "medication" && answers[currentQuestion.id]?.includes(6)) {
             const otherText = document.getElementById("otherInput")?.value.trim();
              answers["medication_other"] = otherText || "";
         }
      clearErrorMessage();
      nextBtn.disabled = false;

      if (currentQuestionIndex < totalQuestions - 1) {
        currentQuestionIndex++;
        renderQuestion();
        updateProgressBar();
      } else {
        showResults();
      }
    }

    function prevQuestion() {
      if (currentQuestionIndex > 0) {
        currentQuestionIndex--;
        renderQuestion();
        updateProgressBar();
      }
    }

    function getCurrentSectionIndex() {
      let questionCount = 0;
      for (let i = 0; i < questionnaire.length; i++) {
        if (questionCount + questionnaire[i].questions.length > currentQuestionIndex) {
          return i;
        }
        questionCount += questionnaire[i].questions.length;
      }
      return 0;
    }

    function getQuestionInSectionIndex() {
      let questionCount = 0;
      for (let i = 0; i < questionnaire.length; i++) {
        if (questionCount + questionnaire[i].questions.length > currentQuestionIndex) {
          return currentQuestionIndex - questionCount;
        }
        questionCount += questionnaire[i].questions.length;
      }
      return 0;
    }

    function updateProgressBar() {
      const progress = ((currentQuestionIndex + 1) / totalQuestions) * 100;
      progressBar.style.width = `${progress}%`;
    }

    function showResults() {
      let SleepLatencyScore = 0;//ç¡çœ æ½›ä¼æœŸåˆ†æ•¸
      let sleeplatency=0;//ç¡çœ æ½›ä¼æœŸ
      let lightSleepScore = 0; //ç¡çœ å›°æ“¾
      let sleepDifficulty=0;//ç¡çœ å›°æ“¾
      let daytimeScore=0; //æ—¥é–“æ´»å‹•å¤±èƒ½
      let SleepMedicineScore = 0;//å®‰çœ è—¥ç‰©ä½¿ç”¨
      let daytimedisability=0;//æ—¥é–“æ´»å‹•å¤±èƒ½
      let constipationScore = 0; //åŠŸèƒ½æ€§ä¾¿ç§˜
      let stressScore=0; //ç›®å‰å£“åŠ›ç‹€æ…‹
      let ansScore=0; //ç›®å‰ç„¦æ…®ç‹€æ…‹
      let showconstipation="";
      let showstress="";
      let showANS="";
      let nightUrinationScore = getValueForQuestion("bathroom_wake");//ç¬¬4cé¡Œ
      let midWakeScore = getValueForQuestion("wake_up_night");//ç¬¬4bé¡Œ
      let needDoctor=false;//éœ€è¦é†«å¸«é€²ä¸€æ­¥ä»‹å…¥
      let sleepefficiency=0; //ç¡çœ æ•ˆç‡
      let psleepduration=getValueForQuestion("sleep_duration"); //ç¬¬ä¸‰é¡Œ ç¡çœ æ™‚æ•¸
      let pst=getValueForQuestion("sleep_time"); //ç¬¬ä¸€é¡Œ
      let sleepquality=0;//ç¡çœ å“è³ª
      let sleepqualityScore=getValueForQuestion("sleep_quality_slider");//ç¡çœ å“è³ª0-10åˆ†
      if(sleepqualityScore<=2){sleepquality=3;}
      else if(sleepqualityScore<=5&&sleepqualityScore>=3){sleepquality=2;}
      else if(sleepqualityScore<=8&&sleepqualityScore>=6){sleepquality=1;}
      

      //è¨ˆç®—ç¡çœ æ•ˆç‡
      if((psleepduration==1&&pst==0)||(psleepduration==2&&pst==1)||(psleepduration==3&&pst==2)){
        sleepefficiency=1;
      }else if((psleepduration==2&&pst==0)||(psleepduration==3&&pst==1)){
        sleepefficiency=2;
      }else if((psleepduration==3&&pst==0)){
        sleepefficiency=3;
      }     
      //è¨ˆç®—ç¡çœ æ½›ä¼æœŸ
      SleepLatencyScore+= getValueForQuestion("fall_asleep_time");//ç¬¬äºŒé¡Œ
      SleepLatencyScore += getValueForQuestion("sleep_difficulty"); //ç¬¬4aé¡Œ
      if(SleepLatencyScore>=5){ sleeplatency=3;}
      else if(SleepLatencyScore>=3&&SleepLatencyScore<=4){ sleeplatency=2;}
      else if(SleepLatencyScore>=1&&SleepLatencyScore<=2){ sleeplatency=1;}
      else {sleeplatency=0;}

      lightSleepScore += getValueForQuestion("wake_up_night");//ç¬¬4bé¡Œ
      lightSleepScore += getValueForQuestion("bathroom_wake");//ç¬¬4cé¡Œ
      lightSleepScore += getValueForQuestion("snooze_wake");//ç¬¬4eé¡Œ
      lightSleepScore += getValueForQuestion("nightmare_wake");//ç¬¬4fé¡Œ
      lightSleepScore += getValueForQuestion("pain_wake");//ç¬¬4gé¡Œ
      if(lightSleepScore>=11){sleepDifficulty=3;}
      else if(lightSleepScore>=6&&lightSleepScore<=10){ sleepDifficulty=2;}
      else if(lightSleepScore>=1&&lightSleepScore<=5){ sleepDifficulty=1;}
      else {sleepDifficulty=0;}

      SleepMedicineScore += getValueForQuestion("sleep_medication");//ç¬¬5é¡Œ å®‰çœ è—¥ç‰©ä½¿ç”¨
      
      //æ—¥é–“æ´»å‹•å¤±èƒ½
      daytimeScore += getValueForQuestion("daytime_sleepiness");//ç¬¬6é¡Œ
      daytimeScore += getValueForQuestion("daytime_nopower");//ç¬¬7é¡Œ
      if(daytimeScore>=5){daytimedisability=3;}
      else if(daytimeScore>=3&&daytimeScore<=4){ daytimedisability=2;}
      else if(daytimeScore>=1&&daytimeScore<=2){ daytimedisability=1;}
      else {daytimedisability=0;}
      
      //åŠŸèƒ½æ€§ä¾¿ç§˜
      constipationScore += getValueForQuestion("constipation_effort");
      constipationScore += getValueForQuestion("constipation_hard");
      constipationScore += getValueForQuestion("constipation_incomplete");
      constipationScore += getValueForQuestion("constipation_frequency");
      constipationScore += getValueForQuestion("constipation_distension");
      if(constipationScore<=2){showconstipation="ä½é¢¨éšªï¼Œæ’ä¾¿åŠŸèƒ½æ­£å¸¸ï¼Œå¯ç¶­æŒç¾æ³ã€‚";}
      else if(constipationScore>=3&&constipationScore<=6){showconstipation="äºå¥åº·å€ï¼Œå¶çˆ¾å‡ºç¾ä¾¿ç¥•å‚¾å‘ï¼Œå»ºè­°èª¿æ•´é£²é£Ÿèˆ‡ä½œæ¯ã€‚";}
      else if(constipationScore>=7&&constipationScore<=9){showconstipation="ä¸­åº¦é¢¨éšªï¼ŒåŠŸèƒ½æ€§ä¾¿ç¥•å¯èƒ½æ€§é«˜ï¼Œå»ºè­°é€²è¡Œç”Ÿæ´»ä»‹å…¥èˆ‡è§€å¯Ÿã€‚";}
      else{showconstipation="é«˜é¢¨éšªï¼Œé«˜åº¦ç–‘ä¼¼åŠŸèƒ½æ€§ä¾¿ç¥•ï¼Œå»ºè­°é†«å¸«é€²ä¸€æ­¥è©•ä¼°æˆ–æª¢æŸ¥ã€‚";}
      
      //ç›®å‰å£“åŠ›ç‹€æ…‹
      stressScore += getValueForQuestion("stress_control");
      stressScore += getValueForQuestion("stress_overwhelm");
      stressScore += getValueForQuestion("stress_plan");
      stressScore += getValueForQuestion("stress_daily");
      if(stressScore<=5){showstress="ä½å£“åŠ›";}
      else if(stressScore>=6&&stressScore<=9){showstress="ä¸­ç­‰å£“åŠ›";}
      else{showstress="é«˜å£“åŠ›";}

      //ç›®å‰ç„¦æ…®ç‹€æ…‹
      ansScore += getValueForQuestion("ans_dry_mouth");
      ansScore += getValueForQuestion("ans_breathing");
      ansScore += getValueForQuestion("ans_fear");
      ansScore += getValueForQuestion("ans_trembling");
      ansScore += getValueForQuestion("ans_worry");
      ansScore += getValueForQuestion("ans_restless");
      ansScore += getValueForQuestion("ans_heart");
      if(ansScore<=4){showANS="æ­£å¸¸";}
      else if(ansScore>=5&&ansScore<=9){showANS="è¼•åº¦ç„¦æ…®";}
      else if(ansScore>=10&&ansScore<=14){showANS="ä¸­åº¦ç„¦æ…®";}
      else if(ansScore>=15&&ansScore<=19){showANS="é‡åº¦ç„¦æ…®";}
      else{showANS="æ¥µé‡åº¦ç„¦æ…®";}

      //åˆ¤æ–·æ˜¯å¦éœ€è¦é†«å¸«ä»‹å…¥
      if(ansScore>=10||getValueForQuestion("ans_fear")>1||answers.length>=1){
        needDoctor=true;
      }

      let bathroomDetail = answers["bathroom_frequency_detail"] || 0;//ç¬¬4c2é¡Œ
      let nightwakeDetail = answers["wake_up_night_detail"] || 0;//ç¬¬4b2é¡Œ
      let selectedMeds = getSelectedCheckboxLabels("medication");
      let bathroomDetailLabel = getLabelByValue("bathroom_frequency_detail", bathroomDetail);
      let nightwakeDetailLabel = getLabelByValue("wake_up_night_detail",nightwakeDetail);

      
      console.log('ç¡çœ å“è³ª=', sleepquality);
      console.log('ç¡çœ å“è³ªåˆ†æ•¸=', sleepqualityScore);
      console.log('ç¡çœ æ½›ä¼æœŸ=', sleeplatency);
      console.log('ç¡çœ æ™‚æ•¸=', psleepduration);
      console.log('ç¡çœ æ•ˆç‡=', sleepefficiency);
      console.log('ç¡çœ å›°æ“¾=', sleepDifficulty);
      console.log('å®‰çœ è—¥ç‰©ä½¿ç”¨=', SleepMedicineScore);
      console.log('æ—¥é–“æ´»å‹•å¤±èƒ½=', daytimedisability);
      console.log('åŠŸèƒ½æ€§ä¾¿ç§˜=',showconstipation);
      console.log('åŠŸèƒ½æ€§ä¾¿ç§˜åˆ†æ•¸=',constipationScore);
      console.log('ç›®å‰å£“åŠ›ç‹€æ…‹=', showstress);
      console.log('ç›®å‰å£“åŠ›ç‹€æ…‹åˆ†æ•¸=',stressScore);
      console.log('ç›®å‰ç„¦æ…®ç‹€æ…‹=', showANS);
      console.log('ç›®å‰ç„¦æ…®ç‹€æ…‹åˆ†æ•¸=', ansScore);
      console.log('éœ€è¦è½‰ä»‹é†«å¸«=', needDoctor);
      console.log('åŠå¤œé†’ä¾†æ¬¡æ•¸=', nightwakeDetailLabel);
      console.log('åŠå¤œå¤œå°¿æ¬¡æ•¸=', bathroomDetailLabel);
      console.log("é¸å–çš„è—¥ç‰©ï¼š", selectedMeds.join("ï¼Œ"));


      
      let type = "";
        if ((SleepLatencyScore >= 2||SleepMedicineScore>=1)&&(midWakeScore >= 2 && nightUrinationScore <= 1)) { //é›£ä»¥å…¥ç¡ (ç¡çœ æ½›ä¼æœŸå¤§æ–¼ç­‰æ–¼2ï¼Œæˆ–æ˜¯5é¡Œå¤§æ–¼ç­‰æ–¼1)ï¼Œä¸”ç¡çœ æ˜“ä¸­æ–· (4bé¡Œå¤§æ–¼ç­‰æ–¼2ï¼Œä¸”4Cé¡Œå°æ–¼ç­‰æ–¼1)
        type = "5";
      } else if ((SleepLatencyScore >= 2||SleepMedicineScore>=1)&&(nightUrinationScore >= 2)) { //é›£ä»¥å…¥ç¡ (ç¡çœ æ½›ä¼æœŸå¤§æ–¼ç­‰æ–¼2ï¼Œæˆ–æ˜¯5é¡Œå¤§æ–¼ç­‰æ–¼1)ï¼Œä¸”å¤œå°¿é »ç¹( 4cé¡Œå¤§æ–¼ç­‰æ–¼2)
        type = "4";
      } else if(SleepLatencyScore >= 2||SleepMedicineScore>=1) { //ç¡çœ æ½›ä¼æœŸå¤§æ–¼ç­‰æ–¼2ï¼Œæˆ–æ˜¯5é¡Œå¤§æ–¼ç­‰æ–¼1
        type = "1";
      } else if (midWakeScore >= 2 && nightUrinationScore <= 1) { //4bé¡Œå¤§æ–¼ç­‰æ–¼2ï¼Œä¸”4Cé¡Œå°æ–¼ç­‰æ–¼1
        type = "3";
      } else if (nightUrinationScore >= 2) {//( 4cé¡Œå¤§æ–¼ç­‰æ–¼2
        type = "2";
      } else {
        const scores = [
          { type: "1", score: SleepLatencyScore },
          { type: "2", score: nightUrinationScore },
          { type: "3", score: lightSleepScore },
          { type: "4", score: SleepMedicineScore },
          { type: "5", score: midWakeScore },
        ];

        scores.sort((a, b) => b.score - a.score);
        type = scores[0].score > 0 ? scores[0].type : "5";
      }

      if (constipationScore >= 7) { //æœ‰ä¾¿ç¥•
        type += "+";
      }
      
     let userData = {};
     userData = JSON.parse(localStorage.getItem("userData"));  
      // è¤‡é›œå•å· API åƒæ•¸
      //å¹«æˆ‘éƒ½è½‰æˆå­—ä¸²
     const CSurveyParams = {
       MID: userData?.MID || "",
       Token: userData?.Token || "",
       Mobile: userData?.Mobile || "",
        SleepqualityScore:sleepqualityScore.toString(),  //ç¡çœ å“è³ªåˆ†æ•¸
        Sleepquality:sleepquality.toString(),   //ç¡çœ å“è³ª
        Sleeplatency:sleeplatency.toString(),  //ç¡çœ æ½›ä¼æœŸ
        Sleepduration:psleepduration.toString(), //ç¡çœ æ™‚æ•¸
        Sleepefficiency:sleepefficiency.toString(), //ç¡çœ æ•ˆç‡
        SleepDifficulty:sleepDifficulty.toString(),  //ç¡çœ å›°æ“¾
        SleepMedicineScore:SleepMedicineScore.toString(),  //å®‰çœ è—¥ç‰©ä½¿ç”¨
        Daytimedisability:daytimedisability.toString(),   //æ—¥é–“æ´»å‹•å¤±èƒ½
        ConstipationScore:constipationScore.toString(),  //åŠŸèƒ½æ€§ä¾¿ç§˜åˆ†æ•¸
        StressScore:stressScore.toString(),  //ç›®å‰å£“åŠ›ç‹€æ…‹åˆ†æ•¸
        AnsScore:ansScore.toString(),   //ç›®å‰ç„¦æ…®ç‹€æ…‹åˆ†æ•¸
        NeedDoctor:needDoctor.toString(), //éœ€è¦è½‰ä»‹é†«å¸«
        SelectMeds: selectedMeds.join("ï¼Œ"), //é¸å–çš„è—¥ç‰©
        Q1:pst.toString(),
        Q2:getValueForQuestion("fall_asleep_time").toString(),
        Q3:psleepduration.toString(),
        Q4:getValueForQuestion("sleep_difficulty").toString(),
        Q5:getValueForQuestion("wake_up_night").toString(),
        Q5a:nightwakeDetail.toString(),
        Q6:getValueForQuestion("bathroom_wake").toString(),
        Q6a:bathroomDetail.toString(),
        Q7:getValueForQuestion("snooze_wake").toString(),
        Q8:getValueForQuestion("nightmare_wake").toString(),
        Q9:getValueForQuestion("pain_wake").toString(),
        Q10:SleepMedicineScore.toString(),
        Q11:getValueForQuestion("daytime_sleepiness").toString(),
        Q12:getValueForQuestion("daytime_nopower").toString(),
        q13:sleepqualityScore.toString(),
        Q14:getValueForQuestion("constipation_effort").toString(),
        Q15:getValueForQuestion("constipation_hard").toString(),
        Q16:getValueForQuestion("constipation_incomplete").toString(),
        Q17:getValueForQuestion("constipation_frequency").toString(),
        Q18:getValueForQuestion("constipation_distension").toString(),
        Q19:getValueForQuestion("stress_control").toString(),
        Q20:getValueForQuestion("stress_overwhelm").toString(),
        Q21:getValueForQuestion("stress_plan").toString(),
        Q22:getValueForQuestion("stress_daily").toString(),
        Q23:getValueForQuestion("ans_dry_mouth").toString(),
        Q24:getValueForQuestion("ans_breathing").toString(),
        Q25:getValueForQuestion("ans_fear").toString(),
        Q26:getValueForQuestion("ans_trembling").toString(),
        Q27:getValueForQuestion("ans_worry").toString(),
        Q28:getValueForQuestion("ans_restless").toString(),
        Q29:getValueForQuestion("ans_heart").toString()
      };
      
      console.log("å‚³é€è³‡æ–™ï¼š", JSON.stringify(CSurveyParams));
    // å‘¼å« CSurvey API å¯«å…¥è³‡æ–™åº«
    fetch("https://23700999.com:8081/HMA/api/fr/CSurveyParams", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(CSurveyParams),
    })
      .then(res => res.json())
      .then(data => {
        console.log("è¤‡é›œå•å· API å›å‚³ï¼š", data);
      })
      .catch(error => {
        console.error("è¤‡é›œå•å· API éŒ¯èª¤ï¼š", error);
      });


      const result = rhythmTypes[type] || {
        name: "æ•´é«”åŠŸèƒ½è¶¨æ–¼æ­£å¸¸",
        emoji: "â“",
        description: "æ‚¨çš„å›ç­”æœªç¬¦åˆç‰¹å®šé¡å‹åˆ¤å®šã€‚",
        awareness: "",
        recommendations: [],
        reminder: "",
      };

      let resultHTML = `
        <div class="text-center mb-8">
          <div class="emoji">${result.emoji}</div>
          <h3 class="text-2xl font-bold text-green-800">${type}å‹ | ${result.name}</h3>
        </div>
        
        <div class="space-y-6">
          <div class="result-section">
            <h4 class="font-semibold text-green-800 mb-2">èº«å¿ƒç‹€æ…‹èªªæ˜</h4>
            <p class="text-green-700">${result.description}</p>
          </div>
          
          <div class="result-section">
            <h4 class="font-semibold text-green-800 mb-2">ç”Ÿç†æ©Ÿè½‰åˆ†æ</h4>
            <p class="text-green-700">${result.awareness}</p>
          </div>
          
          <div class="bg-gradient-to-r from-blue-50 to-green-50 rounded-lg p-5 mb-6">
            <h4 class="font-semibold text-green-800 mb-4">å€‹äººåŒ–èª¿ç†å»ºè­°</h4>
            
            <div class="flex flex-wrap gap-2 mb-4">
      `;

      result.recommendations.forEach((category, index) => {
        resultHTML += `
          <div class="category-tab px-4 py-2 rounded-full text-sm font-medium ${
            index === 0 ? "active" : ""
          }" 
            data-category="${index}">
            ${category.icon} ${category.category}
          </div>
        `;
      });

      resultHTML += `
            </div>
            
            <div class="category-content-container">
      `;

      result.recommendations.forEach((category, index) => {
        resultHTML += `
          <div class="category-content ${index === 0 ? "active" : ""}" data-category="${index}">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        `;

        category.items.forEach((item) => {
          resultHTML += `
            <div class="recommendation-card ${category.color} rounded-lg p-4 shadow-sm">
              <div class="recommendation-icon ${category.iconColor}">${category.icon}</div>
              <p class="text-green-700">${item}</p>
            </div>
          `;
        });

        resultHTML += `
            </div>
          </div>
        `;
      });

      resultHTML += `
            </div>
          </div>
          
          <div class="result-section bg-amber-50 p-4 rounded-lg">
            <h4 class="font-semibold text-amber-800 mb-2">æº«é¦¨æé†’</h4>
            <p class="text-green-700">${result.reminder}</p>
          </div>
        </div>
      `;

      resultCard.innerHTML = resultHTML;

      const categoryTabs = resultCard.querySelectorAll(".category-tab");
      categoryTabs.forEach((tab) => {
        tab.addEventListener("click", () => {
          const categoryIndex = tab.dataset.category;

          categoryTabs.forEach((t) => t.classList.remove("active"));
          tab.classList.add("active");

          const categoryContents = resultCard.querySelectorAll(".category-content");
          categoryContents.forEach((content) => {
            if (content.dataset.category === categoryIndex) {
              content.classList.add("active");
            } else {
              content.classList.remove("active");
            }
          });
        });
      });

      questionnaireDiv.classList.add("hidden");
      resultsDiv.classList.remove("hidden");

      setTimeout(() => {
        resultCard.classList.add("show");
      }, 100);
    }

    function getValueForQuestion(questionId) {
      for (const section of questionnaire) {
        for (const question of section.questions) {
          if (question.id === questionId) {
            if (question.multiple) {
              if (!answers[questionId]) return 0;
              return answers[questionId].reduce(
                (sum, index) => sum + question.values[index],
                0
              );
            }else if (question.slider) {
                  return answers[questionId] ?? question.default;
            } 
            else {
              if (answers[questionId] === undefined) return 0;
              return question.values[answers[questionId]];
            }
          }
        }
      }
      return 0;
    }

    function getSelectedCheckboxLabels(questionId) {
      const labels = [];
      for (const section of questionnaire) {
         for (const question of section.questions) {
             if (question.id === "medication" && question.multiple) {
                 if (!answers["medication"]) return [];

              answers["medication"].forEach((index) => {
              const label = question.options[index];
               if (index === 6) { // ã€Œå…¶ä»–è—¥ç‰©ã€é¸é …
                  const otherText = answers["medication_other"]?.trim();
                  if (otherText) {
                     labels.push(`${label}ï¼š${otherText}`);
                  } else {
                    labels.push(label); // æ²’æœ‰å¡«å¯«å…§å®¹ä¹Ÿé¡¯ç¤ºã€Œå…¶ä»–è—¥ç‰©ã€
                  }
                } else {
                  labels.push(label);
             }
             });
            }
          }
          }
      return labels;
     }

     function getLabelByValue(questionId, value) {
        for (const section of questionnaire) {
           for (const question of section.questions) {
                if (question.subQuestion && question.subQuestion.id === questionId) {
                 const index = question.subQuestion.values.indexOf(value);
                 return index !== -1 ? question.subQuestion.options[index] : "æœªå¡«ç­”";
                }
              }
            }
           return "æœªå¡«ç­”";
         }

    function restart() {
      resultsDiv.classList.add("hidden");
      questionnaireDiv.classList.remove("hidden");
      resultCard.classList.remove("show");
      initQuestionnaire();
    }

    prevBtn.addEventListener("click", prevQuestion);
    nextBtn.addEventListener("click", nextQuestion);
    restartBtn.addEventListener("click", restart);

    initQuestionnaire();
  </script>
</body>
</html>
