import{u as A}from"./Bf7E4ooc.js";import{_ as R}from"./DNAPM-2u.js";import{_ as V}from"./DlAUqK2U.js";import{v as c,x as d,H as m,y as n,C as g,N as y}from"./HfdH-K36.js";const D={props:{showCloseButton:{type:Boolean,default:!0}},setup(){const a=A(),t=()=>{a.showHRVAlert=!1},i=e=>{const[l,r,s]=e.split("/").map(Number);return new Date().getFullYear()-(1911+l)};return{store:a,handleCloseHRVAlert:t,convertAndSaveUserData:async()=>{const e=JSON.parse(localStorage.getItem("userData"));if(!e){alert("尚未登入。"),t();return}const l=v=>Number.isInteger(parseInt(v,10));if(!l(e.Height)||parseInt(e.Height)<=0){alert("您的身高格式不正確，請修改會員資料"),window.location.href="/changeMember";return}if(!l(e.Weight)||parseInt(e.Weight)<=0){alert("您的體重格式不正確，請修改會員資料"),window.location.href="/changeMember";return}const r=e.Birthday.split("/");if(r.length!==3||parseInt(r[0])<=0||parseInt(r[1])<1||parseInt(r[1])>12||parseInt(r[2])<1||parseInt(r[2])>31||isNaN(i(e.Birthday))){alert("生日格式不正確或包含無效日期，請修改會員資料。"),window.location.href="/changeMember";return}let s=parseInt(e.Sex);if(s!==1&&s!==2&&s!==0){alert("性別格式不正確，請修改會員資料。"),window.location.href="/changeMember";return}if(s=="2"&&(s=0),!["normal","prehypertension","hypertension"].includes(e.DSPR)){a.showDSPRSelect=!0,t();return}const f={age:i(e.Birthday),bp_group:e.DSPR,bp_mode:"ternary",facing_mode:"user",height:parseInt(e.Height),sex:s,weight:parseInt(e.Weight),time:parseInt(e.HRVCalTime)||2};sessionStorage.setItem("data",JSON.stringify(f));const I=a.detectUID,u=a.detectFlag,w=a.detectForm;let p="/HRV";u&&(p+=`?UID=${I}&flag=${u}&form=${w}`),window.location.href=p}}}},H={key:0,class:"cover"},_={key:1,class:"HRVAlert"};function S(a,t,i,o,e,l){return d(),c(y,null,[o.store.showHRVAlert?(d(),c("div",H)):m("",!0),o.store.showHRVAlert?(d(),c("div",_,[i.showCloseButton?(d(),c("img",{key:0,class:"HRVAlertClose",onClick:t[0]||(t[0]=(...r)=>o.handleCloseHRVAlert&&o.handleCloseHRVAlert(...r)),src:R,alt:""})):m("",!0),t[2]||(t[2]=n("h3",null,"智平衡健康集團提醒事項",-1)),t[3]||(t[3]=n("div",{class:"disclaimer"}," 數據僅供健康參考，無醫療診斷效力，請勿自行解讀或調藥，應諮詢醫師 ",-1)),t[4]||(t[4]=n("ul",null,[n("li",null," 智平衡AI穿戴紀錄系統透過非接觸式人臉HRV量測（rPPG），推估使用者自律神經、疲勞、血管壓力與心情緊繃狀態，並提供即時個人化健康建議。 "),n("li",null," 系統同步紀錄保健衣穿戴時間與頻率，協助醫師掌握身體變化，優化刺激點配置。所蒐集數據亦將用於AI模型持續優化，使系統更精準。 "),n("li",null,[g(" 測量僅需"),n("span",{class:"point"},"20秒"),g("，請保持穩定、安靜、全程臉部入鏡。 ")])],-1)),n("button",{class:"HRVAlertBtn",onClick:t[1]||(t[1]=(...r)=>o.convertAndSaveUserData&&o.convertAndSaveUserData(...r))},"確定")])):m("",!0)],64)}const x=V(D,[["render",S],["__scopeId","data-v-4154923c"]]);export{x as _};
