import{_ as ve}from"./pZyeaVw3.js";import{_ as me}from"./W3k4iq7y.js";import{g as Y,v as g,x as u,A as B,O as ge,H as I,y as a,z as V,I as h,T as z,U as X,a2 as pe,B as fe,N as E,V as ye,C as F,M as we,r as i,F as Ce,o as De,X as q,j as be}from"./HfdH-K36.js";import{_ as Ie,a as Ae,b as Q,e as Se,c as Ve}from"./BPQMX-rU.js";import{a as T}from"./xsH4HHeE.js";import{N as he}from"./D4NOPrlv.js";import{U as Me}from"./CMVGoev_.js";import{u as $}from"./BUsOIeYI.js";import{s as Pe}from"./x_rD_Ya3.js";import{_ as ke}from"./DlAUqK2U.js";import"./DNAPM-2u.js";/* empty css        */import"./LVasnhF1.js";import"./BPIBTVAH.js";import"./C7_Xho3L.js";import"./B0rTVoH9.js";import"./fh2N3Yhm.js";const _e="data:image/svg+xml,%3csvg%20width='20'%20height='22'%20viewBox='0%200%2020%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Group'%3e%3cpath%20id='Vector'%20d='M14.4062%200.5796C13.9469%200.738975%2013.6094%201.08116%2013.45%201.54523C13.3844%201.73741%2013.375%202.05148%2013.375%203.83273V5.89523L13.4922%206.00773C13.6281%206.14835%2013.8391%206.15773%2013.9891%206.03585L14.1016%205.94679L14.125%203.83741C14.1484%201.79835%2014.1531%201.72335%2014.2469%201.59679C14.2984%201.52648%2014.4016%201.42335%2014.4719%201.37179C14.5984%201.27804%2014.6687%201.27335%2017.0875%201.24991L19.5719%201.22647L19.6609%201.11398C19.7828%200.963975%2019.7734%200.753037%2019.6328%200.6171L19.5203%200.499912H17.0687C14.9641%200.5046%2014.5891%200.513975%2014.4062%200.5796Z'%20fill='%23000'/%3e%3cpath%20id='Vector_2'%20d='M5.4626%206.95C1.70791%209.72968%200.287598%2010.8078%200.268848%2010.8875C0.254785%2010.9484%200.254785%2011.0516%200.268848%2011.1125C0.306348%2011.2719%2010.5251%2018.8422%2010.736%2018.8656C10.8485%2018.8797%2010.9142%2018.8562%2011.0032%2018.7625L11.1251%2018.6453V16.8828V15.125H14.5704H18.0204L18.1329%2015.0078L18.2501%2014.8953V11V7.10468L18.1329%206.99219L18.0204%206.875H14.5704H11.1251V5.15937C11.1251%203.95%2011.111%203.41562%2011.0688%203.34531C10.9938%203.2%2010.886%203.12969%2010.7454%203.125C10.661%203.125%209.20791%204.175%205.4626%206.95ZM10.511%207.53594C10.6142%207.62031%2010.7454%207.625%2014.0595%207.625H17.5001V11V14.375H14.0548H10.6048L10.4923%2014.4922L10.3751%2014.6047V16.1797V17.7547L10.0376%2017.5016C9.8501%2017.3656%208.84228%2016.6156%207.79697%2015.8469C2.30322%2011.7781%201.30479%2011.0328%201.30479%2011C1.30479%2010.9672%202.25635%2010.2594%207.86728%206.10156C8.9501%205.3%209.95322%204.55937%2010.0938%204.45625L10.3517%204.26406L10.3751%205.85312L10.3985%207.44687L10.511%207.53594Z'%20fill='%23000'/%3e%3cpath%20id='Vector_3'%20d='M13.4922%2015.9921L13.375%2016.1046V18.1624C13.375%2020.464%2013.3797%2020.4968%2013.6984%2020.9187C13.8063%2021.064%2013.975%2021.1999%2014.1719%2021.3078L14.4766%2021.4765L16.9609%2021.4906C18.7984%2021.4999%2019.4688%2021.4906%2019.5484%2021.4484C19.7031%2021.364%2019.7734%2021.1578%2019.7078%2020.989C19.675%2020.9187%2019.6047%2020.8343%2019.5484%2020.8015C19.4781%2020.764%2018.7141%2020.7453%2017.0219%2020.7359C14.6594%2020.7265%2014.5984%2020.7265%2014.4719%2020.6281C14.4016%2020.5765%2014.2984%2020.4734%2014.2469%2020.4031C14.1531%2020.2765%2014.1484%2020.2015%2014.125%2018.1624L14.1016%2016.0531L13.9891%2015.964C13.8391%2015.8421%2013.6281%2015.8515%2013.4922%2015.9921Z'%20fill='%23000'/%3e%3c/g%3e%3c/svg%3e",Te={components:{Navbar:he,UserInfoForm:Me,useSeo:$},setup(){$({title:"",description:"NeuroPlus神經調節家提供專業的自律神經檢測服務，運用FDA認證AI技術，透過人臉辨識快速分析HRV數據，幫助您了解自律神經狀態。",url:"https://neuroplus.com.tw"});const M=we(),o=i(!1),P=i(!1),e=i(!1),L=i(!1),k=i(""),c=i(""),D=i(""),A=i(""),S=i(""),t=i(!1),p=i(!1),w=i(null),J=i(!0),U=i(""),N=i(""),j=i(""),H=i(""),x=i(""),K=i(""),O=i("register"),r=i(["","","","",""]),C=i([]),_=i("註冊會員"),b=i(60),W=i(null),ee=()=>{o.value=!o.value},oe=()=>{P.value=!P.value};Ce(r,s=>{s.every(l=>l!=="")&&Z()});const te=()=>{L.value=!0,t.value=!0},se=async()=>{if(c.value.length<8){alert("密碼小於8位數");return}if(c.value!==D.value){alert("密碼不一致");return}e.value=!0,await new Promise(s=>setTimeout(s,750)),e.value=!1,_.value="輸入驗證碼",G();try{const s=await T.post("https://23700999.com:8081/HMA/API_AA3.jsp",{Mobile:k.value,Password:c.value});if(s.status===200){const l=s.data;l.Token.trim()!==""&&l.MID.trim()!==""?(O.value="verify",_.value="輸入驗證碼",localStorage.setItem("userData",JSON.stringify({Token:l.Token,MAID:l.MAID,MID:l.MID,A5Digit:l.A5Digit,Mobile:l.Mobile,startTime:l.startTime}))):alert(`註冊失敗 : ${l.Result}`)}}catch{alert("註冊失敗")}finally{e.value=!1}},ae=()=>{c.value.length<8?A.value="密碼長度必須至少 8 位":A.value=""},le=()=>{D.value!==c.value?S.value="兩次輸入的密碼不一致":S.value=""},Z=async()=>{e.value=!0,r.value.join("");const s=localStorage.getItem("userData"),{MID:l,Token:f,MAID:n,Mobile:d,A5Digit:v}=s?JSON.parse(s):{};b.value>0?await ie():(r.value=["","","","",""],q(()=>{var m;(m=C.value[0])==null||m.focus()}),alert("驗證碼時間已過")),e.value=!1},ie=async()=>{var m;e.value=!0;const s=r.value.join(""),l=localStorage.getItem("userData"),{MID:f,Token:n,MAID:d,Mobile:v}=l?JSON.parse(l):{};try{const y=await T.post("https://23700999.com:8081/HMA/API_doExamAuth.jsp",{Token:n,MAID:d,Mobile:v,MID:f,D1:s[0],D2:s[1],D3:s[2],D4:s[3],D5:s[4]});if(y.status===200)if(y.data.PASS==="OK"){const ue=localStorage.getItem("userData"),ce={...JSON.parse(ue)};localStorage.setItem("userData",JSON.stringify(ce)),r.value=["","","","",""],_.value="輸入基本資料",O.value="info"}else alert("驗證碼錯誤"),(m=C.value[0])==null||m.focus(),r.value=["","","","",""]}catch{}finally{e.value=!1}},re=(s,l)=>{var n,d;if((l==null?void 0:l.key)==="Backspace"&&r.value[s]===""&&s>0){(n=C.value[s-1])==null||n.focus();return}(r.value[s]<0||r.value[s]>9)&&(r.value[s]=""),r.value[s]!==""&&s<r.value.length-1&&((d=C.value[s+1])==null||d.focus()),r.value.every(v=>v!=="")&&Z()},ne=s=>{const l=String.fromCharCode(s.which);/[0-9]/.test(l)||s.preventDefault()},G=()=>{b.value=60,p.value=!1,J.value=!0,W.value=Pe(()=>{b.value>0?b.value--:(clearInterval(W.value),b.value="驗證碼已失效，請重新發送",p.value=!0,J.value=!1)},1e3)};De(()=>{q(()=>{C.value=C.value.slice(0,r.value.length)})});const de=be(()=>k.value.trim()!==""&&c.value.length>=8&&c.value===D.value&&t.value);return{passwordVisible:o,passwordAgainVisible:P,mobile:k,password:c,passwordAgain:D,passwordError:A,passwordAgainError:S,togglePasswordVisibility:ee,togglePasswordAgainVisibility:oe,validatePassword:ae,validatePasswordAgain:le,eyesCloseGreen:Ve,eyesOpenGreen:Se,loading:e,getVerificationCode:se,currentStep:O,verificationCodes:r,handleInput:re,allowOnlyNumbers:ne,verificationInput:C,verificationTitle:_,startCountdown:G,countdownTime:b,isPrivacy:t,isReSend:p,reSend:async()=>{try{const s=localStorage.getItem("userData"),{MID:l,Token:f,MAID:n,Mobile:d}=s?JSON.parse(s):{};if(!l||!f||!n||!d){alert("資料不完整，無法重新發送驗證碼");return}const v=await T.post("https://23700999.com:8081/HMA/API_AA4.jsp",{MID:l,Token:f,MAID:n,Mobile:d});if(v.status===200){const{startTime:m,A5Digit:y,Result:R}=v.data;localStorage.setItem("userData",JSON.stringify({...JSON.parse(s),startTime:m,A5Digit:y,Result:R})),alert("簡訊已重新發送"),G()}else alert("重新發送失敗，請稍後再試")}catch{alert("重新發送失敗，請稍後再試")}finally{e.value=!1}},addUser:async()=>{try{const s=localStorage.getItem("userData"),{MID:l,Token:f,MAID:n,Mobile:d}=s?JSON.parse(s):{};if(!l||!f||!n||!d||!U.value||!N.value||!H.value)throw new Error("資料不完整");let v="";if(x.value){const y=new Date(x.value);v=`${y.getFullYear()-1911}/${y.getMonth()+1}/${y.getDate()}`}const m=await T.post("https://23700999.com:8081/HMA/API_AA5.jsp",{MID:l,Token:f,MAID:n,Mobile:d,Name:U.value,Height:N.value,Weight:j.value,Sex:H.value,Birthday:v,DSPR:K.value||"",HRVCalTime:"1"});m.status===200&&(M.push("/user"),console.log(m.data))}catch(s){alert(s.message||"資料不完整"),console.error(s)}finally{}},name:U,height:N,weight:j,sex:H,sexSelect:w,isFormValid:de,date:x,DSPR:K,handleShowPolicy:te,showPolicy:L}}},Le={class:"register"},Ue={class:"registerGroup"},Ne={key:0,class:"registerWrap"},He={class:"registerBox"},xe={class:"phoneGroup"},Oe={class:"passwordGroup"},Ge=["type"],Re=["src"],Be={key:0,class:"passwordHintText"},Ee={class:"passwordAgainGroup"},Fe=["type"],Je=["src"],je={key:1,class:"passwordAgainHintText"},Ke={class:"privacyGroup"},We=["disabled"],Ze={class:"bottomHintGroup"},Ye={key:1,class:"verfifyWrap"},ze={class:"verificationCodeGroup"},Xe=["onUpdate:modelValue","onInput","onKeydown","disabled"],qe={class:"verificationCodeHintText"},Qe={class:"reSendTextGroup"},$e=["disabled"],eo={key:2,class:"UserInfoFormWrap"};function oo(M,o,P,e,L,k){const c=ve,D=me,A=Y("router-link"),S=Y("UserInfoForm");return u(),g("div",Le,[B(c,{visible:e.showPolicy,"onUpdate:visible":o[0]||(o[0]=t=>e.showPolicy=t),onClosed:M.handleClosed},null,8,["visible","onClosed"]),e.loading?(u(),ge(D,{key:0})):I("",!0),a("div",Ue,[o[29]||(o[29]=a("div",{class:"raphaelIconImgGroup"},[a("img",{class:"raphaelIcon",src:Ie,alt:""})],-1)),a("h1",null,V(e.verificationTitle),1),e.currentStep==="register"?(u(),g("div",Ne,[a("div",He,[a("div",xe,[h(a("input",{type:"tel","onUpdate:modelValue":o[1]||(o[1]=t=>e.mobile=t),placeholder:"請輸入您的手機號碼"},null,512),[[z,e.mobile]]),o[20]||(o[20]=a("img",{class:"icon1",src:Ae,alt:""},null,-1))]),a("div",Oe,[h(a("input",{type:e.passwordVisible?"text":"password","onUpdate:modelValue":o[2]||(o[2]=t=>e.password=t),placeholder:"請輸入密碼(至少8位)",onInput:o[3]||(o[3]=(...t)=>e.validatePassword&&e.validatePassword(...t))},null,40,Ge),[[X,e.password]]),o[21]||(o[21]=a("img",{class:"icon1",src:Q,alt:""},null,-1)),a("img",{class:"icon2",src:e.passwordVisible?e.eyesOpenGreen:e.eyesCloseGreen,onClick:o[4]||(o[4]=(...t)=>e.togglePasswordVisibility&&e.togglePasswordVisibility(...t)),alt:""},null,8,Re)]),e.passwordError?(u(),g("div",Be,V(e.passwordError),1)):I("",!0),a("div",Ee,[h(a("input",{type:e.passwordAgainVisible?"text":"password","onUpdate:modelValue":o[5]||(o[5]=t=>e.passwordAgain=t),placeholder:"再次輸入您的密碼(至少8位)",onInput:o[6]||(o[6]=(...t)=>e.validatePasswordAgain&&e.validatePasswordAgain(...t))},null,40,Fe),[[X,e.passwordAgain]]),o[22]||(o[22]=a("img",{class:"icon1",src:Q,alt:""},null,-1)),a("img",{class:"icon2",src:e.passwordAgainVisible?e.eyesOpenGreen:e.eyesCloseGreen,onClick:o[7]||(o[7]=(...t)=>e.togglePasswordAgainVisibility&&e.togglePasswordAgainVisibility(...t)),alt:""},null,8,Je)]),e.passwordAgainError?(u(),g("div",je,V(e.passwordAgainError),1)):I("",!0)]),a("div",Ke,[h(a("input",{onClick:o[8]||(o[8]=(...t)=>e.handleShowPolicy&&e.handleShowPolicy(...t)),type:"checkbox","onUpdate:modelValue":o[9]||(o[9]=t=>e.isPrivacy=t),id:"privacyInput"},null,512),[[pe,e.isPrivacy]]),a("label",{onClick:o[10]||(o[10]=(...t)=>e.handleShowPolicy&&e.handleShowPolicy(...t))},"我已詳細閱讀隱私權政策")]),a("button",{class:"vertificationBtn",disabled:!e.isPrivacy,onClick:o[11]||(o[11]=(...t)=>e.getVerificationCode&&e.getVerificationCode(...t))}," 取得驗證碼 ",8,We),a("div",Ze,[o[24]||(o[24]=a("div",{class:"separate"},"or",-1)),B(A,{to:"/"},{default:fe(()=>o[23]||(o[23]=[a("img",{class:"icon",src:_e,alt:""},null,-1),a("h5",null,"已有會員",-1)])),_:1})])])):I("",!0),e.currentStep==="verify"?(u(),g("div",Ye,[a("div",ze,[(u(!0),g(E,null,ye(e.verificationCodes,(t,p)=>h((u(),g("input",{key:p,ref_for:!0,ref:"verificationInput",type:"number",maxlength:"1",class:"vertifyCode","onUpdate:modelValue":w=>e.verificationCodes[p]=w,onInput:w=>e.handleInput(p),onKeydown:w=>e.handleInput(p,w),onKeypress:o[12]||(o[12]=(...w)=>e.allowOnlyNumbers&&e.allowOnlyNumbers(...w)),disabled:M.isDisabled},null,40,Xe)),[[z,e.verificationCodes[p]]])),128))]),a("div",qe,[typeof e.countdownTime=="number"?(u(),g(E,{key:0},[o[25]||(o[25]=F(" 驗證碼已傳送至您的裝置，請輸入驗證碼 ")),o[26]||(o[26]=a("br",null,null,-1)),F(" ("+V(e.countdownTime)+"秒後失效) ",1)],64)):(u(),g(E,{key:1},[F(V(e.countdownTime),1)],64))]),a("div",Qe,[a("button",{class:"reSendText",disabled:!e.isReSend,onClick:o[13]||(o[13]=(...t)=>e.reSend&&e.reSend(...t))}," 重新發送 ",8,$e)])])):I("",!0),e.currentStep==="info"?(u(),g("div",eo,[o[27]||(o[27]=a("div",{class:"mtDIv"},null,-1)),B(S,{"onUpdate:name":o[14]||(o[14]=t=>e.name=t),"onUpdate:height":o[15]||(o[15]=t=>e.height=t),"onUpdate:weight":o[16]||(o[16]=t=>e.weight=t),"onUpdate:sex":o[17]||(o[17]=t=>e.sex=t),"onUpdate:date":o[18]||(o[18]=t=>e.date=t),"onUpdate:DSPR":o[19]||(o[19]=t=>e.DSPR=t),onSubmit:e.addUser},null,8,["onSubmit"]),o[28]||(o[28]=a("div",{class:"mbDiv"},null,-1))])):I("",!0)])])}const Io=ke(Te,[["render",oo],["__scopeId","data-v-83290b00"]]);export{Io as default};
