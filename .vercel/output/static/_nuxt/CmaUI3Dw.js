import{_ as q}from"./W3k4iq7y.js";import{_ as U}from"./1SqYRxzD.js";import{_ as z}from"./B_UQCELI.js";import{_ as J,u as K}from"./BFUl6AiH.js";import{v as I,x as T,O as B,H as w,y as e,A as F,z as d,J as M,C as O,N as V,V as Y,E as Z,r as m,Y as Q,Z as X}from"./HfdH-K36.js";import{a as E}from"./xsH4HHeE.js";import{f as $,s as tt,c as et,a as ot}from"./6FQ55jJ2.js";import{u as G}from"./BUsOIeYI.js";import{_ as st}from"./Cyv9YNxQ.js";import{_ as at}from"./DlAUqK2U.js";import"./Bf7E4ooc.js";const rt={components:{SymptomResult:J,useSeo:G},setup(){G({title:"",description:"NeuroPlus神經調節家提供專業的自律神經檢測服務，運用FDA認證AI技術，透過人臉辨識快速分析HRV數據，幫助您了解自律神經狀態。",url:"https://neuroplus.com.tw"});const H=K();console.log(H.diffenenceObj);const a=Z(),N=m(),t=m(),h=m(),y=m(),f=m(),l=m(),S=m(),P=a.params.detail,L=async()=>{const r=localStorage.getItem("userData"),{MID:c,Token:s,MAID:_,Mobile:D}=r?JSON.parse(r):{};try{const o=await E.post("https://23700999.com:8081/HMA/API_ANSFirstDetail.jsp",{MID:String(c),Token:String(s),MAID:String(_),Mobile:String(D),AID:P});if(o.status===200){if(console.log(o),h.value=o.data,N.value={CheckTime:o.data.CheckTime},o.data.History.length>0)try{const n=await E.post("https://23700999.com:8081/HMA/API_ANSFirstDetail.jsp",{MID:String(c),Token:String(s),MAID:String(_),Mobile:String(D),AID:o.data.History[0].preAID});n.status===200?(y.value=n.data,t.value={CheckTime:n.data.CheckTime}):console.error("Response2 status not OK:",n.status)}catch(n){console.error("Error in response2 request:",n)}else console.warn("No History data available.");console.log(h.value)}}catch(o){throw console.error("Error while fetching questions:",o),o}},C=async()=>{const r=localStorage.getItem("userData"),{MID:c,Token:s,MAID:_,Mobile:D}=r?JSON.parse(r):{};try{const o=await E.post("https://23700999.com:8081/HMA/API_ANSSecond.jsp",{MID:String(c),Token:String(s),MAID:String(_),Mobile:String(D),AID:P,preAID:f==null?void 0:f.value});o.status===200&&(console.log(o.data),l.value={...o.data,C1Symptom:"精神系統",C2Symptom:"神經系統",C3Symptom:"血液循環系統",C4Symptom:"感官系統",C5Symptom:"心肺系統",C6Symptom:"過敏免疫系統",C7Symptom:"腸胃系統",C8Symptom:"泌尿生殖系統",C9Symptom:"血液循環系統"})}catch(o){throw console.error("Error while fetching questions:",o),o}};(async()=>{S.value=!0,await L(),await C(),S.value=!1})();const x=()=>{window.location.href="/user"},v=localStorage.getItem("userData"),p=v?JSON.parse(v):null,k=m((p==null?void 0:p.Sex)||null),g=m("Serious"),A=r=>{g.value=r},u=Q([]);return X(()=>{var r,c;if(u.length=0,console.log(l.value),l.value&&h.value)for(let s=1;s<=9;s++)u.push({name:l.value[`C${s}Symptom`]||"",difference:l.value[`C${s}Difference`]||"",solve:l.value[`C${s}Solve`]||"",ratio:h.value[`C${s}Ratio`]||"",ratioPre:((r=y.value)==null?void 0:r[`C${s}Ratio`])||"",desc:h.value[`C${s}Desc`]||"",descPre:((c=y.value)==null?void 0:c[`C${s}Desc`])||""})}),{store:H,formatTimestamp:ot,backToUser:x,computedScore:r=>parseFloat(r.replace("%",""))||0,selectedType:g,changeSymptomLavel:A,sex:k,symptoms:u,computedEmoji2:et,scoreColorFn:tt,formatTimestamp3:$,TitleMenu:U,theLatestData:h,diffenenceObj:l,theLatestDataPreData:y,theLatestDataPreData:y,theLatestHistory:N,theLatestHistoryPre:t,loading:S}}},ct={class:"resultWrapDetail"},lt={class:"resultTopGroup"},nt={class:"resultInfo"},it={class:"subText"},mt={class:"severity"},dt={class:"imgGroup"},ht=["src"],_t={class:"scoreText"},Dt={class:"severityText"},yt={key:0,class:"subText nextSunText"},St={key:1,class:"severity"},pt={class:"imgGroup"},ut=["src"],Tt={class:"scoreText"},ft={class:"severityText"},vt={class:"resultListGroup"},gt={class:"backToUserBtnGroupWeekly"};function Pt(H,a,N,t,h,y){var L,C,b,x,v,p,k,g,A,u,R,r,c,s,_,D,o,n,j;const f=q,l=U,S=z,P=J;return T(),I(V,null,[t.loading?(T(),B(f,{key:0})):w("",!0),e("div",ct,[F(l,{Text:"結果分析",link:"/weekly",scrollToBottom:!0}),e("div",lt,[e("div",nt,[e("h5",it," (本次)"+d(t.formatTimestamp((L=t.theLatestHistory)==null?void 0:L.CheckTime)),1),e("div",mt,[e("div",dt,[e("img",{src:t.computedEmoji2((C=t.theLatestData)==null?void 0:C.TotalScore),alt:""},null,8,ht),e("div",_t,[e("div",{class:"score",style:M({color:t.scoreColorFn((b=t.theLatestData)==null?void 0:b.TotalScore,t.sex)})},d((x=t.theLatestData)==null?void 0:x.TotalScore),5),a[1]||(a[1]=e("h5",null,"分",-1))])]),F(S,{score:(v=t.theLatestData)==null?void 0:v.TotalScore,colorProp:t.scoreColorFn((p=t.theLatestData)==null?void 0:p.TotalScore,t.sex)},null,8,["score","colorProp"]),e("h6",Dt,[a[2]||(a[2]=O(" 嚴重程度 : ")),e("span",{style:M({color:t.scoreColorFn((k=t.theLatestData)==null?void 0:k.TotalScore,t.sex)})},d((g=t.theLatestData)==null?void 0:g.TotalRatio)+"("+d((A=t.theLatestData)==null?void 0:A.TotalDesc)+") ",5)])]),(u=t.theLatestHistoryPre)!=null&&u.CheckTime?(T(),I("h5",yt," (前次)"+d(t.formatTimestamp((R=t.theLatestHistoryPre)==null?void 0:R.CheckTime)),1)):w("",!0),(r=t.theLatestDataPreData)!=null&&r.TotalScore?(T(),I("div",St,[e("div",pt,[e("img",{src:t.computedEmoji2((c=t.theLatestDataPreData)==null?void 0:c.TotalScore),alt:""},null,8,ut),e("div",Tt,[e("div",{class:"score",style:M({color:t.scoreColorFn((s=t.theLatestDataPreData)==null?void 0:s.TotalScore,t.sex)})},d((_=t.theLatestDataPreData)==null?void 0:_.TotalScore),5),a[3]||(a[3]=e("h5",null,"分",-1))])]),F(S,{score:t.theLatestDataPreData.TotalScore,colorProp:t.scoreColorFn((D=t.theLatestDataPreData)==null?void 0:D.TotalScore,t.sex)},null,8,["score","colorProp"]),e("h6",ft,[a[4]||(a[4]=O(" 嚴重程度 : ")),e("span",{style:M({color:t.scoreColorFn((o=t.theLatestDataPreData)==null?void 0:o.TotalScore,t.sex)})},d((n=t.theLatestDataPreData)==null?void 0:n.TotalRatio)+"("+d((j=t.theLatestDataPreData)==null?void 0:j.TotalDesc)+") ",5)])])):w("",!0)]),a[5]||(a[5]=e("img",{class:"doctorImg",src:st,alt:""},null,-1))]),a[6]||(a[6]=e("h4",{class:"textResultText"},"以下為分類系統的自律神經分析結果，僅供醫師參考，不具診斷功能．",-1)),e("div",vt,[(T(!0),I(V,null,Y(t.symptoms,(i,W)=>(T(),B(P,{key:W,symptomName:i.name,symptomDifference:i.difference,symptomSolve:i.solve,symptomRatio:i.ratio,symptomPreRatio:i.ratioPre,symptomDesc:i.desc,symptomPreDesc:i.descPre,theLatestHistory:t.theLatestHistory,theLatestHistoryPre:t.theLatestHistoryPre,sex:t.sex},null,8,["symptomName","symptomDifference","symptomSolve","symptomRatio","symptomPreRatio","symptomDesc","symptomPreDesc","theLatestHistory","theLatestHistoryPre","sex"]))),128))]),e("div",gt,[e("button",{class:"backToUserBtnWeekly",onClick:a[0]||(a[0]=(...i)=>t.backToUser&&t.backToUser(...i))}," 返回會員中心 ")])])],64)}const wt=at(rt,[["render",Pt]]);export{wt as default};
