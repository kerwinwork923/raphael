import{_ as O}from"./W3k4iq7y.js";import{r as l,E as q,M as z,j as Q,o as Z,g as E,v as D,x as _,O as H,H as d,y as e,S as k,z as n,A as I,B as U,N as W}from"./HfdH-K36.js";import{_ as Y}from"./CqYUwD82.js";import{_ as K}from"./BYaUl-Yl.js";import{N as X}from"./D4NOPrlv.js";import{_ as ee}from"./DlAUqK2U.js";/* empty css        */const te=""+new URL("A1.CJl9QDCF.png",import.meta.url).href,se=""+new URL("A2.BScTxs33.png",import.meta.url).href,ie=""+new URL("A3.CJthzP53.png",import.meta.url).href,oe=""+new URL("A4.CmjNT_-j.png",import.meta.url).href,le=""+new URL("A5.P1BMZHjB.png",import.meta.url).href,ne=""+new URL("B1.5pQ8tllo.png",import.meta.url).href,ae=""+new URL("B2.BkFPdVZZ.png",import.meta.url).href,re=""+new URL("B3.DwXs6m6o.png",import.meta.url).href,ue=""+new URL("B4.nDwk457c.png",import.meta.url).href,_e=""+new URL("B5.AJ3DcQR2.png",import.meta.url).href,pe=""+new URL("C1.S8b5Mx9Z.png",import.meta.url).href,me=""+new URL("C2.Bne2tCs-.png",import.meta.url).href,de=""+new URL("C3.BAU35Ru-.png",import.meta.url).href,ce=""+new URL("C4.BORwiaEn.png",import.meta.url).href,ge=""+new URL("C5._QHf1KQR.png",import.meta.url).href,fe=""+new URL("D1.aUEd4J2U.png",import.meta.url).href,ve=""+new URL("D2.BrNl1msA.png",import.meta.url).href,he=""+new URL("D3.Bzl_hw2F.png",import.meta.url).href,De=""+new URL("D4.BSJ8esV1.png",import.meta.url).href,we=""+new URL("D5.MRhgYV37.png",import.meta.url).href,Re=""+new URL("3dWatch.7-8bSxiy.svg",import.meta.url).href,be={class:"finishWrap"},Be={class:"finishGroup"},ke=["Text"],Ie={class:"titleGroup"},Ue={class:"textGroup"},Ce={class:"timeGroup"},Se={class:"imgGroup"},Le=["href"],Ae={class:"scanInfo"},ye={class:"row"},Ne=["src"],Te=["src"],Ve=["src"],He=["src"],Me={class:"personalizedSuggestions"},xe={key:0,class:"hideDetailWrap"},Fe={class:"hideDetailItem"},Pe={class:"hideDetailItem"},je={class:"hideDetailItem"},$e={class:"hideDetailItem"},Ge={class:"hideDetailItem"},Je={class:"hideDetailItem"},Oe={class:"hideDetailItem"},qe={class:"hideDetailItem"},ze={class:"hideDetailItem"},Qe={class:"hideDetailItem"},Ze={key:0,class:"subBtnGroup"},Ee={key:1,class:"subBtnGroup2"},We={key:2,class:"subBtnGroup2"},Ye={__name:"Finish",setup(Ke){const y=l(""),c=l(3),g=l(3),f=l(3),v=l(3),N=l("");l("");const R=l(!1),C=l(""),T=l(""),V=l(""),S=l(!1),L=l(!1),a=l({}),w=q(),M=z(),A=Q(()=>{if(a.value.CheckTime)return a.value.CheckTime.split(" ")[0];const s=new Date;return`${s.getFullYear()}/${String(s.getMonth()+1).padStart(2,"0")}/${String(s.getDate()).padStart(2,"0")}`}),b=(s,t)=>new URL(Object.assign({"../assets/imgs/tinified/A1.png":te,"../assets/imgs/tinified/A2.png":se,"../assets/imgs/tinified/A3.png":ie,"../assets/imgs/tinified/A4.png":oe,"../assets/imgs/tinified/A5.png":le,"../assets/imgs/tinified/B1.png":ne,"../assets/imgs/tinified/B2.png":ae,"../assets/imgs/tinified/B3.png":re,"../assets/imgs/tinified/B4.png":ue,"../assets/imgs/tinified/B5.png":_e,"../assets/imgs/tinified/C1.png":pe,"../assets/imgs/tinified/C2.png":me,"../assets/imgs/tinified/C3.png":de,"../assets/imgs/tinified/C4.png":ce,"../assets/imgs/tinified/C5.png":ge,"../assets/imgs/tinified/D1.png":fe,"../assets/imgs/tinified/D2.png":ve,"../assets/imgs/tinified/D3.png":he,"../assets/imgs/tinified/D4.png":De,"../assets/imgs/tinified/D5.png":we})[`../assets/imgs/tinified/${s}${t}.png`],import.meta.url).href,x=async()=>{try{S.value=!0;const s=JSON.parse(localStorage.getItem("userData")),t=w.query.AID;if(!s){console.warn("No user data found");return}const u={MID:s.MID,Token:s.Token,MAID:s.MAID,Mobile:s.Mobile,AID:t||""},o=await(await fetch("https://23700999.com:8081/HMA/api/fr/HRV3Detail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)})).json();console.log("HRV3 API 回傳：",o),a.value=o,o.UID&&(R.value=!0,V.value=o.UID,C.value=o.Flag,T.value=o.ProductName);const B=parseFloat(o.lf_hf),p=parseFloat(o.sdnn),m=parseInt(o.hbr),i=parseInt(o.rr),h=parseFloat(o.lf),$=parseFloat(o.hf),G=parseInt(o.sbp),J=parseInt(o.dbp);F(B,p,m,i,h,$,G,J),o.Desc&&(N.value=o.Desc)}catch(s){console.error("HRV3 API 錯誤：",s)}finally{S.value=!1}},F=(s,t,u,r,o,B,p,m)=>{if(s>2?c.value=5:s>1.5?c.value=4:s>=1?c.value=3:s>=.5?c.value=2:c.value=1,t<20?g.value=5:t<30?g.value=4:t<50?g.value=3:t<70?g.value=2:g.value=1,u&&r&&o&&B){let i=0;u>90?i+=5:u>80?i+=4:u>70?i+=3:u>60?i+=2:i+=1,r>18?i+=5:r>15?i+=4:r>12?i+=3:r>10?i+=2:i+=1;const h=o/B;h>2?i+=5:h>1.5?i+=4:h>1?i+=3:h>.5?i+=2:i+=1,i>=14?f.value=5:i>=12?f.value=4:i>=9?f.value=3:i>=5?f.value=2:f.value=1}p>145||m>95?v.value=5:p>=130||m>=85?v.value=4:p>=110&&p<=129&&m>=70&&m<=84?v.value=3:p>=95&&m>=60?v.value=2:v.value=1},P=()=>{L.value=!L.value},j=()=>{M.go(-1)};return Z(()=>{const s=JSON.parse(localStorage.getItem("userData"));s!=null&&s.Name&&(y.value=s.Name),x()}),(s,t)=>{const u=O,r=E("router-link");return _(),D(W,null,[S.value?(_(),H(u,{key:0})):d("",!0),e("div",be,[e("div",Be,[k(w).query.Version!=="Detail"?(_(),H(X,{key:0})):d("",!0),k(w).query.Version==="Detail"?(_(),D("div",{key:1,class:"finishTitleMenu",Text:A.value},[e("div",{class:"backIcon",onClick:j},t[0]||(t[0]=[e("img",{src:Y,alt:"back"},null,-1)])),e("h2",null,n(A.value),1)],8,ke)):d("",!0),e("div",Ie,[e("div",Ue,[e("h3",{class:"nameText",onClick:P},n(y.value)+"，您好",1),e("div",Ce,[t[1]||(t[1]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},[e("path",{d:"M7 13C10.3137 13 13 10.3137 13 7C13 3.68629 10.3137 1 7 1C3.68629 1 1 3.68629 1 7C1 10.3137 3.68629 13 7 13Z",stroke:"#666666","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M6.33325 4.33334V7.66668H9.66659",stroke:"#666666","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),e("h4",null,n(A.value),1)])]),e("div",Se,[e("a",{href:`/healthData/${k(w).query.AID}`},t[2]||(t[2]=[e("img",{src:Re,class:"watchImg"},null,-1)]),8,Le),t[3]||(t[3]=e("img",{src:K,class:"doctorImg",alt:""},null,-1))])]),e("div",Ae,[e("div",ye,[e("img",{src:b("A",c.value),alt:"自律神經平衡"},null,8,Ne),e("img",{src:b("B",g.value),alt:"生理疲勞"},null,8,Te),e("img",{src:b("C",f.value),alt:"心情指北針"},null,8,Ve),e("img",{src:b("D",v.value),alt:"血壓氣球"},null,8,He)]),e("div",Me,[t[4]||(t[4]=e("h3",null,"個人化建議",-1)),e("p",null,n(N.value),1)]),L.value?(_(),D("div",xe,[e("div",Fe,[t[5]||(t[5]=e("h4",null,"SBP(收縮壓)",-1)),e("p",null,n(a.value.sbp||"--"),1)]),e("div",Pe,[t[6]||(t[6]=e("h4",null,"DBP(舒張壓)",-1)),e("p",null,n(a.value.dbp||"--"),1)]),e("div",je,[t[7]||(t[7]=e("h4",null,"hbr(心率)",-1)),e("p",null,n(a.value.hbr||"--"),1)]),e("div",$e,[t[8]||(t[8]=e("h4",null,"rr (呼吸)",-1)),e("p",null,n(a.value.rr||"--"),1)]),e("div",Ge,[t[9]||(t[9]=e("h4",null,"SDNN",-1)),e("p",null,n(a.value.sdnn||"--"),1)]),e("div",Je,[t[10]||(t[10]=e("h4",null,"lf_hf (LF/HF)",-1)),e("p",null,n(a.value.lf_hf||"--"),1)]),e("div",Oe,[t[11]||(t[11]=e("h4",null,"spo2(血氧)",-1)),e("p",null,n(a.value.spo2||"--"),1)]),e("div",qe,[t[12]||(t[12]=e("h4",null,"RMSSD",-1)),e("p",null,n(a.value.rmssd||"--"),1)]),e("div",ze,[t[13]||(t[13]=e("h4",null,"af",-1)),e("p",null,n(a.value.af||"--"),1)]),e("div",Qe,[t[14]||(t[14]=e("h4",null,"fa(疲勞)",-1)),e("p",null,n(a.value.fa||"--"),1)])])):d("",!0)])]),!R.value&&k(w).query.Version!=="Detail"?(_(),D("div",Ze,[I(r,{to:"/HRVHistoryAll"},{default:U(()=>t[15]||(t[15]=[e("button",{class:"backToUserBtn"},"HRV歷史紀錄",-1)])),_:1}),I(r,{to:"/HRV"},{default:U(()=>t[16]||(t[16]=[e("button",{class:"backToDetect"},"重新檢測",-1)])),_:1})])):d("",!0),R.value&&C.value==="1"?(_(),D("div",Ee,[I(r,{to:`/usage/${T.value}`},{default:U(()=>t[17]||(t[17]=[e("button",{class:"backToUserBtn2"},"返回穿衣紀錄",-1)])),_:1},8,["to"])])):d("",!0),R.value&&C.value==="2"?(_(),D("div",We,[I(r,{to:`/usageHRVResult/${V.value}`},{default:U(()=>t[18]||(t[18]=[e("button",{class:"backToUserBtn2"},"看報告",-1)])),_:1},8,["to"])])):d("",!0)])],64)}}},nt=ee(Ye,[["__scopeId","data-v-a66cd3cd"]]);export{nt as default};
