import{C as I}from"./zbPE8Z49.js";import{u as T,r as l,o as w,v as n,x as i,A as G,y as s,I as u,T as A,$ as y,L as _,N,V as M,z as C}from"./HfdH-K36.js";import{_ as h,a as B}from"./LVasnhF1.js";import{_ as b}from"./C7_Xho3L.js";import{u as S}from"./BdfeuyLY.js";import{_ as U}from"./DlAUqK2U.js";const j={class:"addAddressWrap"},F={class:"addAddressGroup1"},L={class:"nameGroup"},R={class:"phoneGroup"},$={class:"addAddressGroup2"},z={class:"addressGroup"},E={class:"city"},O=["value"],P={class:"area"},H=["value"],J={class:"address"},W={__name:"addAddress",setup(X){const g=T(),r=JSON.parse(localStorage.getItem("userData")),v=l([]),d=l(""),o=l(""),m=l([]),p=l(""),c=l(r.Name),f=l(r.Mobile),D=async function(){await S("https://23700999.com:8081/HMA/api/fr/maNewCName",{method:"POST",body:{MID:r.MID,Token:r.Token,MAID:r.MAID,Mobile:r.Mobile,RName:c.value,RMobile:f.value,Address:d.value+o.value+p.value}},"$ojoAV1uX6t")},k=async function(){if(!d.value){alert("請選擇縣市");return}if(!o.value){alert("請選擇鄉鎮地區");return}if(!p.value){alert("請輸入地址");return}await D(),g.push("/cart/payMethod")};w(async()=>{try{const a=await fetch("/AllData.json");a.ok?v.value=await a.json():console.error("Failed to load city data:",a.status)}catch(a){console.error("Error loading city data:",a)}});function V(){const a=v.value.find(e=>e.CityName===d.value);m.value=a?a.AreaList:[],m.value.some(e=>e.AreaName===o.value)||(o.value="")}return(a,e)=>{const x=I;return i(),n("div",j,[G(x,{title:"新增地址",backPath:"/cart/payMethod"}),e[11]||(e[11]=s("h5",null,"收件人",-1)),s("div",F,[s("div",L,[e[5]||(e[5]=s("img",{class:"icon1",src:h,alt:""},null,-1)),u(s("input",{type:"text",placeholder:"請輸入您的姓名(暱稱)","onUpdate:modelValue":e[0]||(e[0]=t=>c.value=t)},null,512),[[A,c.value]])]),s("div",R,[e[6]||(e[6]=s("img",{class:"icon1",src:B,alt:""},null,-1)),u(s("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>f.value=t)},null,512),[[A,f.value]])])]),e[12]||(e[12]=s("h5",null,"寄送地址",-1)),s("div",$,[s("div",z,[s("div",E,[u(s("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>d.value=t),class:_({selected:d.value}),onChange:V},[e[7]||(e[7]=s("option",{value:"",disabled:"",selected:"",hidden:""},"縣市",-1)),(i(!0),n(N,null,M(v.value,t=>(i(),n("option",{key:t.CityName,value:t.CityName},C(t.CityName),9,O))),128))],34),[[y,d.value]]),e[8]||(e[8]=s("img",{class:"icon2",src:b},null,-1))]),s("div",P,[u(s("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.value=t),class:_({selected:o.value})},[e[9]||(e[9]=s("option",{value:"",disabled:"",selected:"",hidden:""},"鄉鎮地區",-1)),(i(!0),n(N,null,M(m.value,t=>(i(),n("option",{key:t.AreaName,value:t.AreaName},C(t.AreaName),9,H))),128))],2),[[y,o.value]]),e[10]||(e[10]=s("img",{class:"icon2",src:b},null,-1))]),s("div",J,[u(s("input",{type:"text",placeholder:"輸入地址","onUpdate:modelValue":e[4]||(e[4]=t=>p.value=t)},null,512),[[A,p.value]])])])]),s("div",{class:"btnGroup"},[s("button",{onClick:k},"確認")])])}}},se=U(W,[["__scopeId","data-v-f2678b70"]]);export{se as default};
