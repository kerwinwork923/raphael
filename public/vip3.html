<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>æ™ºå¹³è¡¡è¨‚è£½å¥åº·å…±å‰µæœªä¾†ç™¼è¡¨æœƒ</title>
  <style>
    :root {
      --deep: #0f3b3b;
      --ink: #1f2a37;
      --gold: #c9a14a;
      --muted: #6b7280;
      --bg: #ffffff;
      --chip: #f8f4ea;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: "PingFang TC","Microsoft JhengHei",sans-serif;
      background: var(--bg);
      color: var(--ink);
      line-height: 1.7;
      overflow-x: hidden;
    }
    .gold-bg { position: relative; isolation: isolate; }
    .gold-svg { position: absolute; inset: 0; z-index: -1; opacity: .85; pointer-events: none; }
    header { text-align: center; padding: 50px 16px 24px; }
    .logo { width: 120px; margin-bottom: 16px; border-radius: 50%; box-shadow: 0 0 8px rgba(201,161,74,.3); }
    h1 { font-size: clamp(26px,4vw,38px); font-weight: 800; color: var(--deep); margin-bottom: 10px; }
    .subtitle { color: #8b6a2d; font-weight: 600; font-size: clamp(14px,2.5vw,17px); line-height: 1.8; margin: 0 auto; max-width: 640px; }
    .video-wrap { display: flex; justify-content: center; background: var(--chip); border-top: 1px solid rgba(201,161,74,.3); border-bottom: 1px solid rgba(201,161,74,.3); padding: 24px 8px; }
    video { width: 90%; aspect-ratio: 16/9; max-width: 780px; border-radius: 12px; box-shadow: 0 8px 24px rgba(0,0,0,0.15); }
    .section { padding: 50px 20px; }
    .container { max-width: 1100px; margin: 0 auto; }
    .title { font-size: clamp(22px,3vw,28px); text-align: center; color: var(--deep); margin-bottom: 20px; position: relative; }
    .title::after { content: ""; display: block; width: 100px; height: 3px; background: linear-gradient(90deg,transparent,var(--gold),transparent); margin: 10px auto 0; border-radius: 2px; }
    .grid { display: grid; grid-template-columns: repeat(auto-fit,minmax(240px,1fr)); gap: 16px; }
    .feature { background: #fff; border: 1px solid rgba(201,161,74,.35); border-radius: 14px; padding: 18px; text-align: center; }
    .feature h3 { color: var(--deep); margin: 6px 0 4px; font-size: 18px; }
    .feature p { color: var(--muted); font-size: 14px; }
    .card { background: #fff; border-radius: 16px; padding: 28px; border: 1px solid rgba(201,161,74,.35); box-shadow: 0 12px 36px rgba(17,24,39,.06); }
    .hl { list-style: none; margin: 8px 0 0; padding: 0; }
    .hl li { padding: 8px 0 8px 20px; border-bottom: 1px dashed rgba(201,161,74,.35); position: relative; }
    .hl li::before { content: "â—†"; color: var(--gold); position: absolute; left: 0; top: 8px; }
    .count { display: flex; justify-content: center; gap: 12px; flex-wrap: wrap; margin-top: 14px; }
    .count .box { min-width: 80px; text-align: center; background: var(--chip); border: 1px solid rgba(201,161,74,.35); border-radius: 10px; padding: 10px 8px; }
    .count .n { font-size: 24px; font-weight: 800; color: var(--deep); }
    .cta { display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; margin-top: 16px; }
    .btn { padding: 10px 20px; border-radius: 999px; border: 2px solid var(--gold); background: var(--deep); color: #fff; font-weight: 700; text-decoration: none; transition: .2s; }
    .btn:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(201,161,74,.25); }
    .muted { color: var(--muted); }
    .agenda ul { list-style: none; margin: 0; padding: 0; }
    .agenda li { padding: 6px 0 6px 20px; position: relative; color: #333; }
    .agenda li::before { content: "â—"; color: var(--gold); position: absolute; left: 0; top: 8px; }
    .form-field { margin-bottom: 14px; }
    label { font-weight: 600; color: var(--deep); display: block; margin-bottom: 6px; }
    input, textarea { width: 100%; padding: 10px 12px; border: 1px solid #ccc; border-radius: 8px; font-size: 15px; }
    textarea { resize: vertical; }
    button.submit { margin-top: 12px; padding: 12px 22px; border: none; border-radius: 999px; background: var(--gold); color: var(--deep); font-weight: 700; font-size: 16px; cursor: pointer; transition: .2s; }
    button.submit:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(201,161,74,.25); }
    footer { border-top: 1px solid rgba(201,161,74,.3); padding: 24px 18px; text-align: center; color: var(--muted); background: linear-gradient(135deg,rgba(201,161,74,.08),rgba(255,255,255,0)); }
    @media(max-width:768px){ .section{padding:36px 14px;} header{padding:36px 12px 12px;} video{width:100%;} }
  </style>
</head>
<body class="gold-bg">
  <svg class="gold-svg" viewBox="0 0 1200 800" preserveAspectRatio="none" aria-hidden="true">
    <defs><linearGradient id="g" x1="0" y1="0" x2="1" y2="1"><stop offset="0%" stop-color="#e9d9b0" stop-opacity="0"/><stop offset="40%" stop-color="#d9c491" stop-opacity=".55"/><stop offset="100%" stop-color="#c9a14a" stop-opacity=".9"/></linearGradient></defs>
    <g fill="none" stroke="url(#g)" stroke-width="3">
      <path d="M-50,60 L600,420 L1250,-10" />
      <path d="M-100,720 L740,260 L1250,500" />
      <path d="M-50,380 L420,10 L1250,260" />
      <path d="M-10,560 L380,280 L1200,720" />
    </g>
  </svg>

  <header>
    <img src="https://i.pinimg.com/736x/89/6d/93/896d9311bb3fb31441530bc508b16f73.jpg" class="logo" />
    <h1>æ™ºå¹³è¡¡å¥åº·é›†åœ˜ WiseBalance</h1>
    <p class="subtitle">
      è®“æˆ‘å€‘ä¸€èµ·å®šç¾©æ–°çš„å¥åº·åƒ¹å€¼ã€‚<br>
      é€™ä»½é‚€è«‹ï¼Œåªç»çµ¦é¡˜æ„ç†è§£è‡ªå·±èº«é«”èªè¨€çš„æ‚¨ã€‚<br><br>
      æ™ºå¹³è¡¡ç›¸ä¿¡ï¼Œå¥åº·ä¸è©²è¢«æ™‚é–“èˆ‡ç©ºé–“é™åˆ¶ï¼Œ<br>
      è€Œæ˜¯ä¸€å ´è¢«ç†è§£ã€è¢«è¨‚è£½çš„æ—…ç¨‹ã€‚
    </p>
  </header>


 <section class="video-wrap">
  <div style="position:relative;width:100%;max-width:900px;aspect-ratio:16/9;border-radius:12px;overflow:hidden;box-shadow:0 8px 24px rgba(0,0,0,.15);background:#000;">
    <iframe
      src="https://www.youtube-nocookie.com/embed/dGWGaTpZBQY?autoplay=1&mute=1&playsinline=1&controls=1&modestbranding=1&rel=0"
      title="YouTube video"
      allow="autoplay; encrypted-media; picture-in-picture; fullscreen"
      allowfullscreen
      style="position:absolute;inset:0;border:0;width:100%;height:100%;"
    ></iframe>
  </div>
</section>

<section class="section container">
    <div class="card" id="vip">
      <h2 class="title" style="margin-top:0">11/28ï¼ˆäº”ï¼‰å°åŒ—æ™¶è¯é…’åº—ï½œVIP é‚€è«‹ç››å®´</h2>
      <ul class="hl">
        <li>åŸ·è¡Œé•·å°ˆæ¥­æ¼”èªªï¼šå¾ CNTãƒ»AI åˆ°é‡å­å¥åº·çš„è‡¨åºŠæ‡‰ç”¨</li>
        <li>ç¬¬å…­ä»£ç´…å…‰æ¥µæ™ºè¡£ç¾å ´å±•ç¤ºèˆ‡é«”é©—</li>
        <li>è­·æ‚¨ç©©å¹³è¡¡è¡£ï¼šè®“å¥åº·ä¿é¤Šåœ¨ç¡çœ ä¸­è‡ªå‹•ç™¼ç”Ÿ</li>
      </ul>
      <div class="count" id="countdown">
        <div class="box"><span class="n" id="d">--</span><div class="muted">å¤©</div></div>
        <div class="box"><span class="n" id="h">--</span><div class="muted">æ™‚</div></div>
        <div class="box"><span class="n" id="m">--</span><div class="muted">åˆ†</div></div>
        <div class="box"><span class="n" id="s">--</span><div class="muted">ç§’</div></div>
      </div>
      <div class="cta"><a href="#form" class="btn">ä¿ç•™å¸­æ¬¡</a></div>
    </div>
  </section>
  
  <section class="section container" style="padding:30px 0 20px;">
    <p style="text-align:center;color:#444;margin:0 auto;max-width:680px;line-height:1.8;font-size:16px;">
      åœ¨é€™å ´æ—…ç¨‹ä¸­ï¼Œç§‘æŠ€ä¸åªæ˜¯æ•¸æ“šèˆ‡åˆ†æï¼Œ<br>
      è€Œæ˜¯èƒ½ã€Œæ„Ÿå—ä½ ã€çš„å¤¥ä¼´ã€‚<br>
      <strong>AI ä¸èªªæ•™ï¼Œåªæ‡‚ä½ ã€‚</strong><br>
      è®“å¥åº·ï¼Œå›åˆ°ç”Ÿæ´»çš„ç¯€å¥è£¡ã€‚
    </p>
  </section>

  <section class="section container">
    <h2 class="title">ç¾å ´é¦–åº¦å…¬é–‹ï¼šè®“ç§‘æŠ€æ‡‚ä½ ã€è®“å¥åº·ç‚ºä½ è¨‚è£½</h2>
    <div class="grid">
      <div class="feature"><div>ğŸ¤</div><h3>åŸ·è¡Œé•· Keynote</h3><p>ç•¶ç§‘æŠ€é–‹å§‹ç†è§£äºº</p></div>
      <div class="feature"><div>ğŸ§¥</div><h3>ç¬¬å…­ä»£ç´…å…‰æ¥µæ™ºè¡£</h3><p>é‡èº«æ„ŸçŸ¥çš„æ™ºæ…§è¡£</p></div>
      <div class="feature"><div>ğŸ˜´</div><h3>è­·æ‚¨ç©©å¹³è¡¡è¡£</h3><p>è®“ç¡çœ è‡ªå·±æ‡‚å¾—ä¿®å¾©</p></div>
      <div class="feature"><div>ğŸ¤–</div><h3>AI æ™ºæ…§ç…§è­·</h3><p>è®“é—œå¿ƒè·¨è¶Šè·é›¢</p></div>
    </div>
  </section>

  <section class="section container agenda">
    <h2 class="title">æ´»å‹•è­°ç¨‹</h2>
    <div class="card">
      <ul>
        <li>12:30â€“13:00 å…¥å¸­ï¼†è¿è³“ï½œVIP å°ˆå±¬æ¥å¾…ï¼Œä»»å‹™å¤§æŒ‘æˆ°</li>
        <li>13:00â€“14:00 åŸ·è¡Œé•· Keynoteï½œå¾ç›¸æ‡‰ç¥ç¶“èª¿ç¯€ç™‚æ³•åˆ°AIé‡å­å¥åº·çš„è‡¨åºŠæ‡‰ç”¨</li>
        <li>14:00â€“15:00 æ–°å“å±•ç¤ºï¼†é«”é©—ï½œç¬¬å…­ä»£ç´…å…‰æ¥µæ™ºè¡£ã€è­·æ‚¨ç©©å¹³è¡¡è¡£</li>
        <li>15:00â€“16:00 VIP å•èˆ‡ç­”ï¼†å°ˆå±¬ç¦®é‡ï½œä¸€å°ä¸€è«®è©¢ï¼†æœƒå“¡æ¬Šç›Šä»‹ç´¹</li>
      </ul>
    </div>
  </section>


  <section id="form" class="section container">
    <h2 class="title">VIP å ±åè¡¨å–®</h2>
    <form class="card" onsubmit="submitForm(event)">
      <div class="form-field"><label>å§“å *</label><input type="text" name="Name" required placeholder="è«‹è¼¸å…¥æ‚¨çš„å§“å" /></div>
      <div class="form-field"><label>æ‰‹æ©Ÿ </label><input type="tel" name="Mobile"  placeholder="0912345678" /></div>
      <div class="form-field"><label>å…¶ä»–éœ€æ±‚æˆ–å‚™è¨»</label><textarea name="Note" rows="4" placeholder="å¦‚æœ‰ç‰¹æ®Šéœ€æ±‚ï¼Œè«‹å‘Šè¨´æˆ‘å€‘..."></textarea></div>
      <button class="submit" type="submit">ç¢ºèªé€å‡º</button>
      <div id="ok" style="display:none;margin-top:12px;color:#2b9348;font-weight:700;text-align:center;">âœ“ å ±åæˆåŠŸï¼å·²å¯„å‡ºç¢ºèªä¿¡ã€‚</div>
    </form>
  </section>

  <footer>Â© 2025 æ™ºå¹³è¡¡å¥åº·é›†åœ˜ â€” è¨‚è£½å¥åº·ï¼Œå¾ç†è§£é–‹å§‹ã€‚</footer>

  <script>
    const API_LOG_EVENT = "http://23700999.com/NRS/000TTELOG_EVENT.jsp";
    const API_REGISTER  = "http://23700999.com/NRS/000TTERegister.jsp";
    const EventType="vip3";
  	let vipId = new URLSearchParams(location.search).get("vip") || "unknown";
   //vipId="1111";
    console.log("vipId="+vipId);
	  logEvent("leadingpage", EventType);
    
	async function logEvent(Event, EventType) {
      const payload = {SafeKey:"qrt897hpmd", VIP: vipId, Event, EventType} ;
      console.log("payload1="+JSON.stringify(payload, null, 1));
       // 1) å…ˆå˜—è©¦ sendBeaconï¼ˆPOSTï¼ŒContent-Type: text/plain; charset=UTF-8ï¼‰
      try {
           const ok = navigator.sendBeacon(API_LOG_EVENT, new Blob(
           [JSON.stringify(payload)], { type: "text/plain;charset=UTF-8" }
          ));
          if (ok) {console.info("[logEvent] sendBeacon sent");return;}     
      } catch (e) {
         console.warn("[logEvent] sendBeacon failed, fallback to fetch no-cors", e);
       }
      // 2) fallback: simple requestï¼ˆno-cors + text/plain â†’ ä¸æœƒ preflightï¼‰
       try {
             await fetch(API_LOG_EVENT, {
               method: "POST",
               mode: "no-cors",
               headers: { "Content-Type": "text/plain;charset=UTF-8" }, // æ³¨æ„ï¼šä¸è¦ application/json
               body: new Blob([JSON.stringify(payload)], { type: "text/plain;charset=UTF-8" }),
               keepalive: true,
               });
              console.info("[logEvent] fetch(no-cors) sent (opaque response)");
        } catch (err) {
             console.error("[logEvent] still failed:", err);
          }
     }

     async function registerSignup({ Name, Mobile, Email, Note }) {
  const payload = {
    SafeKey: "qrt897hpmd",
    VIP: vipId,
    Name, Mobile, Email, Note,
    EventType
  };
  console.log("[registerSignup] payload =", JSON.stringify(payload, null, 2));

  // 1) å…ˆç”¨ sendBeaconï¼ˆä¸å¯è®€å›æ‡‰ï¼Œä½†èƒ½é€é”ï¼‰
  try {
    const ok = navigator.sendBeacon(
      API_REGISTER,
      new Blob([JSON.stringify(payload)], { type: "text/plain;charset=UTF-8" })
    );
    if (ok) {
      console.info("[registerSignup] delivered via sendBeacon");
      return { delivered: true, mode: "beacon" };
    }
  } catch (e) {
    console.warn("[registerSignup] sendBeacon failed, fallback to fetch no-cors", e);
  }

  // 2) å†ç”¨ fetch(no-cors)ï¼ˆopaqueï¼Œè¦–ç‚ºé€é”ï¼‰
  try {
    await fetch(API_REGISTER, {
      method: "POST",
      mode: "no-cors",
      headers: { "Content-Type": "text/plain;charset=UTF-8" },
      body: new Blob([JSON.stringify(payload)], { type: "text/plain;charset=UTF-8" }),
      keepalive: true,
    });
    console.info("[registerSignup] delivered via fetch(no-cors)");
    return { delivered: true, mode: "no-cors" };
  } catch (err) {
    console.error("[registerSignup] all methods failed:", err);
    return { delivered: false, mode: "no-cors" };
  }
}

    document.querySelectorAll('a[href="#form"]').forEach(btn => {
    btn.addEventListener("click", (e) => {
        e.preventDefault(); // é˜»æ­¢é è¨­è·³è½‰è¡Œç‚º
        logEvent("click_register", EventType);
    // 2ï¸âƒ£ å¹³æ»‘æ»¾å‹•è‡³è¡¨å–®
      const formSection = document.querySelector("#form");
      if (formSection) formSection.scrollIntoView({ behavior: "smooth", block: "start" });

      // âš ï¸ é€™è£¡æ”¹ç‚º Nameï¼ˆåŸæœ¬æ˜¯ nameï¼‰
      const firstInput = document.querySelector('#form input[name="Name"]');
      if (firstInput) setTimeout(() => firstInput.focus({ preventScroll: true }), 400);
  
  });
});
//document.querySelectorAll('form input, form textarea').forEach(el => el.addEventListener("input", () => logEvent("input_field", { name: el.name }), { once: true }));

    const target = new Date("2025-11-28T13:00:00+08:00").getTime();
    function tick(){ 
	const diff=Math.max(0,target-Date.now()); 
	const s=Math.floor(diff/1000); 
	const d=Math.floor(s/86400),h=Math.floor((s%86400)/3600),m=Math.floor((s%3600)/60),ss=s%60; ["d","h","m","s"].forEach((k,i)=>{const v=[d,h,m,ss][i]; 
	const el=document.getElementById(k); 
	if(el) el.textContent=String(v).padStart(2,"0");});
	}
    tick(); setInterval(tick,1000);

   // ç°¡å–®å½ˆçª—ï¼ˆä¸æƒ³è‡ªè¨‚ UI ä¹Ÿå¯ç”¨ alertï¼‰
  function showSuccess() {
    alert("å ±åæˆåŠŸï¼æœŸå¾…æ‚¨çš„ä¸€èµ·è¨‚è£½å¥åº·å…±å‰µæœªä¾†!");
  }

  function showError(msg = "å ±åå¿™ç¢Œä¸­ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚") {
    alert(msg);
  }

  async function submitForm(event) {
    event.preventDefault();

    const f = event.target;
    const data = Object.fromEntries(new FormData(f).entries());
    const { Name = "", Mobile = "", Email = "", Note = "" } = data;

    const btn = f.querySelector('button[type="submit"]');
    const old = btn.textContent;
    btn.disabled = true;
    btn.textContent = "é€å‡ºä¸­â€¦";

    try {
      // äº‹ä»¶ä¸Šå ±ï¼ˆä¸å½±éŸ¿æµç¨‹ï¼‰
      const logP = logEvent("submit_form", EventType);

      // å ±åï¼šå…è¨± CORS / beacon / no-cors ä¸‰ç¨®è·¯å¾‘
      const result = await registerSignup({ Name, Mobile, Email, Note });
      await Promise.allSettled([logP]);

      const delivered = !!(result && result.delivered); // â† é˜²æ­¢ undefined
    if (delivered) {
      localStorage.setItem("vip_form", JSON.stringify({ ts: Date.now(), vip: vipId, ...data }));
      showSuccess();
      // f.reset(); // éœ€è¦å°±é–‹
    } else {
      showError();
    }
  } catch (err) {
    console.error("[submitForm] unexpected error:", err);
    showError("ç³»çµ±å¿™ç¢Œä¸­ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚");
  } finally {
    btn.disabled = false;
    btn.textContent = old;
  }
  }

    const videoEl=document.querySelector("video");
    if (videoEl) {
  let started = false;
  let watched50 = false;
  let completed = false;

  // ç¬¬ä¸€æ¬¡æ’­æ”¾
  videoEl.addEventListener("play", () => {
    if (!started) {
      started = true;
     // logEvent("video_play", EventType);
    }
  });

  // åªåµæ¸¬ 50%
  videoEl.addEventListener("timeupdate", () => {
    const p = (videoEl.currentTime / videoEl.duration) * 100;
    if (!watched50 && p >= 50) {
      watched50 = true;
     // logEvent("video_progress50", EventType);
      console.log("ğŸ¯ Video reached 50%");
    }
  });

  // æ’­æ”¾çµæŸï¼ˆ100%ï¼‰
  videoEl.addEventListener("ended", () => {
  if (!completed) {
    completed = true;
    logEvent("video_complete", EventType);
    console.log("âœ… Video completed");
  }
});
}
  </script>
</body>
</html>
