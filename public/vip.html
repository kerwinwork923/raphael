<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ™ºå¹³è¡¡å¥åº·é›†åœ˜ - VIP å°ˆå±¬é‚€è«‹</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #2c5f7d;
            --secondary: #4a9fb8;
            --accent: #7ec8a3;
            --gold: #d4af37;
            --text-dark: #2d3748;
            --text-light: #718096;
            --bg-light: #f7fafc;
            --white: #ffffff;
        }

        body {
            font-family: 'Microsoft JhengHei', 'PingFang TC', sans-serif;
            color: var(--text-dark);
            line-height: 1.6;
            overflow-x: hidden;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        /* Hero Section */
        .hero {
            position: relative;
            min-height: 50vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: var(--white);
            text-align: center;
            padding: 2rem;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 600"><path d="M0,300 Q300,100 600,300 T1200,300 L1200,600 L0,600 Z" fill="rgba(255,255,255,0.05)"/></svg>') no-repeat bottom;
            background-size: cover;
        }

        .hero-content {
            position: relative;
            z-index: 1;
            max-width: 900px;
            animation: fadeInUp 1s ease;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .hero h1 {
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: 700;
            margin-bottom: 1.5rem;
            line-height: 1.2;
        }

        .hero h2 {
            font-size: clamp(1.1rem, 2.5vw, 1.5rem);
            font-weight: 300;
            margin-bottom: 3rem;
            opacity: 0.95;
            line-height: 1.6;
        }

        .cta-group {
            display: flex;
            gap: 1.5rem;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 2rem;
        }

        .btn {
            padding: 1rem 2.5rem;
            font-size: 1.1rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            text-decoration: none;
            display: inline-block;
        }

        .btn-primary {
            background: var(--gold);
            color: var(--text-dark);
            box-shadow: 0 10px 30px rgba(212, 175, 55, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(212, 175, 55, 0.4);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.2);
            color: var(--white);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-3px);
        }

        .hero-note {
            font-size: 0.95rem;
            opacity: 0.85;
            max-width: 700px;
            margin: 2rem auto 0;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }

        /* Section Styles */
        .section {
            padding: 5rem 2rem;
        }

        .section-alt {
            background: var(--bg-light);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-title {
            text-align: center;
            font-size: clamp(1.8rem, 4vw, 2.5rem);
            margin-bottom: 3rem;
            color: var(--primary);
        }

        /* Science Section */
        .science-box {
            background: var(--white);
            border-radius: 20px;
            padding: 3rem;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
        }

        .science-content-wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            align-items: center;
            margin-bottom: 2rem;
        }

        .science-image {
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        @media (max-width: 968px) {
            .science-content-wrapper {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
        }

        .science-list {
            list-style: none;
            margin: 0;
        }

        .science-list li {
            padding: 1.5rem;
            margin-bottom: 1rem;
            background: linear-gradient(to right, var(--bg-light), var(--white));
            border-left: 4px solid var(--accent);
            border-radius: 10px;
            font-size: 1.1rem;
            animation: slideInLeft 0.5s ease;
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .science-note {
            margin-top: 2rem;
            padding: 1rem;
            background: var(--bg-light);
            border-radius: 10px;
            font-size: 0.9rem;
            color: var(--text-light);
            text-align: center;
        }

        /* Video Section */
        .video-container {
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
            margin: 2rem 0;
        }

        .video-container iframe,
        .video-container video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .video-placeholder {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-size: 1.5rem;
        }

        /* Event Card */
        .event-card {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: var(--white);
            border-radius: 20px;
            padding: 3rem;
            box-shadow: 0 20px 60px rgba(44, 95, 125, 0.3);
            position: relative;
            overflow: hidden;
        }

        .event-card::before {
            content: 'âœ¦';
            position: absolute;
            top: -20px;
            right: -20px;
            font-size: 200px;
            opacity: 0.1;
        }

        .event-title {
            font-size: clamp(1.5rem, 3vw, 2rem);
            margin-bottom: 2rem;
            border-bottom: 2px solid rgba(255, 255, 255, 0.3);
            padding-bottom: 1rem;
        }

        .event-highlights {
            list-style: none;
            margin: 2rem 0;
        }

        .event-highlights li {
            padding: 1rem 0;
            padding-left: 2rem;
            position: relative;
            font-size: 1.1rem;
        }

        .event-highlights li::before {
            content: 'â—†';
            position: absolute;
            left: 0;
            color: var(--gold);
        }

        .countdown {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin: 2rem 0;
            flex-wrap: wrap;
        }

        .countdown-item {
            text-align: center;
            background: rgba(255, 255, 255, 0.1);
            padding: 1.5rem;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            min-width: 100px;
        }

        .countdown-number {
            font-size: 2.5rem;
            font-weight: 700;
            display: block;
        }

        .countdown-label {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-top: 0.5rem;
        }

        /* Form Styles */
        .form-container {
            background: var(--white);
            border-radius: 20px;
            padding: 3rem;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
            max-width: 700px;
            margin: 3rem auto;
        }

        .form-step {
            display: none;
        }

        .form-step.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .form-group {
            margin-bottom: 2rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--primary);
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 1rem;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--secondary);
            box-shadow: 0 0 0 3px rgba(74, 159, 184, 0.1);
        }

        .form-progress {
            display: flex;
            justify-content: space-between;
            margin-bottom: 3rem;
        }

        .progress-step {
            flex: 1;
            text-align: center;
            position: relative;
            padding: 1rem 0;
        }

        .progress-step::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 0;
            right: 0;
            height: 2px;
            background: #e2e8f0;
            z-index: 0;
        }

        .progress-step:first-child::before {
            left: 50%;
        }

        .progress-step:last-child::before {
            right: 50%;
        }

        .progress-indicator {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #e2e8f0;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            position: relative;
            z-index: 1;
            font-weight: 700;
            transition: all 0.3s ease;
        }

        .progress-step.active .progress-indicator {
            background: var(--secondary);
            color: var(--white);
        }

        .progress-step.completed .progress-indicator {
            background: var(--accent);
            color: var(--white);
        }

        /* Case Studies */
        .cases-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }

        .case-card {
            background: var(--white);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .case-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.12);
        }

        .case-thumbnail {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, var(--secondary), var(--accent));
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-size: 3rem;
            position: relative;
        }

        .case-lock {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 4rem;
            opacity: 0.3;
        }

        .case-content {
            padding: 1.5rem;
        }

        .case-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--primary);
        }

        .case-desc {
            color: var(--text-light);
            font-size: 0.95rem;
            margin-bottom: 1rem;
        }

        .case-duration {
            font-size: 0.85rem;
            color: var(--text-light);
            background: var(--bg-light);
            padding: 0.5rem 1rem;
            border-radius: 5px;
            display: inline-block;
        }

        /* Benefits Grid */
        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }

        .benefit-card {
            background: var(--white);
            border-radius: 15px;
            padding: 2rem;
            text-align: center;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
        }

        .benefit-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.12);
        }

        .benefit-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .benefit-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--primary);
        }

        .benefit-desc {
            color: var(--text-light);
            font-size: 0.95rem;
        }

        /* Timeline */
        .timeline {
            position: relative;
            padding: 2rem 0;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--accent);
            transform: translateX(-50%);
        }

        .timeline-item {
            display: flex;
            margin-bottom: 2rem;
            position: relative;
        }

        .timeline-item:nth-child(odd) {
            flex-direction: row-reverse;
        }

        .timeline-content {
            flex: 1;
            padding: 1.5rem;
            background: var(--white);
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            margin: 0 2rem;
        }

        .timeline-time {
            font-weight: 700;
            color: var(--secondary);
            margin-bottom: 0.5rem;
        }

        /* Footer */
        .footer {
            background: var(--text-dark);
            color: var(--white);
            padding: 3rem 2rem;
            text-align: center;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .footer-links a {
            color: var(--white);
            text-decoration: none;
            opacity: 0.8;
            transition: opacity 0.3s ease;
        }

        .footer-links a:hover {
            opacity: 1;
        }

        /* Success Message */
        .success-message {
            display: none;
            background: linear-gradient(135deg, var(--accent), var(--secondary));
            color: var(--white);
            padding: 3rem;
            border-radius: 20px;
            text-align: center;
            margin: 2rem 0;
        }

        .success-message.show {
            display: block;
            animation: bounceIn 0.5s ease;
        }

        @keyframes bounceIn {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-20px); }
            60% { transform: translateY(-10px); }
        }

        .success-message h3 {
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .success-code {
            font-size: 2.5rem;
            font-weight: 700;
            margin: 1.5rem 0;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            letter-spacing: 3px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero {
                min-height: 50vh;
            }

            .section {
                padding: 3rem 1rem;
            }

            .timeline::before {
                left: 20px;
            }

            .timeline-item {
                flex-direction: column !important;
            }

            .timeline-content {
                margin-left: 3rem;
                margin-right: 0;
            }

            .cta-group {
                flex-direction: column;
            }

            .btn {
                width: 100%;
            }
        }

        /* Checkbox Style */
        .checkbox-group {
            display: flex;
            align-items: flex-start;
            gap: 0.5rem;
        }

        .checkbox-group input[type="checkbox"] {
            margin-top: 0.3rem;
            width: auto;
        }

        /* Exit Intent Popup */
        .exit-popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--white);
            padding: 3rem;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            max-width: 500px;
            text-align: center;
        }

        .exit-popup.show {
            display: block;
            animation: zoomIn 0.3s ease;
        }

        @keyframes zoomIn {
            from {
                transform: translate(-50%, -50%) scale(0.8);
                opacity: 0;
            }
            to {
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
            }
        }

        .popup-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
        }

        .popup-overlay.show {
            display: block;
        }

        .close-popup {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 2rem;
            cursor: pointer;
            color: var(--text-light);
        }
    </style>
</head>
<body>
    <!-- Page 1: Landing Page -->
    <div id="page1" class="page active">
        <!-- Hero Section -->
        <section class="hero">
            <div class="hero-content">
                <h1>æˆ‘å€‘é™ªä¼´ç„¡æ•¸äººèµ°å‡ºé•·æœŸç—…ç—›çš„é™°éœ¾</h1>
                <h2>é‚£äº›åƒè—¥æ²»ä¸å¥½ã€ä¸æƒ³å†åƒè—¥çš„æ‚¨<br>é€éã€Œç›¸æ‡‰ç¥ç¶“èª¿ç¯€ç™‚æ³•ã€<br>é‡æ–°æ‰¾å›ç”Ÿå‘½çš„ç¯€å¥èˆ‡å¸Œæœ›</h2>
                <div class="hero-note">
                    æ‚¨ä¸æ˜¯ä¸€å€‹äººã€‚äºŒåå¤šå¹´ä¾†ï¼Œæˆ‘å€‘èˆ‡è¶…éåè¬åç—…æ‚£ä¸¦è‚©åŒè¡Œï¼Œè¦‹è­‰è‡ªå¾‹ç¥ç¶“å¹³è¡¡å¸¶ä¾†çš„æ”¹è®Šã€‚
                </div>
            </div>
        </section>

        <!-- Science Section -->
          <!-- Science Section -->
        <section class="section">
            <div class="container">
                <h2 class="section-title">å¾é‡å­åˆ°å…ç–«ï¼Œå°è­‰æˆ‘å€‘çš„å …æŒ</h2>
                <div class="science-box">
                    <div class="science-content-wrapper">
                        <ul class="science-list">
                            <li><strong>2025 è«¾è²çˆ¾ç‰©ç†çï¼š</strong>é‡å­ç³¾çºæ­ç¤ºé—œè¯æ€§çš„æ–°è¦–è§’</li>
                            <li><strong>2025 è«¾è²çˆ¾é†«å­¸çï¼š</strong>èº«é«”å‘¨é‚Šå…ç–«ç³»çµ±åœ¨ä¿®å¾©ä¸­çš„é—œéµè§’è‰²</li>
                            <li><strong>æˆ‘å€‘çš„æ´è¦‹ï¼š</strong>äººé«”æ˜¯å¯è¢«é‡æ–°èª¿å’Œçš„èƒ½é‡ç³»çµ±â€”â€”èº«ã€å¿ƒã€ç¥ç¶“èˆ‡å…ç–«å½¼æ­¤é€£å‹•</li>
                        </ul>
                        <div class="science-image">
                            <img src="../imgs/PIC1.png" alt="é‡å­ç³¾çºèˆ‡èº«å¿ƒéˆé€£çµæ¦‚å¿µåœ–" style="width: 100%; height: auto; border-radius: 15px;">
                            <p style="text-align: center; margin-top: 1rem; font-size: 0.9rem; color: var(--text-light);">é‡å­ç³¾çº Ã— èº«å¿ƒéˆæ•´åˆ Ã— ç¥ç¶“å…ç–«å¹³è¡¡</p>
                        </div>
                    </div>
                    <div class="science-note">
                        ä»¥ä¸Šå…§å®¹ç‚ºç§‘æ™®å‘æ•˜äº‹ï¼Œæ´»å‹•ç¾å ´å°‡ç”±åŸ·è¡Œé•·ä»¥è‡¨åºŠè§€é»èˆ‡æ‡‰ç”¨æ¡ˆä¾‹æ·±å…¥èªªæ˜
                    </div>
                </div>
            </div>
        </section>

        <!-- Video Section -->
        <section class="section section-alt" id="videoSection">
             <div class="container">
    <h2 class="section-title">æˆ‘å€‘ç‚ºæ‚¨æº–å‚™çš„ã€Œæœªä¾†å¥åº·ä¸–ç•Œã€</h2>
    <div class="video-container">
      <iframe
        src="https://www.youtube.com/embed/G9RoWlrIHyc?start=28&rel=0&modestbranding=1&playsinline=1"
        title="å“ç‰Œæ–°å½¢è±¡å½±ç‰‡"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        allowfullscreen>
      </iframe>
    </div>
    <div style="text-align: center; margin-top: 2rem;">
      <p style="margin-bottom: 1.5rem; font-size: 1.1rem;">é€éå½±åƒï¼Œæ„Ÿå—æˆ‘å€‘å°å¥åº·çš„ç†æƒ³èˆ‡å¯¦è¸</p>
    </div>
  </div>
        </section>

        <!-- Event Preview -->
        <section class="section">
            <div class="container">
                <div class="event-card">
                    <h3 class="event-title">11/28ï¼ˆå››ï¼‰å°åŒ—æ™¶è¯é…’åº—ï½œVIP é‚€è«‹ç››å®´</h3>
                    <ul class="event-highlights">
                        <li>åŸ·è¡Œé•·å°ˆæ¥­æ¼”èªªï¼šå¾ CNTã€AI åˆ°é‡å­å¥åº·çš„è‡¨åºŠæ‡‰ç”¨</li>
                        <li>ç¬¬å…­ä»£ç´…å…‰æ¥µæ™ºè¡£ç¾å ´å±•ç¤ºèˆ‡é«”é©—</li>
                        <li>è­·æ‚¨ç©©å¹³è¡¡è¡£ï¼šè®“å¥åº·ä¿é¤Šåœ¨ç¡çœ ä¸­è‡ªå‹•ç™¼ç”Ÿ</li>
                    </ul>
                    <div class="countdown">
                        <div class="countdown-item">
                            <span class="countdown-number" id="days">--</span>
                            <span class="countdown-label">å¤©</span>
                        </div>
                        <div class="countdown-item">
                            <span class="countdown-number" id="hours">--</span>
                            <span class="countdown-label">å°æ™‚</span>
                        </div>
                        <div class="countdown-item">
                            <span class="countdown-number" id="minutes">--</span>
                            <span class="countdown-label">åˆ†é˜</span>
                        </div>
                        <div class="countdown-item">
                            <span class="countdown-number" id="seconds">--</span>
                            <span class="countdown-label">ç§’</span>
                        </div>
                    </div>
                    <div style="text-align: center; margin-top: 2rem;">
                        <button class="btn btn-primary" onclick="goToPage(2)">ç«‹å³æŸ¥çœ‹ VIP èªªæ˜æœƒç´°ç¯€</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-links">
                <a href="#">éš±ç§æ”¿ç­–</a>
                <a href="#">æœå‹™æ¢æ¬¾</a>
                <a href="#">å®¢æœä¸­å¿ƒ</a>
                <a href="#">LINE å®˜æ–¹å¸³è™Ÿ</a>
            </div>
            <p style="opacity: 0.7; margin-top: 1rem;">Â© 2025 æ™ºå¹³è¡¡å¥åº·é›†åœ˜ï¼ˆåŸæ‹‰è²çˆ¾ç”Ÿé†«ï¼‰</p>
        </footer>
    </div>

    <!-- Page 2: Event Details & Registration -->
    <div id="page2" class="page">
        <!-- Event Overview -->
        <section class="hero" style="min-height: 60vh;">
            <div class="hero-content">
                <h1>11/28ï¼ˆå››ï¼‰å°åŒ—æ™¶è¯é…’åº—<br>VIP é‚€è«‹ç››å®´</h1>
                <p style="font-size: 1.2rem; margin-bottom: 2rem;">
                    æ™‚é–“ï¼š2025å¹´11æœˆ28æ—¥ï¼ˆå››ï¼‰14:00<br>
                    åœ°é»ï¼šå°åŒ—æ™¶è¯é…’åº—<br>
                    æ†‘VIPé‚€è«‹å‡½å…¥å ´ï¼Œè¬çµ•è¨ªå®¢!
                </p>
                <button class="btn btn-primary" onclick="scrollToForm()">ç«‹å³å ±åä¿ç•™å¸­æ¬¡</button>
            </div>
        </section>

        <!-- Highlights -->
        <section class="section section-alt">
            <div class="container">
                <h2 class="section-title">æ´»å‹•äº®é»</h2>
                <div class="benefits-grid">
                    <div class="benefit-card">
                        <div class="benefit-icon">ğŸ¤</div>
                        <h3 class="benefit-title">åŸ·è¡Œé•· Keynote</h3>
                        <p class="benefit-desc">é‡å­Ã—ç¥ç¶“Ã—å…ç–«çš„åŒèª¿<br>å¾ç§‘å­¸åˆ°è‡¨åºŠçš„å®Œæ•´æ­å¯†</p>
                    </div>
                    <div class="benefit-card">
                        <div class="benefit-icon">ğŸ’¡</div>
                        <h3 class="benefit-title">ç¬¬å…­ä»£ç´…å…‰æ¥µæ™ºè¡£</h3>
                        <p class="benefit-desc">è—ç‰™Ã—é›²ç«¯<br>é ç«¯å³æ™‚èª¿æ•´ï¼Œç„¡éœ€ç­‰å¾…</p>
                    </div>
                    <div class="benefit-card">
                        <div class="benefit-icon">ğŸ˜´</div>
                        <h3 class="benefit-title">è­·æ‚¨ç©©å¹³è¡¡è¡£</h3>
                        <p class="benefit-desc">ç¡çœ ä¸­å®Œæˆæ—¥å¸¸è‡ªèª¿ç¯€<br>è®“å¥åº·ä¿é¤Šé›¶è² æ“”</p>
                    </div>
                    <div class="benefit-card">
                        <div class="benefit-icon">ğŸ¤–</div>
                        <h3 class="benefit-title">AI Ã— ç©¿æˆ´</h3>
                        <p class="benefit-desc">HRV / ç”Ÿæ´»æ•¸æ“š Ã— é†«å¸«å°è©±<br>24 å°æ™‚æ™ºæ…§ç…§è­·</p>
                    </div>
                </div>
            </div>
        </section>
  
        <!-- Timeline -->
        <section class="section">
            <div class="container">
                <h2 class="section-title">æ´»å‹•è­°ç¨‹</h2>
                <div class="timeline">
                    <div class="timeline-item">
                        <div class="timeline-content">
                            <div class="timeline-time">13:30 - 14:00</div>
                            <h4>å…¥å¸­ & è¿è³“</h4>
                            <p>VIP å°ˆå±¬æ¥å¾…ï¼Œè¼•é¬†äº¤æµ</p>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-content">
                            <div class="timeline-time">14:00 - 15:00</div>
                            <h4>åŸ·è¡Œé•· Keynote</h4>
                            <p>å¾ CNTã€AI åˆ°é‡å­å¥åº·çš„è‡¨åºŠæ‡‰ç”¨</p>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-content">
                            <div class="timeline-time">15:00 - 15:30</div>
                            <h4>æ–°å“å±•ç¤º & é«”é©—</h4>
                            <p>ç¬¬å…­ä»£ç´…å…‰æ¥µæ™ºè¡£ã€è­·æ‚¨ç©©å¹³è¡¡è¡£ç¾å ´è©¦ç©¿</p>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-content">
                            <div class="timeline-time">15:30 - 16:30</div>
                            <h4>VIP Q&A & å°ˆå±¬ç¦®é‡èªªæ˜</h4>
                            <p>ä¸€å°ä¸€è«®è©¢èˆ‡æœƒå“¡æ¬Šç›Šä»‹ç´¹</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Registration Form -->
        <section class="section section-alt" id="registrationForm">
            <div class="container">
                <h2 class="section-title">VIP å ±åè¡¨å–®</h2>
                <div class="form-container">
                    <div class="form-progress">
                        <div class="progress-step active">
                            <div class="progress-indicator">1</div>
                            <small>åŸºæœ¬è³‡æ–™</small>
                        </div>
                        <div class="progress-step">
                            <div class="progress-indicator">2</div>
                            <small>é—œæ³¨ä¸»é¡Œ</small>
                        </div>
                        <div class="progress-step">
                            <div class="progress-indicator">3</div>
                            <small>é«”é©—é ç´„</small>
                        </div>
                    </div>

                    <form id="vipForm">
                        <!-- Step 1 -->
                        <div class="form-step active" data-step="1">
                            <div class="form-group">
                                <label for="name">å§“å *</label>
                                <input type="text" id="name" name="name" required placeholder="è«‹è¼¸å…¥æ‚¨çš„å§“å">
                            </div>
                            <div class="form-group">
                                <label for="phone">æ‰‹æ©Ÿ *</label>
                                <input type="tel" id="phone" name="phone" required placeholder="0912-345-678">
                            </div>
                            <div class="form-group">
                                <label for="email">Email *</label>
                                <input type="email" id="email" name="email" required placeholder="example@email.com">
                            </div>
                            <button type="button" class="btn btn-primary" onclick="nextStep(2)" style="width: 100%;">ä¸‹ä¸€æ­¥</button>
                        </div>

                        <!-- Step 2 -->
                        <div class="form-step" data-step="2">
                            <div class="form-group">
                                <label for="interests">æ‚¨æœ€é—œæ³¨çš„ä¸»é¡Œï¼ˆå¯è¤‡é¸ï¼‰</label>
                                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; margin-top: 1rem;">
                                    <label class="checkbox-group" style="font-weight: normal;">
                                        <input type="checkbox" name="interests" value="redlight"> ç´…å…‰æ¥µæ™ºè¡£
                                    </label>
                                    <label class="checkbox-group" style="font-weight: normal;">
                                        <input type="checkbox" name="interests" value="sleep"> ç¡çœ å¹³è¡¡è¡£
                                    </label>
                                    <label class="checkbox-group" style="font-weight: normal;">
                                        <input type="checkbox" name="interests" value="ai"> AI ç©¿æˆ´ç…§è­·
                                    </label>
                                    <label class="checkbox-group" style="font-weight: normal;">
                                        <input type="checkbox" name="interests" value="overall"> ç›¸æ‡‰ç¥ç¶“èª¿ç¯€ç™‚æ³•ã€ç¥ç¶“èª¿ç¯€
                                    </label>
                                </div>
                            </div>
                            <div style="display: flex; gap: 1rem;">
                                <button type="button" class="btn btn-secondary" onclick="prevStep(1)" style="flex: 1;">ä¸Šä¸€æ­¥</button>
                                <button type="button" class="btn btn-primary" onclick="nextStep(3)" style="flex: 1;">ä¸‹ä¸€æ­¥</button>
                            </div>
                        </div>

                        <!-- Step 3 -->
                        <div class="form-step" data-step="3">
                            <div class="form-group">
                                <label for="experience">æ˜¯å¦éœ€è¦ç¾å ´é«”é©—æ™‚æ®µï¼Ÿ</label>
                                <select id="experience" name="experience">
                                    <option value="">ä¸éœ€è¦</option>
                                    <option value="19:40-20:00">19:40 - 20:00</option>
                                    <option value="20:00-20:20">20:00 - 20:20</option>
                                    <option value="20:20-20:30">20:20 - 20:30</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="notes">å…¶ä»–éœ€æ±‚æˆ–å‚™è¨»</label>
                                <textarea id="notes" name="notes" rows="4" placeholder="å¦‚æœ‰ç‰¹æ®Šéœ€æ±‚ï¼Œè«‹å‘Šè¨´æˆ‘å€‘..."></textarea>
                            </div>
                            <div class="form-group">
                                <label class="checkbox-group">
                                    <input type="checkbox" name="agreement" required>
                                    <span>æˆ‘åŒæ„å€‹äººè³‡æ–™ä½¿ç”¨æ¢æ¬¾åŠæ¥æ”¶æ´»å‹•é€šçŸ¥</span>
                                </label>
                            </div>
                            <div style="display: flex; gap: 1rem;">
                                <button type="button" class="btn btn-secondary" onclick="prevStep(2)" style="flex: 1;">ä¸Šä¸€æ­¥</button>
                                <button type="submit" class="btn btn-primary" style="flex: 1;">ç¢ºèªé€å‡º</button>
                            </div>
                        </div>
                    </form>

                    <div class="success-message" id="successMessage">
                        <h3>âœ“ å ±åæˆåŠŸï¼</h3>
                        <p>æ‚¨çš„å°ˆå±¬åºè™Ÿ</p>
                        <div class="success-code">VIP-2025-1128</div>
                        <p style="margin: 1.5rem 0;">æˆ‘å€‘å·²å°‡ç¢ºèªä¿¡ç™¼é€è‡³æ‚¨çš„ä¿¡ç®±<br>æ´»å‹•å‰å°‡å†æ¬¡æé†’æ‚¨</p>
                        <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                            <button class="btn btn-secondary" onclick="downloadICS()">åŠ å…¥è¡Œäº‹æ›†</button>
                            <button class="btn btn-primary" >æŸ¥çœ‹ç›¸é—œæ¡ˆä¾‹</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Personalized Cases -->
        <section class="section">
            <div class="container">
                <h2 class="section-title">æ‚¨å¯èƒ½æ„Ÿèˆˆè¶£çš„çœŸå¯¦æ”¹è®Š</h2>
                <p style="text-align: center; color: var(--text-light); margin-bottom: 3rem; font-size: 1.1rem;">
                    é€™äº›æ•…äº‹ä¹‹æ‰€ä»¥å‹•äººï¼Œæ˜¯å› ç‚ºä»–å€‘å’Œä½ ä¸€æ¨£ï¼Œé¸æ“‡äº†é‡æ–°æŒæ¡å¥åº·ç¯€å¥
                </p>
                <div class="cases-grid">
                    <div class="case-card" onclick="showLoginPrompt()">
                        <div class="case-thumbnail">
                            ğŸ¬
                            <div class="case-lock">ğŸ”’</div>
                        </div>
                        <div class="case-content">
                            <h4 class="case-title">é•·æœŸå¤±çœ çš„å·¥ç¨‹å¸«</h4>
                            <p class="case-desc">10å¹´å®‰çœ è—¥å²ï¼Œé€éç›¸æ‡‰ç¥ç¶“èª¿ç¯€æ‰¾å›è‡ªç„¶ç¡çœ </p>
                            <span class="case-duration">å®Œæ•´ç‰ˆ 8:32ï½œéœ€ç™»å…¥è§€çœ‹</span>
                        </div>
                    </div>
                    <div class="case-card" onclick="showLoginPrompt()">
                        <div class="case-thumbnail">
                            ğŸ¬
                            <div class="case-lock">ğŸ”’</div>
                        </div>
                        <div class="case-content">
                            <h4 class="case-title">é ‘å›ºå‹åé ­ç—›æ‚£è€…</h4>
                            <p class="case-desc">æ¯é€±ç™¼ä½œ3-4æ¬¡ï¼Œç¾åœ¨å·²æ¸›å°‘è‡³æ¯æœˆ1æ¬¡</p>
                            <span class="case-duration">å®Œæ•´ç‰ˆ 6:15ï½œéœ€ç™»å…¥è§€çœ‹</span>
                        </div>
                    </div>
                    <div class="case-card" onclick="showLoginPrompt()">
                        <div class="case-thumbnail">
                            ğŸ¬
                            <div class="case-lock">ğŸ”’</div>
                        </div>
                        <div class="case-content">
                            <h4 class="case-title">è‡ªå¾‹ç¥ç¶“å¤±èª¿çš„ä¼æ¥­ä¸»</h4>
                            <p class="case-desc">å¿ƒæ‚¸ã€èƒ¸æ‚¶ã€ç„¦æ…®ï¼Œé€éèª¿ç¯€é‡ç²å¹³è¡¡äººç”Ÿ</p>
                            <span class="case-duration">å®Œæ•´ç‰ˆ 10:05ï½œéœ€ç™»å…¥è§€çœ‹</span>
                        </div>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 3rem;">
                    <button class="btn btn-primary">ç™»å…¥/è¨»å†Šè§€çœ‹å®Œæ•´æ¡ˆä¾‹</button>
                </div>
            </div>
        </section>

        <!-- FAQ -->
        <section class="section section-alt">
            <div class="container">
                <h2 class="section-title">å¸¸è¦‹å•é¡Œ</h2>
                <div style="max-width: 800px; margin: 0 auto;">
                    <div style="background: var(--white); border-radius: 15px; padding: 2rem; margin-bottom: 1.5rem; box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);">
                        <h4 style="color: var(--primary); margin-bottom: 1rem;">æˆ‘å¯ä»¥å¸¶å®¶äººå—ï¼Ÿ</h4>
                        <p style="color: var(--text-light);">æ­¤ç‚º VIP å°ˆå±¬é‚€è«‹ï¼Œè‹¥éœ€æ”œä¼´è«‹åœ¨å ±åè¡¨å‚™è¨»æ¬„è¨»æ˜ï¼Œæˆ‘å€‘å°‡ç‚ºæ‚¨å®‰æ’ã€‚</p>
                    </div>
                    <div style="background: var(--white); border-radius: 15px; padding: 2rem; margin-bottom: 1.5rem; box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);">
                        <h4 style="color: var(--primary); margin-bottom: 1rem;">ç„¡æ³•æº–æ™‚åˆ°ï¼Œæ˜¯å¦ä¿ç•™å¸­æ¬¡ï¼Ÿ</h4>
                        <p style="color: var(--text-light);">å»ºè­°æå‰å‘ŠçŸ¥ï¼Œæˆ‘å€‘æœƒç›¡åŠ›ç‚ºæ‚¨ä¿ç•™ã€‚è‹¥æ™šåˆ°è¶…é30åˆ†é˜å¯èƒ½ç„¡æ³•åƒèˆ‡å®Œæ•´é«”é©—ã€‚</p>
                    </div>
                    <div style="background: var(--white); border-radius: 15px; padding: 2rem; margin-bottom: 1.5rem; box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);">
                        <h4 style="color: var(--primary); margin-bottom: 1rem;">é«”é©—æ˜¯å¦éœ€è¦æ›´è¡£ï¼Ÿæ˜¯å¦æœ‰ç§å¯†è©¦æˆ´å€ï¼Ÿ</h4>
                        <p style="color: var(--text-light);">æˆ‘å€‘æä¾›ç¨ç«‹çš„ç§å¯†é«”é©—å€ï¼Œå°ˆæ¥­äººå“¡æœƒå”åŠ©æ‚¨é€²è¡Œé«”é©—ï¼Œç„¡éœ€æ“”å¿ƒéš±ç§å•é¡Œã€‚</p>
                    </div>
                    <div style="background: var(--white); border-radius: 15px; padding: 2rem; box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);">
                        <h4 style="color: var(--primary); margin-bottom: 1rem;">å¦‚ä½•å–æ¶ˆæˆ–æ”¹æœŸï¼Ÿ</h4>
                        <p style="color: var(--text-light);">è«‹æ–¼æ´»å‹•å‰3å¤©é€éå®¢æœå°ˆç·šæˆ– LINE å®˜æ–¹å¸³è™Ÿå‘ŠçŸ¥ï¼Œæˆ‘å€‘å°‡å”åŠ©æ‚¨è™•ç†ã€‚</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Map & Contact -->
        <section class="section">
  <div class="container">
    <h2 class="section-title">äº¤é€šè³‡è¨Š</h2>
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; align-items: start;">
      <div>
        <h3 style="color: var(--primary); margin-bottom: 1rem;">å°åŒ—æ™¶è¯é…’åº—</h3>
        <p style="margin-bottom: 1rem; line-height: 1.8;">
          <strong>åœ°å€ï¼š</strong>å°åŒ—å¸‚ä¸­å±±å€ä¸­å±±åŒ—è·¯äºŒæ®µ39å··3è™Ÿ<br>
          <strong>æ·é‹ï¼š</strong>ä¸­å±±ç«™2è™Ÿå‡ºå£æ­¥è¡Œ3åˆ†é˜<br>
          <strong>åœè»Šï¼š</strong>é£¯åº—åœ°ä¸‹åœè»Šå ´
        </p>
        <div style="margin-top: 2rem;">
          <h4 style="color: var(--primary); margin-bottom: 1rem;">éœ€è¦å”åŠ©ï¼Ÿ</h4>
          <p style="color: var(--text-light);">
            å®¢æœå°ˆç·šï¼š0800-080-760<br>
            LINE IDï¼š@smartbalance<br>
            æœå‹™æ™‚é–“ï¼šé€±ä¸€è‡³é€±å…­ 9:00-18:00
          </p>
        </div>
      </div>

      <!-- âœ… Google Map ç›´æ¥åµŒå…¥å€ -->
      <div style="border-radius: 15px; overflow: hidden; min-height: 300px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);">
        <iframe
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3614.5739620669264!2d121.52237547604953!3d25.055372237244066!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3442a95f0f5d1b29%3A0x8c981f868fdfab16!2z5Y-w5YyX6aSo5YyX5ZyS5Y2A5Lit5bGx5Y2X5Y2A5Y-w5YyX6Lev5LiA5q61MznomZ8!5e0!3m2!1szh-TW!2stw!4v1730297452347!5m2!1szh-TW!2stw"
          width="100%"
          height="400"
          style="border:0;"
          allowfullscreen=""
          loading="lazy"
          referrerpolicy="no-referrer-when-downgrade">
        </iframe>
      </div>
    </div>
  </div>
</section>


<script>
/* ===================== åŸºæœ¬å·¥å…· ===================== */
const $ = (sel, root=document) => root.querySelector(sel);
const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));

/* ===================== åˆ†é åˆ‡æ› ===================== */
function goToPage(n){
  const pages = $$('.page');
  pages.forEach(p=>p.classList.remove('active'));
  const target = document.getElementById('page'+n);
  if(target){ target.classList.add('active'); window.scrollTo({top:0,behavior:'smooth'}); }
  else { alert('æ­¤å€å°šåœ¨å»ºç½®ä¸­ã€‚'); }
}

function scrollToForm(){
  goToPage(2);
  setTimeout(()=>$('#registrationForm')?.scrollIntoView({behavior:'smooth'}), 150);
}

/* ===================== å€’æ•¸è¨ˆæ™‚ ===================== */
(function initCountdown(){
  const target = new Date('2025-11-28T18:30:00+08:00'); // æ´»å‹•é–‹å§‹æ™‚é–“ï¼ˆå°åŒ—ï¼‰
  const ids = {days:'#days', hours:'#hours', minutes:'#minutes', seconds:'#seconds'};
  const pad = n => String(n).padStart(2,'0');

  function tick(){
    const now = new Date();
    let ms = target - now;
    if(ms < 0) ms = 0;
    const s = Math.floor(ms/1000);
    const d = Math.floor(s/86400);
    const h = Math.floor((s%86400)/3600);
    const m = Math.floor((s%3600)/60);
    const sec = s%60;
    $(ids.days) && ($(ids.days).textContent = pad(d));
    $(ids.hours) && ($(ids.hours).textContent = pad(h));
    $(ids.minutes) && ($(ids.minutes).textContent = pad(m));
    $(ids.seconds) && ($(ids.seconds).textContent = pad(sec));
  }
  tick();
  setInterval(tick, 1000);
})();

/* ===================== å½±ç‰‡å ä½ â†’ çœŸå½±ç‰‡ ===================== */
(function initVideo(){
  const placeholder = $('#videoSection .video-placeholder');
  // TODO: æ›æˆä½ çš„å“ç‰Œå½±ç‰‡ç¶²å€ï¼ˆYouTube / Vimeo / è‡ªæ¶ mp4ï¼‰
  const VIDEO_URL = ''; // ä¾‹å¦‚: 'https://www.youtube.com/embed/XXXXXXXX?autoplay=1&mute=1'
  if(!placeholder) return;
  placeholder.style.cursor = 'pointer';
  placeholder.addEventListener('click', ()=> {
    if(!VIDEO_URL){ alert('è«‹åœ¨ç¨‹å¼ç¢¼ä¸­çš„ VIDEO_URL æ”¾å…¥æ‚¨çš„å½±ç‰‡é€£çµ'); return; }
    const wrapper = placeholder.parentElement;
    wrapper.innerHTML = `<iframe src="${VIDEO_URL}" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>`;
  });
})();

/* ===================== è¡¨å–®å¤šæ­¥é©Ÿæµç¨‹ ===================== */
let currentStep = 1;
const formEl = $('#vipForm');
const successBox = $('#successMessage');

function setStep(step){
  currentStep = step;
  $$('.form-step').forEach(s => s.classList.remove('active'));
  $(`.form-step[data-step="${step}"]`)?.classList.add('active');
  // é€²åº¦æ¢
  const steps = $$('.form-progress .progress-step');
  steps.forEach((st, idx)=>{
    st.classList.remove('active','completed');
    if(idx+1 < step) st.classList.add('completed');
    if(idx+1 === step) st.classList.add('active');
  });
}

function nextStep(step){
  // ç°¡æ˜“é©—è­‰ï¼šç¬¬ä¸€æ­¥ä¸‰æ¬„çš†éœ€å¡«
  if(currentStep===1){
    const name = $('#name').value.trim();
    const phone = $('#phone').value.trim();
    const email = $('#email').value.trim();
    if(!name || !phone || !email){ alert('è«‹å®Œæ•´å¡«å¯«ã€Œå§“åï¼æ‰‹æ©Ÿï¼Emailã€ã€‚'); return; }
  }
  setStep(step);
}
function prevStep(step){ setStep(step); }

function updateProgress(){ /* å·²æ•´åˆåœ¨ setStep */ }

/* è¡¨å–®é€å‡º */
formEl?.addEventListener('submit', (e)=>{
  e.preventDefault();
  const data = Object.fromEntries(new FormData(formEl).entries());

  // åŒæ„æ¢æ¬¾æª¢æŸ¥
  if(!formEl.querySelector('input[name="agreement"]:checked') && !formEl.agreement?.checked){
    alert('è«‹å‹¾é¸åŒæ„å€‹è³‡æ¢æ¬¾èˆ‡æ´»å‹•é€šçŸ¥ã€‚'); return;
  }

  // å„²å­˜åˆ° localStorageï¼ˆå¯ä¾›å¾Œç«¯å‰å…ˆæš«å­˜ï¼‰
  localStorage.setItem('vip_form', JSON.stringify({
    ts: Date.now(),
    ...data
  }));

  // é¡¯ç¤ºæˆåŠŸè¨Šæ¯
  successBox?.classList.add('show');
  formEl.style.display = 'none';
  // è‡ªå‹•æ»¾åˆ°æˆåŠŸå¡
  successBox?.scrollIntoView({behavior:'smooth', block:'center'});
});

/* ===================== .ics ä¸‹è¼‰ ===================== */
function downloadICS(){
  const title = 'æ™ºå¹³è¡¡å¥åº·é›†åœ˜ VIP é‚€è«‹ç››å®´';
  const locationText = 'å°åŒ—æ™¶è¯é…’åº—ï¼ˆå°åŒ—å¸‚ä¸­å±±å€ä¸­å±±åŒ—è·¯äºŒæ®µ39å··3è™Ÿï¼‰';
  const start = '20251128T183000'; // ä»¥ç•¶åœ°æ™‚é–“é¡¯ç¤º
  const end   = '20251128T203000';

  const ics =
`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//WiseBalance//VIP//EN
CALSCALE:GREGORIAN
BEGIN:VEVENT
UID:${Date.now()}@wisebalance
DTSTAMP:${toUTCStamp(new Date())}
SUMMARY:${title}
LOCATION:${locationText}
DESCRIPTION:è«‹æº–æ™‚å‡ºå¸­ã€‚ç¾å ´å«åŸ·è¡Œé•·Keynoteèˆ‡ç¬¬å…­ä»£ç´…å…‰æ¥µæ™ºè¡£ã€è­·æ‚¨ç©©å¹³è¡¡è¡£å±•ç¤ºã€‚
DTSTART;TZID=Asia/Taipei:${start}
DTEND;TZID=Asia/Taipei:${end}
END:VEVENT
END:VCALENDAR`;
  const blob = new Blob([ics], {type:'text/calendar;charset=utf-8'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url; a.download = 'VIP_Event_1128.ics'; a.click();
  URL.revokeObjectURL(url);

  function toUTCStamp(d){
    const pad = n => String(n).padStart(2,'0');
    return d.getUTCFullYear()
      + pad(d.getUTCMonth()+1)
      + pad(d.getUTCDate()) + 'T'
      + pad(d.getUTCHours())
      + pad(d.getUTCMinutes())
      + pad(d.getUTCSeconds()) + 'Z';
  }
}

/* è®“ .ics ä¸‹è¼‰éˆ•å¯ç”¨ï¼ˆæˆåŠŸå¡çš„æŒ‰éˆ•å·²ç¶ onclickï¼Œä½†é€™è£¡ä¿éšªå†æ›ä¸€æ¬¡ï¼‰ */
window.downloadICS = downloadICS;

/* ===================== å€‹æ¡ˆå½±ç‰‡é–å®šæç¤º ===================== */
function showLoginPrompt(){
  alert('è«‹å…ˆç™»å…¥ï¼è¨»å†Šæœƒå“¡ä»¥è§€çœ‹å®Œæ•´æ¡ˆä¾‹ã€‚');
}
window.showLoginPrompt = showLoginPrompt;

/* ===================== URL åƒæ•¸é å¡« & VIP è­˜åˆ¥ ===================== */
(function prefillFromQuery(){
  const q = new URLSearchParams(location.search);
  const vipId = q.get('vip_id') || q.get('vip') || '';
  if(vipId) localStorage.setItem('vip_id', vipId);

  const name = q.get('name');
  const phone = q.get('phone');
  const email = q.get('email');

  if(name) $('#name').value = decodeURIComponent(name);
  if(phone) $('#phone').value = decodeURIComponent(phone);
  if(email) $('#email').value = decodeURIComponent(email);
})();

/* ===================== Exit Intent å½ˆçª—ï¼ˆJS å‹•æ…‹å»ºç«‹ï¼‰ ===================== */
(function initExitIntent(){
  // å»ºç«‹ DOM
  const overlay = document.createElement('div');
  overlay.className = 'popup-overlay';
  const popup = document.createElement('div');
  popup.className = 'exit-popup';
  popup.innerHTML = `
    <button class="close-popup" aria-label="close">&times;</button>
    <h3 style="margin-bottom:0.5rem;color:var(--primary)">å¸¶èµ°ä½ çš„å°ˆå±¬å¸­æ¬¡</h3>
    <p style="color:var(--text-light);margin:0.5rem 0 1rem">ç•™ä¸‹è¯çµ¡æ–¹å¼ï¼Œæˆ‘å€‘æœƒæé†’ä½  11/28 ç•¶å¤©æº–æ™‚å…¥å¸­</p>
    <div style="display:flex;gap:0.5rem; margin-top:1rem;">
      <input id="popupPhone" type="tel" placeholder="æ‰‹æ©Ÿè™Ÿç¢¼" style="flex:1;padding:0.8rem;border:1px solid #e2e8f0;border-radius:10px">
      <button id="popupSave" class="btn btn-primary">ä¿ç•™å¸­æ¬¡</button>
    </div>
  `;
  document.body.appendChild(overlay);
  document.body.appendChild(popup);

  const show = ()=>{
    if(localStorage.getItem('vip_form')) return; // å·²å ±åä¸å½ˆ
    overlay.classList.add('show'); popup.classList.add('show');
  };
  const hide = ()=>{
    overlay.classList.remove('show'); popup.classList.remove('show');
  };
  popup.querySelector('.close-popup').addEventListener('click', hide);
  overlay.addEventListener('click', hide);
  popup.querySelector('#popupSave').addEventListener('click', ()=>{
    const v = $('#popupPhone').value.trim();
    if(!v){ alert('è«‹è¼¸å…¥æ‰‹æ©Ÿè™Ÿç¢¼'); return; }
    localStorage.setItem('vip_exit_phone', v);
    hide();
    goToPage(2);
    scrollToForm();
    $('#phone').value = v;
  });

  // æ»‘é¼ æ¥è¿‘é é ‚è§¸ç™¼
  document.addEventListener('mouseout', (e)=>{
    if(!e.relatedTarget && e.clientY <= 0) show();
  });
  // åœç•™ 20 ç§’ä¹Ÿè§¸ç™¼ä¸€æ¬¡
  setTimeout(show, 20000);
})();

/* ===================== å°èˆªæŒ‰éˆ•å°å‡ºï¼ˆçµ¦ HTML inline onclick ç”¨ï¼‰ ===================== */
window.goToPage = goToPage;
window.scrollToForm = scrollToForm;
window.nextStep = nextStep;
window.prevStep = prevStep;

/* ===================== åˆå§‹åŒ–ï¼šç¢ºä¿ç¬¬ä¸€æ­¥é¡¯ç¤º ===================== */
document.addEventListener('DOMContentLoaded', ()=>{
  setStep(1);
});
</script>
