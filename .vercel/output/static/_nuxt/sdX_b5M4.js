import{H as w}from"./DncpXueh.js";import{D as P}from"./BWZ9gJ2c.js";import{_ as R}from"./-OuEz4cf.js";import{_ as S}from"./C4EKiFTB.js";import{J as T,r as d,v as n,z as g,M as B,K as y,x as a,L as h,U as N,y as x,t as o}from"./D70xjexz.js";import{a as A}from"./CCb-kr4I.js";import{u as M}from"./t-MFjoUR.js";import{_ as V}from"./DlAUqK2U.js";import"./DNAPM-2u.js";const U=""+new URL("useInfo.Bo9O3Ib7.mp4",import.meta.url).href,C={setup(){const l=T(),r=l.currentRoute.value,c=decodeURIComponent(r.params.clothType);M();const t=["三效深眠衣","雙效紅光活力衣","全效調節衣","居家治療儀"],v=d("下一步");t.includes(c)||(window.location.href="/usageHistory");const _=d([]),u=d([]),m=d(!1),p=d(!1),f=()=>{l.push("/usageHistory")},e=()=>{l.push(`/usage/${c}`)},i=localStorage.getItem("userData"),{MID:H,Token:I,MAID:L,Mobile:k,Name:F}=i?JSON.parse(i):{};if(!H||!I||!L||!k){l.push("/");return}const D=async()=>{try{const s=await A.post("https://23700999.com:8081/HMA/API_Use2.jsp",{MID:H,Token:I,MAID:L,Mobile:k,ProductName:c});s.status===200?(console.log(s.data),c==="雙效紅光活力衣"&&(m.value=!0),_.value=s.data.Product.Desc1List,u.value=s.data.Product.Desc2List,_.value.length===0&&u.value.length===0&&(window.location.href="/usageHistory")):console.error("Unexpected response status:",s.status)}catch(s){console.error("API request failed:",s)}};return(async()=>{p.value=!0,await D(),p.value=!1})(),{goPre:f,goNext:e,productName:c,usageHistoryInfoList:_,precautionsList:u,videoShow:m,loading:p,nextText:v}}},b={class:"usageHistoryInfoWrap"},J={class:"usageHistoryWrap"},O={key:0,class:"usageHistoryVideo",src:U,controls:"",autoplay:"",playsinline:""},W={class:"usageHistoryInfoList"},j={key:1,class:"precautionsText"},q={class:"precautionsList"},z={class:"usageHistoryInfoBtnGroup"};function E(l,r,c,t,v,_){const u=w,m=P,p=R,f=S;return o(),n(h,null,[g(u),g(m),t.loading?(o(),B(p,{key:0})):y("",!0),a("div",b,[g(f,{Text:"穿衣紀錄",link:"/usageHistory"}),a("div",J,[r[1]||(r[1]=a("h3",null,"產品使用說明",-1)),t.videoShow?(o(),n("video",O)):y("",!0),a("ul",W,[(o(!0),n(h,null,N(t.usageHistoryInfoList,(e,i)=>(o(),n("li",{key:i},x(e),1))),128))]),t.precautionsList.length>0?(o(),n("h3",j," 注意事項 ")):y("",!0),a("ul",q,[(o(!0),n(h,null,N(t.precautionsList,(e,i)=>(o(),n("li",{key:i},x(e),1))),128))])])]),a("div",z,[a("button",{class:"nextBtn",onClick:r[0]||(r[0]=(...e)=>t.goNext&&t.goNext(...e))},x(t.nextText),1)])],64)}const st=V(C,[["render",E],["__scopeId","data-v-73fd2313"]]);export{st as default};
